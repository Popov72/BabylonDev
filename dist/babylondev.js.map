{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/babylonjs-gui/babylon.gui.min.js","webpack:///./node_modules/babylonjs-materials/babylonjs.materials.min.js","webpack:///./node_modules/fast-memoize/src/index.js","webpack:///./node_modules/lodash/lodash.js","webpack:///./node_modules/re-resizable/lib/index.js","webpack:///./node_modules/react-draggable/build/web/react-draggable.min.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Browser.ts","webpack:///./src/CSM/CSM.ts","webpack:///./src/CSM/CSMGUI.tsx","webpack:///./src/CSM/GlobalGUI.tsx","webpack:///./src/CSM/SplitBase.ts","webpack:///./src/CSM/SplitBaseGUI.tsx","webpack:///./src/CSM/StandardShadow.ts","webpack:///./src/CSM/StandardShadowGUI.tsx","webpack:///./src/CSM/csmShadowGenerator.ts","webpack:///./src/CSM/csmShadowMap.ts","webpack:///./src/CSM/index.ts","webpack:///./src/CSM2/CSM.ts","webpack:///./src/CSM2/CSMGUI.tsx","webpack:///./src/CSM2/GlobalGUI.tsx","webpack:///./src/CSM2/SplitBase.ts","webpack:///./src/CSM2/SplitBaseGUI.tsx","webpack:///./src/CSM2/StandardShadow.ts","webpack:///./src/CSM2/StandardShadowGUI.tsx","webpack:///./src/CSM2/index.ts","webpack:///./src/CSM2/packer.ts","webpack:///./src/DepthMinMax/index.ts","webpack:///./src/DrawEdges/index.ts","webpack:///./src/GUI.tsx","webpack:///./src/Main.ts","webpack:///./src/MainGUI.tsx","webpack:///./src/RTTAndPostProcess/index.ts","webpack:///./src/Raymarching/index.ts","webpack:///./src/Sample.ts","webpack:///./src/SampleBasic.ts","webpack:///./src/ScrollViewer/constants.ts","webpack:///./src/ScrollViewer/index.ts","webpack:///./src/ScrollViewer/utils.ts","webpack:///./src/ScrollViewer2/index.ts","webpack:///./src/Sheen/index.ts","webpack:///./src/SketchfabMarkers/DepthLinearNoShader.ts","webpack:///./src/SketchfabMarkers/DepthLinearShader.ts","webpack:///./src/SketchfabMarkers/DepthNonLinearShader.ts","webpack:///./src/SketchfabMarkers/index.ts","webpack:///./src/Split.ts","webpack:///./src/SplitGUI.tsx","webpack:///./src/Transparency/index.ts","webpack:///./src/Utils.ts","webpack:///./src/allSamples.ts","webpack:///external \"MaterialUI\"","webpack:///external \"MaterialUI.colors\"","webpack:///external \"BABYLON\"","webpack:///external \"jQuery\"","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":[],"mappings":"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A;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C;AAC3C;AACA,2DAA2D;;AAE3D;AACA,+CAA+C;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB,yBAAyB;AACzB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2CAA2C,EAAE;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,eAAe;AACf;;AAEA;AACA;AACA,UAAU;AACV,SAAS;AACT,SAAS;AACT,WAAW;AACX,UAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,KAA0B;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,MAAM;AACnB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,EAAE;AACf,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB;AACA,aAAa,SAAS;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,SAAS;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,MAAM;AACnB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,eAAe,EAAE;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,EAAE;AACf,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,oCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,gBAAgB;AAChB,OAAO;;AAEP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,mBAAmB;AAClC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,gBAAgB,QAAQ;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,gBAAgB,QAAQ;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,eAAe,OAAO,WAAW;AACjC,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,WAAW;AACjC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,WAAW;AACjC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+CAA+C;AACpF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,oEAAoE;AACpE;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C,wCAAwC;AACxC,+DAA+D;AAC/D,iEAAiE;AACjE;AACA;AACA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS,GAAG,SAAS,KAAK,SAAS;AAC3D,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D;AACA,mCAAmC,iBAAiB;AACpD,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,4CAA4C,kBAAkB,EAAE;AAChE;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,kBAAkB,EAAE;AAC3D;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,2BAA2B,EAAE;AACpE;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,2CAA2C,4BAA4B,EAAE;AACzE;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,SAAS,KAAK,SAAS,GAAG,SAAS;AAC7D,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AAClE;AACA,4BAA4B,SAAS,GAAG,SAAS;AACjD;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AAC9E;AACA,8BAA8B,iBAAiB;AAC/C;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,qBAAqB;AACpC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,iCAAiC,SAAS,eAAe,YAAY,EAAE;AACvE;AACA;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,SAAS,eAAe,YAAY,EAAE;AAC3E;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,oCAAoC;AAC9C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,4CAA4C,kBAAkB,EAAE;AAChE;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,qCAAqC;AAC/C,UAAU,qCAAqC;AAC/C,UAAU;AACV;AACA;AACA,uCAAuC,kBAAkB,EAAE;AAC3D;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS,KAAK,SAAS,GAAG,SAAS;AACtD,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AACxE;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS,GAAG,SAAS,GAAG,SAAS;AACnD,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AAChF;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,KAAK,SAAS,GAAG,SAAS;AACpD,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA,uBAAuB,iBAAiB,GAAG,iBAAiB;AAC5D,sBAAsB,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA,eAAe,iBAAiB,GAAG,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc,OAAO,QAAQ,SAAS,GAAG,SAAS,GAAG;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,+BAA+B;AACzC,UAAU,+BAA+B;AACzC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8BAA8B;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA;AACA,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA,oCAAoC,kBAAkB,EAAE;AACxD;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU,gDAAgD;AAC1D,UAAU;AACV;AACA;AACA,kCAAkC,mBAAmB,EAAE;AACvD;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,EAAE;AACjB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,sBAAsB;AACrC;AACA,eAAe,KAAK;AACpB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,UAAU,4BAA4B;AACtC,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,cAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA,cAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA,UAAU,mBAAmB;AAC7B,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,qCAAqC;AACpD;AACA,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,gDAAgD;AAC1D,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA,QAAQ,IAAI;AACZ,cAAc,8BAA8B;AAC5C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,UAAU,+CAA+C;AACzD,UAAU;AACV;AACA;AACA,oCAAoC,kBAAkB,EAAE;AACxD;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,gBAAgB,OAAO;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,mCAAmC;AAC7C,UAAU;AACV;AACA;AACA;AACA,sBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,yBAAyB;AACxC;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU,8BAA8B;AACxC,UAAU;AACV;AACA;AACA,qCAAqC,eAAe,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,iCAAiC;AACrD,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,kDAAkD,kBAAkB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,qBAAqB;AACpC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,6BAA6B,mBAAmB,cAAc,EAAE,EAAE;AAClE;AACA;AACA,6BAA6B,mBAAmB,cAAc,EAAE,EAAE;AAClE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,iCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA,kDAAkD,kBAAkB,EAAE;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,0BAA0B,SAAS;AACnC;AACA;AACA,0BAA0B,SAAS;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,GAAG,SAAS,GAAG,SAAS;AAClD,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,GAAG,SAAS,GAAG,SAAS;AAClD,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,MAAM;AACvB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS;AACpD,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,uBAAuB,OAAO,SAAS,EAAE,GAAG,OAAO,iBAAiB,EAAE;AACtE,cAAc,OAAO,iBAAiB;AACtC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA,qCAAqC,mBAAmB,EAAE;AAC1D;AACA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,qBAAqB,6BAA6B;AAClD,qBAAqB;AACrB;AACA;AACA,yCAAyC,mBAAmB,EAAE;AAC9D;AACA;AACA;AACA,6BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB,OAAO,SAAS;AACrC,6BAA6B,gBAAgB,SAAS,GAAG;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,8BAA8B,gBAAgB,SAAS,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,oBAAoB,EAAE;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,QAAQ;AACR,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,qBAAqB,+BAA+B;AACpD,qBAAqB;AACrB;AACA;AACA,uCAAuC,cAAc,EAAE;AACvD,cAAc,2BAA2B;AACzC;AACA;AACA;AACA,cAAc,2BAA2B;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,gBAAgB,SAAS,GAAG,SAAS;AACrC;AACA;AACA;AACA,gBAAgB,SAAS,GAAG,SAAS;AACrC;AACA;AACA;AACA,cAAc,QAAQ,iBAAiB,GAAG,iBAAiB;AAC3D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;AACpB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,KAAK;;AAEL;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA,gCAAgC;AAChC,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO,WAAW;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA,QAAQ,IAAI;AACZ,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,iBAAiB,QAAQ;AACzB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA,cAAc,QAAQ,QAAQ,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ,QAAQ,EAAE;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,qBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA,iDAAiD,cAAc,EAAE;AACjE;AACA;AACA;AACA,iDAAiD,sBAAsB,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO,WAAW;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,gBAAgB;AAC/B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC,qBAAqB,UAAU;AAC/B;AACA;AACA,sEAAsE,2BAA2B,EAAE;AACnG,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,4DAA4D;AAC5D,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,qDAAqD,2BAA2B,EAAE;AAClF,wCAAwC,aAAa,eAAe,EAAE;AACtE,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,wDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,0DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD,0CAA0C,QAAQ;AAClD,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B;;AAE/B,mCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA,uDAAuD;AACvD;AACA;AACA,6BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,+BAA+B,iCAAiC;AAChE,cAAc;AACd;AACA;AACA,sBAAsB;;AAEtB;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC,aAAa,QAAQ,QAAQ,UAAU,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,gBAAgB,OAAO;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,KAAK;AACpB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,qBAAqB;AACpC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B,UAAU;AACV;AACA;AACA,qCAAqC,mBAAmB,cAAc,EAAE,EAAE;AAC1E,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA,eAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,EAAE;AACnB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,8CAA8C;AACxD,UAAU;AACV;AACA;AACA;AACA,mCAAmC,mCAAmC;AACtE,eAAe,8CAA8C;AAC7D;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,yBAAyB;AACnC,UAAU;AACV;AACA;AACA,oCAAoC,iBAAiB;AACrD,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,yBAAyB;AACnC,UAAU;AACV;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,qBAAqB,EAAE;AACxC,UAAU,OAAO,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,eAAe,OAAO;AACtB,eAAe,OAAO,YAAY;AAClC,eAAe,QAAQ;AACvB,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,qDAAqD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,UAAU,OAAO,SAAS,EAAE;AAC5B,UAAU,OAAO,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,YAAY,EAAE;AACnD,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACpE;AACA,sCAAsC,YAAY,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,EAAE;AACnB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C;AACA,qCAAqC,YAAY,EAAE;AACnD,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,iBAAiB,OAAO;AACxB;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACpE;AACA,qCAAqC,YAAY,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,MAAM,iBAAiB;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,4DAA4D;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yCAAyC;AACtE;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA,MAAM,IAA0E;AAChF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,mCAAO;AACX;AACA,KAAK;AAAA,oGAAC;AACN;AACA;AACA,OAAO,EASJ;AACH,CAAC;;;;;;;;;;;;;;ACvthBY;;AAEb,8CAA8C,cAAc;;AAE5D,+BAA+B,iFAAiF;;AAEhH,YAAY,mBAAO,CAAC,oBAAO;AAC3B,8BAA8B,mBAAO,CAAC,8DAAc;;AAEpD;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wCAAwC,oDAAoD,2CAA2C,qDAAqD;AAC5L;AACA,SAAS;AACT;AACA,SAAS,EAAE;AACX;;AAEA;AACA;AACA;AACA;AACA,4CAA4C,wCAAwC,EAAE;AACtF,uCAAuC,oCAAoC,EAAE;AAC7E,mDAAmD,0CAA0C,EAAE;AAC/F;AACA,6BAA6B,aAAa;AAC1C,yEAAyE,4EAA4E,EAAE;AACvJ;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wBAAwB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA,+BAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,6DAA6D,GAAG,qCAAqC;AACtL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0CAA0C;AACjE;AACA;AACA,uBAAuB,yCAAyC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iKAAiK;AACvN;AACA;AACA,SAAS;AACT;AACA,6CAA6C,2DAA2D;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI;AACb,qDAAqD;AACrD;AACA;AACA;AACA,aAAa,mBAAmB,4EAA4E,qCAAqC,yKAAyK,oCAAoC;AAC9V,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,oCAAoC,EAAE;AACtC,+BAA+B,EAAE;AACjC,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACjwBA,eAAe,KAAiD,kBAAkB,mBAAO,CAAC,oBAAO,EAAE,mBAAO,CAAC,4BAAW,GAAG,SAAqM,CAAC,sBAAsB,mBAAmB,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE,iBAAiB,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,mBAAmB,8BAA8B,qDAAqD,0BAA0B,6CAA6C,sBAAsB,6DAA6D,YAAY,eAAe,SAAS,iBAAiB,iCAAiC,iBAAiB,YAAY,UAAU,sBAAsB,mBAAmB,iDAAiD,iBAAiB,kBAAkB,iBAAiB,eAAe,YAAY,eAAe,YAAY,iBAAi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","file":"babylondev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/Main.ts\");\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"babylonjs\")):\"function\"==typeof define&&define.amd?define(\"babylonjs-gui\",[\"babylonjs\"],e):\"object\"==typeof exports?exports[\"babylonjs-gui\"]=e(require(\"babylonjs\")):(t.BABYLON=t.BABYLON||{},t.BABYLON.GUI=e(t.BABYLON))}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof global?global:this,(function(t){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=2)}([function(e,i){e.exports=t},function(t,e,i){\"use strict\";i.r(e);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function o(t,e,i,r){var n,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,i,s):n(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s}var s=i(0),a=function(){function t(e,i,r){void 0===i&&(i=t.UNITMODE_PIXEL),void 0===r&&(r=!0),this.unit=i,this.negativeValueAllowed=r,this._value=1,this.ignoreAdaptiveScaling=!1,this._value=e,this._originalUnit=i}return Object.defineProperty(t.prototype,\"isPercentage\",{get:function(){return this.unit===t.UNITMODE_PERCENTAGE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isPixel\",{get:function(){return this.unit===t.UNITMODE_PIXEL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"internalValue\",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.getValueInPixel=function(t,e){return this.isPixel?this.getValue(t):this.getValue(t)*e},t.prototype.updateInPlace=function(e,i){return void 0===i&&(i=t.UNITMODE_PIXEL),this._value=e,this.unit=i,this},t.prototype.getValue=function(e){if(e&&!this.ignoreAdaptiveScaling&&this.unit!==t.UNITMODE_PERCENTAGE){var i=0,r=0;if(e.idealWidth&&(i=this._value*e.getSize().width/e.idealWidth),e.idealHeight&&(r=this._value*e.getSize().height/e.idealHeight),e.useSmallestIdeal&&e.idealWidth&&e.idealHeight)return window.innerWidth<window.innerHeight?i:r;if(e.idealWidth)return i;if(e.idealHeight)return r}return this._value},t.prototype.toString=function(e,i){switch(this.unit){case t.UNITMODE_PERCENTAGE:var r=100*this.getValue(e);return(i?r.toFixed(i):r)+\"%\";case t.UNITMODE_PIXEL:var n=this.getValue(e);return(i?n.toFixed(i):n)+\"px\"}return this.unit.toString()},t.prototype.fromString=function(e){var i=t._Regex.exec(e.toString());if(!i||0===i.length)return!1;var r=parseFloat(i[1]),n=this._originalUnit;if(this.negativeValueAllowed||r<0&&(r=0),4===i.length)switch(i[3]){case\"px\":n=t.UNITMODE_PIXEL;break;case\"%\":n=t.UNITMODE_PERCENTAGE,r/=100}return(r!==this._value||n!==this.unit)&&(this._value=r,this.unit=n,!0)},Object.defineProperty(t,\"UNITMODE_PERCENTAGE\",{get:function(){return t._UNITMODE_PERCENTAGE},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"UNITMODE_PIXEL\",{get:function(){return t._UNITMODE_PIXEL},enumerable:!0,configurable:!0}),t._Regex=/(^-?\\d*(\\.\\d+)?)(%|px)?/,t._UNITMODE_PERCENTAGE=0,t._UNITMODE_PIXEL=1,t}(),h=[new s.Vector2(0,0),new s.Vector2(0,0),new s.Vector2(0,0),new s.Vector2(0,0)],l=[new s.Vector2(0,0),new s.Vector2(0,0),new s.Vector2(0,0),new s.Vector2(0,0)],u=new s.Vector2(0,0),c=new s.Vector2(0,0),_=function(){function t(t,e,i,r){this.left=t,this.top=e,this.width=i,this.height=r}return t.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},t.prototype.copyFromFloats=function(t,e,i,r){this.left=t,this.top=e,this.width=i,this.height=r},t.CombineToRef=function(t,e,i){var r=Math.min(t.left,e.left),n=Math.min(t.top,e.top),o=Math.max(t.left+t.width,e.left+e.width),s=Math.max(t.top+t.height,e.top+e.height);i.left=r,i.top=n,i.width=o-r,i.height=s-n},t.prototype.transformToRef=function(t,e){h[0].copyFromFloats(this.left,this.top),h[1].copyFromFloats(this.left+this.width,this.top),h[2].copyFromFloats(this.left+this.width,this.top+this.height),h[3].copyFromFloats(this.left,this.top+this.height),u.copyFromFloats(Number.MAX_VALUE,Number.MAX_VALUE),c.copyFromFloats(0,0);for(var i=0;i<4;i++)t.transformCoordinates(h[i].x,h[i].y,l[i]),u.x=Math.floor(Math.min(u.x,l[i].x)),u.y=Math.floor(Math.min(u.y,l[i].y)),c.x=Math.ceil(Math.max(c.x,l[i].x)),c.y=Math.ceil(Math.max(c.y,l[i].y));e.left=u.x,e.top=u.y,e.width=c.x-u.x,e.height=c.y-u.y},t.prototype.isEqualsTo=function(t){return this.left===t.left&&(this.top===t.top&&(this.width===t.width&&this.height===t.height))},t.Empty=function(){return new t(0,0,0,0)},t}(),d=function(t){function e(e,i){void 0===i&&(i=0);var r=t.call(this,e.x,e.y)||this;return r.buttonIndex=i,r}return n(e,t),e}(s.Vector2),f=function(){function t(t,e,i,r,n,o){this.m=new Float32Array(6),this.fromValues(t,e,i,r,n,o)}return t.prototype.fromValues=function(t,e,i,r,n,o){return this.m[0]=t,this.m[1]=e,this.m[2]=i,this.m[3]=r,this.m[4]=n,this.m[5]=o,this},t.prototype.determinant=function(){return this.m[0]*this.m[3]-this.m[1]*this.m[2]},t.prototype.invertToRef=function(t){var e=this.m[0],i=this.m[1],r=this.m[2],n=this.m[3],o=this.m[4],a=this.m[5],h=this.determinant();if(h<s.Epsilon*s.Epsilon)return t.m[0]=0,t.m[1]=0,t.m[2]=0,t.m[3]=0,t.m[4]=0,t.m[5]=0,this;var l=1/h,u=r*a-n*o,c=i*o-e*a;return t.m[0]=n*l,t.m[1]=-i*l,t.m[2]=-r*l,t.m[3]=e*l,t.m[4]=u*l,t.m[5]=c*l,this},t.prototype.multiplyToRef=function(t,e){var i=this.m[0],r=this.m[1],n=this.m[2],o=this.m[3],s=this.m[4],a=this.m[5],h=t.m[0],l=t.m[1],u=t.m[2],c=t.m[3],_=t.m[4],d=t.m[5];return e.m[0]=i*h+r*u,e.m[1]=i*l+r*c,e.m[2]=n*h+o*u,e.m[3]=n*l+o*c,e.m[4]=s*h+a*u+_,e.m[5]=s*l+a*c+d,this},t.prototype.transformCoordinates=function(t,e,i){return i.x=t*this.m[0]+e*this.m[2]+this.m[4],i.y=t*this.m[1]+e*this.m[3]+this.m[5],this},t.Identity=function(){return new t(1,0,0,1,0,0)},t.TranslationToRef=function(t,e,i){i.fromValues(1,0,0,1,t,e)},t.ScalingToRef=function(t,e,i){i.fromValues(t,0,0,e,0,0)},t.RotationToRef=function(t,e){var i=Math.sin(t),r=Math.cos(t);e.fromValues(r,i,-i,r,0,0)},t.ComposeToRef=function(e,i,r,n,o,s,a){t.TranslationToRef(e,i,t._TempPreTranslationMatrix),t.ScalingToRef(n,o,t._TempScalingMatrix),t.RotationToRef(r,t._TempRotationMatrix),t.TranslationToRef(-e,-i,t._TempPostTranslationMatrix),t._TempPreTranslationMatrix.multiplyToRef(t._TempScalingMatrix,t._TempCompose0),t._TempCompose0.multiplyToRef(t._TempRotationMatrix,t._TempCompose1),s?(t._TempCompose1.multiplyToRef(t._TempPostTranslationMatrix,t._TempCompose2),t._TempCompose2.multiplyToRef(s,a)):t._TempCompose1.multiplyToRef(t._TempPostTranslationMatrix,a)},t._TempPreTranslationMatrix=t.Identity(),t._TempPostTranslationMatrix=t.Identity(),t._TempRotationMatrix=t.Identity(),t._TempScalingMatrix=t.Identity(),t._TempCompose0=t.Identity(),t._TempCompose1=t.Identity(),t._TempCompose2=t.Identity(),t}(),p=function(){function t(e){this.name=e,this._alpha=1,this._alphaSet=!1,this._zIndex=0,this._currentMeasure=_.Empty(),this._fontFamily=\"Arial\",this._fontStyle=\"\",this._fontWeight=\"\",this._fontSize=new a(18,a.UNITMODE_PIXEL,!1),this._width=new a(1,a.UNITMODE_PERCENTAGE,!1),this._height=new a(1,a.UNITMODE_PERCENTAGE,!1),this._color=\"\",this._style=null,this._horizontalAlignment=t.HORIZONTAL_ALIGNMENT_CENTER,this._verticalAlignment=t.VERTICAL_ALIGNMENT_CENTER,this._isDirty=!0,this._wasDirty=!1,this._tempParentMeasure=_.Empty(),this._prevCurrentMeasureTransformedIntoGlobalSpace=_.Empty(),this._cachedParentMeasure=_.Empty(),this._paddingLeft=new a(0),this._paddingRight=new a(0),this._paddingTop=new a(0),this._paddingBottom=new a(0),this._left=new a(0),this._top=new a(0),this._scaleX=1,this._scaleY=1,this._rotation=0,this._transformCenterX=.5,this._transformCenterY=.5,this._transformMatrix=f.Identity(),this._invertTransformMatrix=f.Identity(),this._transformedPosition=s.Vector2.Zero(),this._isMatrixDirty=!0,this._isVisible=!0,this._isHighlighted=!1,this._fontSet=!1,this._dummyVector2=s.Vector2.Zero(),this._downCount=0,this._enterCount=-1,this._doNotRender=!1,this._downPointerIds={},this._isEnabled=!0,this._disabledColor=\"#9a9a9a\",this._rebuildLayout=!1,this._customData={},this._isClipped=!1,this._automaticSize=!1,this.metadata=null,this.isHitTestVisible=!0,this.isPointerBlocker=!1,this.isFocusInvisible=!1,this.clipChildren=!0,this.clipContent=!0,this.useBitmapCache=!1,this._shadowOffsetX=0,this._shadowOffsetY=0,this._shadowBlur=0,this._shadowColor=\"black\",this.hoverCursor=\"\",this._linkOffsetX=new a(0),this._linkOffsetY=new a(0),this.onPointerMoveObservable=new s.Observable,this.onPointerOutObservable=new s.Observable,this.onPointerDownObservable=new s.Observable,this.onPointerUpObservable=new s.Observable,this.onPointerClickObservable=new s.Observable,this.onPointerEnterObservable=new s.Observable,this.onDirtyObservable=new s.Observable,this.onBeforeDrawObservable=new s.Observable,this.onAfterDrawObservable=new s.Observable,this._tmpMeasureA=new _(0,0,0,0)}return Object.defineProperty(t.prototype,\"shadowOffsetX\",{get:function(){return this._shadowOffsetX},set:function(t){this._shadowOffsetX!==t&&(this._shadowOffsetX=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"shadowOffsetY\",{get:function(){return this._shadowOffsetY},set:function(t){this._shadowOffsetY!==t&&(this._shadowOffsetY=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"shadowBlur\",{get:function(){return this._shadowBlur},set:function(t){this._shadowBlur!==t&&(this._shadowBlur=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"shadowColor\",{get:function(){return this._shadowColor},set:function(t){this._shadowColor!==t&&(this._shadowColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"typeName\",{get:function(){return this._getTypeName()},enumerable:!0,configurable:!0}),t.prototype.getClassName=function(){return this._getTypeName()},Object.defineProperty(t.prototype,\"host\",{get:function(){return this._host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontOffset\",{get:function(){return this._fontOffset},set:function(t){this._fontOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"alpha\",{get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alphaSet=!0,this._alpha=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isHighlighted\",{get:function(){return this._isHighlighted},set:function(t){this._isHighlighted!==t&&(this._isHighlighted=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"scaleX\",{get:function(){return this._scaleX},set:function(t){this._scaleX!==t&&(this._scaleX=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"scaleY\",{get:function(){return this._scaleY},set:function(t){this._scaleY!==t&&(this._scaleY=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"rotation\",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"transformCenterY\",{get:function(){return this._transformCenterY},set:function(t){this._transformCenterY!==t&&(this._transformCenterY=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"transformCenterX\",{get:function(){return this._transformCenterX},set:function(t){this._transformCenterX!==t&&(this._transformCenterX=t,this._markAsDirty(),this._markMatrixAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"horizontalAlignment\",{get:function(){return this._horizontalAlignment},set:function(t){this._horizontalAlignment!==t&&(this._horizontalAlignment=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"verticalAlignment\",{get:function(){return this._verticalAlignment},set:function(t){this._verticalAlignment!==t&&(this._verticalAlignment=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"width\",{get:function(){return this._width.toString(this._host)},set:function(t){this._width.toString(this._host)!==t&&this._width.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"widthInPixels\",{get:function(){return this._width.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.width=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"height\",{get:function(){return this._height.toString(this._host)},set:function(t){this._height.toString(this._host)!==t&&this._height.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"heightInPixels\",{get:function(){return this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.height=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontFamily\",{get:function(){return this._fontSet?this._fontFamily:\"\"},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this._resetFontCache())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontStyle\",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this._resetFontCache())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontWeight\",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this._resetFontCache())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"style\",{get:function(){return this._style},set:function(t){var e=this;this._style&&(this._style.onChangedObservable.remove(this._styleObserver),this._styleObserver=null),this._style=t,this._style&&(this._styleObserver=this._style.onChangedObservable.add((function(){e._markAsDirty(),e._resetFontCache()}))),this._markAsDirty(),this._resetFontCache()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"_isFontSizeInPercentage\",{get:function(){return this._fontSize.isPercentage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontSizeInPixels\",{get:function(){var t=this._style?this._style._fontSize:this._fontSize;return t.isPixel?t.getValue(this._host):t.getValueInPixel(this._host,this._tempParentMeasure.height||this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.fontSize=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontSize\",{get:function(){return this._fontSize.toString(this._host)},set:function(t){this._fontSize.toString(this._host)!==t&&this._fontSize.fromString(t)&&(this._markAsDirty(),this._resetFontCache())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"color\",{get:function(){return this._color},set:function(t){this._color!==t&&(this._color=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"zIndex\",{get:function(){return this._zIndex},set:function(t){this.zIndex!==t&&(this._zIndex=t,this.parent&&this.parent._reOrderControl(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"notRenderable\",{get:function(){return this._doNotRender},set:function(t){this._doNotRender!==t&&(this._doNotRender=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isVisible\",{get:function(){return this._isVisible},set:function(t){this._isVisible!==t&&(this._isVisible=t,this._markAsDirty(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isDirty\",{get:function(){return this._isDirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"linkedMesh\",{get:function(){return this._linkedMesh},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingLeft\",{get:function(){return this._paddingLeft.toString(this._host)},set:function(t){this._paddingLeft.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingLeftInPixels\",{get:function(){return this._paddingLeft.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.paddingLeft=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingRight\",{get:function(){return this._paddingRight.toString(this._host)},set:function(t){this._paddingRight.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingRightInPixels\",{get:function(){return this._paddingRight.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.paddingRight=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingTop\",{get:function(){return this._paddingTop.toString(this._host)},set:function(t){this._paddingTop.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingTopInPixels\",{get:function(){return this._paddingTop.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.paddingTop=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingBottom\",{get:function(){return this._paddingBottom.toString(this._host)},set:function(t){this._paddingBottom.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"paddingBottomInPixels\",{get:function(){return this._paddingBottom.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.paddingBottom=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"left\",{get:function(){return this._left.toString(this._host)},set:function(t){this._left.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"leftInPixels\",{get:function(){return this._left.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.left=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"top\",{get:function(){return this._top.toString(this._host)},set:function(t){this._top.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"topInPixels\",{get:function(){return this._top.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.top=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"linkOffsetX\",{get:function(){return this._linkOffsetX.toString(this._host)},set:function(t){this._linkOffsetX.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"linkOffsetXInPixels\",{get:function(){return this._linkOffsetX.getValueInPixel(this._host,this._cachedParentMeasure.width)},set:function(t){isNaN(t)||(this.linkOffsetX=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"linkOffsetY\",{get:function(){return this._linkOffsetY.toString(this._host)},set:function(t){this._linkOffsetY.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"linkOffsetYInPixels\",{get:function(){return this._linkOffsetY.getValueInPixel(this._host,this._cachedParentMeasure.height)},set:function(t){isNaN(t)||(this.linkOffsetY=t+\"px\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"centerX\",{get:function(){return this._currentMeasure.left+this._currentMeasure.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"centerY\",{get:function(){return this._currentMeasure.top+this._currentMeasure.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"isEnabled\",{get:function(){return this._isEnabled},set:function(t){this._isEnabled!==t&&(this._isEnabled=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"disabledColor\",{get:function(){return this._disabledColor},set:function(t){this._disabledColor!==t&&(this._disabledColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),t.prototype._getTypeName=function(){return\"Control\"},t.prototype.getAscendantOfClass=function(t){return this.parent?this.parent.getClassName()===t?this.parent:this.parent.getAscendantOfClass(t):null},t.prototype._resetFontCache=function(){this._fontSet=!0,this._markAsDirty()},t.prototype.isAscendant=function(t){return!!this.parent&&(this.parent===t||this.parent.isAscendant(t))},t.prototype.getLocalCoordinates=function(t){var e=s.Vector2.Zero();return this.getLocalCoordinatesToRef(t,e),e},t.prototype.getLocalCoordinatesToRef=function(t,e){return e.x=t.x-this._currentMeasure.left,e.y=t.y-this._currentMeasure.top,this},t.prototype.getParentLocalCoordinates=function(t){var e=s.Vector2.Zero();return e.x=t.x-this._cachedParentMeasure.left,e.y=t.y-this._cachedParentMeasure.top,e},t.prototype.moveToVector3=function(e,i){if(this._host&&this.parent===this._host._rootContainer){this.horizontalAlignment=t.HORIZONTAL_ALIGNMENT_LEFT,this.verticalAlignment=t.VERTICAL_ALIGNMENT_TOP;var r=this._host._getGlobalViewport(i),n=s.Vector3.Project(e,s.Matrix.Identity(),i.getTransformMatrix(),r);this._moveToProjectedPosition(n),n.z<0||n.z>1?this.notRenderable=!0:this.notRenderable=!1}else s.Tools.Error(\"Cannot move a control to a vector3 if the control is not at root level\")},t.prototype.getDescendantsToRef=function(t,e,i){void 0===e&&(e=!1)},t.prototype.getDescendants=function(t,e){var i=new Array;return this.getDescendantsToRef(i,t,e),i},t.prototype.linkWithMesh=function(e){if(!this._host||this.parent&&this.parent!==this._host._rootContainer)e&&s.Tools.Error(\"Cannot link a control to a mesh if the control is not at root level\");else{var i=this._host._linkedControls.indexOf(this);if(-1!==i)return this._linkedMesh=e,void(e||this._host._linkedControls.splice(i,1));e&&(this.horizontalAlignment=t.HORIZONTAL_ALIGNMENT_LEFT,this.verticalAlignment=t.VERTICAL_ALIGNMENT_TOP,this._linkedMesh=e,this._host._linkedControls.push(this))}},t.prototype._moveToProjectedPosition=function(t){var e=this._left.getValue(this._host),i=this._top.getValue(this._host),r=t.x+this._linkOffsetX.getValue(this._host)-this._currentMeasure.width/2,n=t.y+this._linkOffsetY.getValue(this._host)-this._currentMeasure.height/2;this._left.ignoreAdaptiveScaling&&this._top.ignoreAdaptiveScaling&&(Math.abs(r-e)<.5&&(r=e),Math.abs(n-i)<.5&&(n=i)),this.left=r+\"px\",this.top=n+\"px\",this._left.ignoreAdaptiveScaling=!0,this._top.ignoreAdaptiveScaling=!0,this._markAsDirty()},t.prototype._offsetLeft=function(t){this._isDirty=!0,this._currentMeasure.left+=t},t.prototype._offsetTop=function(t){this._isDirty=!0,this._currentMeasure.top+=t},t.prototype._markMatrixAsDirty=function(){this._isMatrixDirty=!0,this._flagDescendantsAsMatrixDirty()},t.prototype._flagDescendantsAsMatrixDirty=function(){},t.prototype._intersectsRect=function(t){return this._currentMeasure.transformToRef(this._transformMatrix,this._tmpMeasureA),!(this._tmpMeasureA.left>=t.left+t.width)&&(!(this._tmpMeasureA.top>=t.top+t.height)&&(!(this._tmpMeasureA.left+this._tmpMeasureA.width<=t.left)&&!(this._tmpMeasureA.top+this._tmpMeasureA.height<=t.top)))},t.prototype.invalidateRect=function(){if(this._transform(),this.host&&this.host.useInvalidateRectOptimization)if(this._currentMeasure.transformToRef(this._transformMatrix,this._tmpMeasureA),_.CombineToRef(this._tmpMeasureA,this._prevCurrentMeasureTransformedIntoGlobalSpace,this._tmpMeasureA),this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY){var t=this.shadowOffsetX,e=this.shadowOffsetY,i=this.shadowBlur,r=Math.min(Math.min(t,0)-2*i,0),n=Math.max(Math.max(t,0)+2*i,0),o=Math.min(Math.min(e,0)-2*i,0),s=Math.max(Math.max(e,0)+2*i,0);this.host.invalidateRect(Math.floor(this._tmpMeasureA.left+r),Math.floor(this._tmpMeasureA.top+o),Math.ceil(this._tmpMeasureA.left+this._tmpMeasureA.width+n),Math.ceil(this._tmpMeasureA.top+this._tmpMeasureA.height+s))}else this.host.invalidateRect(Math.floor(this._tmpMeasureA.left),Math.floor(this._tmpMeasureA.top),Math.ceil(this._tmpMeasureA.left+this._tmpMeasureA.width),Math.ceil(this._tmpMeasureA.top+this._tmpMeasureA.height))},t.prototype._markAsDirty=function(t){void 0===t&&(t=!1),(this._isVisible||t)&&(this._isDirty=!0,this._host&&this._host.markAsDirty())},t.prototype._markAllAsDirty=function(){this._markAsDirty(),this._font&&this._prepareFont()},t.prototype._link=function(t){this._host=t,this._host&&(this.uniqueId=this._host.getScene().getUniqueId())},t.prototype._transform=function(t){if(this._isMatrixDirty||1!==this._scaleX||1!==this._scaleY||0!==this._rotation){var e=this._currentMeasure.width*this._transformCenterX+this._currentMeasure.left,i=this._currentMeasure.height*this._transformCenterY+this._currentMeasure.top;t&&(t.translate(e,i),t.rotate(this._rotation),t.scale(this._scaleX,this._scaleY),t.translate(-e,-i)),(this._isMatrixDirty||this._cachedOffsetX!==e||this._cachedOffsetY!==i)&&(this._cachedOffsetX=e,this._cachedOffsetY=i,this._isMatrixDirty=!1,this._flagDescendantsAsMatrixDirty(),f.ComposeToRef(-e,-i,this._rotation,this._scaleX,this._scaleY,this.parent?this.parent._transformMatrix:null,this._transformMatrix),this._transformMatrix.invertToRef(this._invertTransformMatrix))}},t.prototype._renderHighlight=function(t){this.isHighlighted&&(t.save(),t.strokeStyle=\"#4affff\",t.lineWidth=2,this._renderHighlightSpecific(t),t.restore())},t.prototype._renderHighlightSpecific=function(t){t.strokeRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)},t.prototype._applyStates=function(e){this._isFontSizeInPercentage&&(this._fontSet=!0),this._fontSet&&(this._prepareFont(),this._fontSet=!1),this._font&&(e.font=this._font),this._color&&(e.fillStyle=this._color),t.AllowAlphaInheritance?e.globalAlpha*=this._alpha:this._alphaSet&&(e.globalAlpha=this.parent?this.parent.alpha*this._alpha:this._alpha)},t.prototype._layout=function(t,e){if(!this.isDirty&&(!this.isVisible||this.notRenderable))return!1;if(this._isDirty||!this._cachedParentMeasure.isEqualsTo(t)){this.host._numLayoutCalls++,this._currentMeasure.transformToRef(this._transformMatrix,this._prevCurrentMeasureTransformedIntoGlobalSpace),e.save(),this._applyStates(e);var i=0;do{this._rebuildLayout=!1,this._processMeasures(t,e),i++}while(this._rebuildLayout&&i<3);i>=3&&s.Logger.Error(\"Layout cycle detected in GUI (Control name=\"+this.name+\", uniqueId=\"+this.uniqueId+\")\"),e.restore(),this.invalidateRect(),this._evaluateClippingState(t)}return this._wasDirty=this._isDirty,this._isDirty=!1,!0},t.prototype._processMeasures=function(t,e){this._currentMeasure.copyFrom(t),this._preMeasure(t,e),this._measure(),this._computeAlignment(t,e),this._currentMeasure.left=0|this._currentMeasure.left,this._currentMeasure.top=0|this._currentMeasure.top,this._currentMeasure.width=0|this._currentMeasure.width,this._currentMeasure.height=0|this._currentMeasure.height,this._additionalProcessing(t,e),this._cachedParentMeasure.copyFrom(t),this.onDirtyObservable.hasObservers()&&this.onDirtyObservable.notifyObservers(this)},t.prototype._evaluateClippingState=function(t){if(this.parent&&this.parent.clipChildren){if(this._currentMeasure.left>t.left+t.width)return void(this._isClipped=!0);if(this._currentMeasure.left+this._currentMeasure.width<t.left)return void(this._isClipped=!0);if(this._currentMeasure.top>t.top+t.height)return void(this._isClipped=!0);if(this._currentMeasure.top+this._currentMeasure.height<t.top)return void(this._isClipped=!0)}this._isClipped=!1},t.prototype._measure=function(){this._width.isPixel?this._currentMeasure.width=this._width.getValue(this._host):this._currentMeasure.width*=this._width.getValue(this._host),this._height.isPixel?this._currentMeasure.height=this._height.getValue(this._host):this._currentMeasure.height*=this._height.getValue(this._host)},t.prototype._computeAlignment=function(e,i){var r=this._currentMeasure.width,n=this._currentMeasure.height,o=e.width,s=e.height,a=0,h=0;switch(this.horizontalAlignment){case t.HORIZONTAL_ALIGNMENT_LEFT:a=0;break;case t.HORIZONTAL_ALIGNMENT_RIGHT:a=o-r;break;case t.HORIZONTAL_ALIGNMENT_CENTER:a=(o-r)/2}switch(this.verticalAlignment){case t.VERTICAL_ALIGNMENT_TOP:h=0;break;case t.VERTICAL_ALIGNMENT_BOTTOM:h=s-n;break;case t.VERTICAL_ALIGNMENT_CENTER:h=(s-n)/2}this._paddingLeft.isPixel?(this._currentMeasure.left+=this._paddingLeft.getValue(this._host),this._currentMeasure.width-=this._paddingLeft.getValue(this._host)):(this._currentMeasure.left+=o*this._paddingLeft.getValue(this._host),this._currentMeasure.width-=o*this._paddingLeft.getValue(this._host)),this._paddingRight.isPixel?this._currentMeasure.width-=this._paddingRight.getValue(this._host):this._currentMeasure.width-=o*this._paddingRight.getValue(this._host),this._paddingTop.isPixel?(this._currentMeasure.top+=this._paddingTop.getValue(this._host),this._currentMeasure.height-=this._paddingTop.getValue(this._host)):(this._currentMeasure.top+=s*this._paddingTop.getValue(this._host),this._currentMeasure.height-=s*this._paddingTop.getValue(this._host)),this._paddingBottom.isPixel?this._currentMeasure.height-=this._paddingBottom.getValue(this._host):this._currentMeasure.height-=s*this._paddingBottom.getValue(this._host),this._left.isPixel?this._currentMeasure.left+=this._left.getValue(this._host):this._currentMeasure.left+=o*this._left.getValue(this._host),this._top.isPixel?this._currentMeasure.top+=this._top.getValue(this._host):this._currentMeasure.top+=s*this._top.getValue(this._host),this._currentMeasure.left+=a,this._currentMeasure.top+=h},t.prototype._preMeasure=function(t,e){},t.prototype._additionalProcessing=function(t,e){},t.prototype._clipForChildren=function(t){},t.prototype._clip=function(e,i){if(e.beginPath(),t._ClipMeasure.copyFrom(this._currentMeasure),i){i.transformToRef(this._invertTransformMatrix,this._tmpMeasureA);var r=new _(0,0,0,0);r.left=Math.max(this._tmpMeasureA.left,this._currentMeasure.left),r.top=Math.max(this._tmpMeasureA.top,this._currentMeasure.top),r.width=Math.min(this._tmpMeasureA.left+this._tmpMeasureA.width,this._currentMeasure.left+this._currentMeasure.width)-r.left,r.height=Math.min(this._tmpMeasureA.top+this._tmpMeasureA.height,this._currentMeasure.top+this._currentMeasure.height)-r.top,t._ClipMeasure.copyFrom(r)}if(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY){var n=this.shadowOffsetX,o=this.shadowOffsetY,s=this.shadowBlur,a=Math.min(Math.min(n,0)-2*s,0),h=Math.max(Math.max(n,0)+2*s,0),l=Math.min(Math.min(o,0)-2*s,0),u=Math.max(Math.max(o,0)+2*s,0);e.rect(t._ClipMeasure.left+a,t._ClipMeasure.top+l,t._ClipMeasure.width+h-a,t._ClipMeasure.height+u-l)}else e.rect(t._ClipMeasure.left,t._ClipMeasure.top,t._ClipMeasure.width,t._ClipMeasure.height);e.clip()},t.prototype._render=function(t,e){return!this.isVisible||this.notRenderable||this._isClipped?(this._isDirty=!1,!1):(this.host._numRenderCalls++,t.save(),this._applyStates(t),this._transform(t),this.clipContent&&this._clip(t,e),this.onBeforeDrawObservable.hasObservers()&&this.onBeforeDrawObservable.notifyObservers(this),this.useBitmapCache&&!this._wasDirty&&this._cacheData?t.putImageData(this._cacheData,this._currentMeasure.left,this._currentMeasure.top):this._draw(t,e),this.useBitmapCache&&this._wasDirty&&(this._cacheData=t.getImageData(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),this._renderHighlight(t),this.onAfterDrawObservable.hasObservers()&&this.onAfterDrawObservable.notifyObservers(this),t.restore(),!0)},t.prototype._draw=function(t,e){},t.prototype.contains=function(t,e){return this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y,!(t<this._currentMeasure.left)&&(!(t>this._currentMeasure.left+this._currentMeasure.width)&&(!(e<this._currentMeasure.top)&&(!(e>this._currentMeasure.top+this._currentMeasure.height)&&(this.isPointerBlocker&&(this._host._shouldBlockPointer=!0),!0))))},t.prototype._processPicking=function(t,e,i,r,n){return!!this._isEnabled&&(!(!this.isHitTestVisible||!this.isVisible||this._doNotRender)&&(!!this.contains(t,e)&&(this._processObservables(i,t,e,r,n),!0)))},t.prototype._onPointerMove=function(t,e,i){this.onPointerMoveObservable.notifyObservers(e,-1,t,this)&&null!=this.parent&&this.parent._onPointerMove(t,e,i)},t.prototype._onPointerEnter=function(t){return!!this._isEnabled&&(!(this._enterCount>0)&&(-1===this._enterCount&&(this._enterCount=0),this._enterCount++,this.onPointerEnterObservable.notifyObservers(this,-1,t,this)&&null!=this.parent&&this.parent._onPointerEnter(t),!0))},t.prototype._onPointerOut=function(t,e){if(void 0===e&&(e=!1),e||this._isEnabled&&t!==this){this._enterCount=0;var i=!0;t.isAscendant(this)||(i=this.onPointerOutObservable.notifyObservers(this,-1,t,this)),i&&null!=this.parent&&this.parent._onPointerOut(t,e)}},t.prototype._onPointerDown=function(t,e,i,r){return this._onPointerEnter(this),0===this._downCount&&(this._downCount++,this._downPointerIds[i]=!0,this.onPointerDownObservable.notifyObservers(new d(e,r),-1,t,this)&&null!=this.parent&&this.parent._onPointerDown(t,e,i,r),!0)},t.prototype._onPointerUp=function(t,e,i,r,n){if(this._isEnabled){this._downCount=0,delete this._downPointerIds[i];var o=n;n&&(this._enterCount>0||-1===this._enterCount)&&(o=this.onPointerClickObservable.notifyObservers(new d(e,r),-1,t,this)),this.onPointerUpObservable.notifyObservers(new d(e,r),-1,t,this)&&null!=this.parent&&this.parent._onPointerUp(t,e,i,r,o)}},t.prototype._forcePointerUp=function(t){if(void 0===t&&(t=null),null!==t)this._onPointerUp(this,s.Vector2.Zero(),t,0,!0);else for(var e in this._downPointerIds)this._onPointerUp(this,s.Vector2.Zero(),+e,0,!0)},t.prototype._processObservables=function(t,e,i,r,n){if(!this._isEnabled)return!1;if(this._dummyVector2.copyFromFloats(e,i),t===s.PointerEventTypes.POINTERMOVE){this._onPointerMove(this,this._dummyVector2,r);var o=this._host._lastControlOver[r];return o&&o!==this&&o._onPointerOut(this),o!==this&&this._onPointerEnter(this),this._host._lastControlOver[r]=this,!0}return t===s.PointerEventTypes.POINTERDOWN?(this._onPointerDown(this,this._dummyVector2,r,n),this._host._registerLastControlDown(this,r),this._host._lastPickedControl=this,!0):t===s.PointerEventTypes.POINTERUP&&(this._host._lastControlDown[r]&&this._host._lastControlDown[r]._onPointerUp(this,this._dummyVector2,r,n,!0),delete this._host._lastControlDown[r],!0)},t.prototype._prepareFont=function(){(this._font||this._fontSet)&&(this._style?this._font=this._style.fontStyle+\" \"+this._style.fontWeight+\" \"+this.fontSizeInPixels+\"px \"+this._style.fontFamily:this._font=this._fontStyle+\" \"+this._fontWeight+\" \"+this.fontSizeInPixels+\"px \"+this._fontFamily,this._fontOffset=t._GetFontOffset(this._font))},t.prototype.dispose=function(){(this.onDirtyObservable.clear(),this.onBeforeDrawObservable.clear(),this.onAfterDrawObservable.clear(),this.onPointerDownObservable.clear(),this.onPointerEnterObservable.clear(),this.onPointerMoveObservable.clear(),this.onPointerOutObservable.clear(),this.onPointerUpObservable.clear(),this.onPointerClickObservable.clear(),this._styleObserver&&this._style&&(this._style.onChangedObservable.remove(this._styleObserver),this._styleObserver=null),this.parent&&(this.parent.removeControl(this),this.parent=null),this._host)&&(this._host._linkedControls.indexOf(this)>-1&&this.linkWithMesh(null))},Object.defineProperty(t,\"HORIZONTAL_ALIGNMENT_LEFT\",{get:function(){return t._HORIZONTAL_ALIGNMENT_LEFT},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"HORIZONTAL_ALIGNMENT_RIGHT\",{get:function(){return t._HORIZONTAL_ALIGNMENT_RIGHT},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"HORIZONTAL_ALIGNMENT_CENTER\",{get:function(){return t._HORIZONTAL_ALIGNMENT_CENTER},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"VERTICAL_ALIGNMENT_TOP\",{get:function(){return t._VERTICAL_ALIGNMENT_TOP},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"VERTICAL_ALIGNMENT_BOTTOM\",{get:function(){return t._VERTICAL_ALIGNMENT_BOTTOM},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"VERTICAL_ALIGNMENT_CENTER\",{get:function(){return t._VERTICAL_ALIGNMENT_CENTER},enumerable:!0,configurable:!0}),t._GetFontOffset=function(e){if(t._FontHeightSizes[e])return t._FontHeightSizes[e];var i=document.createElement(\"span\");i.innerHTML=\"Hg\",i.style.font=e;var r=document.createElement(\"div\");r.style.display=\"inline-block\",r.style.width=\"1px\",r.style.height=\"0px\",r.style.verticalAlign=\"bottom\";var n=document.createElement(\"div\");n.appendChild(i),n.appendChild(r),document.body.appendChild(n);var o=0,s=0;try{s=r.getBoundingClientRect().top-i.getBoundingClientRect().top,r.style.verticalAlign=\"baseline\",o=r.getBoundingClientRect().top-i.getBoundingClientRect().top}finally{document.body.removeChild(n)}var a={ascent:o,height:s,descent:s-o};return t._FontHeightSizes[e]=a,a},t.drawEllipse=function(t,e,i,r,n){n.translate(t,e),n.scale(i,r),n.beginPath(),n.arc(0,0,1,0,2*Math.PI),n.closePath(),n.scale(1/i,1/r),n.translate(-t,-e)},t.AllowAlphaInheritance=!1,t._ClipMeasure=new _(0,0,0,0),t._HORIZONTAL_ALIGNMENT_LEFT=0,t._HORIZONTAL_ALIGNMENT_RIGHT=1,t._HORIZONTAL_ALIGNMENT_CENTER=2,t._VERTICAL_ALIGNMENT_TOP=0,t._VERTICAL_ALIGNMENT_BOTTOM=1,t._VERTICAL_ALIGNMENT_CENTER=2,t._FontHeightSizes={},t.AddHeader=function(){},t}();s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Control\"]=p;var g=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._children=new Array,i._measureForChildren=_.Empty(),i._background=\"\",i._adaptWidthToChildren=!1,i._adaptHeightToChildren=!1,i.logLayoutCycleErrors=!1,i.maxLayoutCycle=3,i}return n(e,t),Object.defineProperty(e.prototype,\"adaptHeightToChildren\",{get:function(){return this._adaptHeightToChildren},set:function(t){this._adaptHeightToChildren!==t&&(this._adaptHeightToChildren=t,t&&(this.height=\"100%\"),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"adaptWidthToChildren\",{get:function(){return this._adaptWidthToChildren},set:function(t){this._adaptWidthToChildren!==t&&(this._adaptWidthToChildren=t,t&&(this.width=\"100%\"),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Container\"},e.prototype._flagDescendantsAsMatrixDirty=function(){for(var t=0,e=this.children;t<e.length;t++){e[t]._markMatrixAsDirty()}},e.prototype.getChildByName=function(t){for(var e=0,i=this.children;e<i.length;e++){var r=i[e];if(r.name===t)return r}return null},e.prototype.getChildByType=function(t,e){for(var i=0,r=this.children;i<r.length;i++){var n=r[i];if(n.typeName===e)return n}return null},e.prototype.containsControl=function(t){return-1!==this.children.indexOf(t)},e.prototype.addControl=function(t){return t?-1!==this._children.indexOf(t)?this:(t._link(this._host),t._markAllAsDirty(),this._reOrderControl(t),this._markAsDirty(),this):this},e.prototype.clearControls=function(){for(var t=0,e=this.children.slice();t<e.length;t++){var i=e[t];this.removeControl(i)}return this},e.prototype.removeControl=function(t){var e=this._children.indexOf(t);return-1!==e&&(this._children.splice(e,1),t.parent=null),t.linkWithMesh(null),this._host&&this._host._cleanControlAfterRemoval(t),this._markAsDirty(),this},e.prototype._reOrderControl=function(t){this.removeControl(t);for(var e=!1,i=0;i<this._children.length;i++)if(this._children[i].zIndex>t.zIndex){this._children.splice(i,0,t),e=!0;break}e||this._children.push(t),t.parent=this,this._markAsDirty()},e.prototype._offsetLeft=function(e){t.prototype._offsetLeft.call(this,e);for(var i=0,r=this._children;i<r.length;i++){r[i]._offsetLeft(e)}},e.prototype._offsetTop=function(e){t.prototype._offsetTop.call(this,e);for(var i=0,r=this._children;i<r.length;i++){r[i]._offsetTop(e)}},e.prototype._markAllAsDirty=function(){t.prototype._markAllAsDirty.call(this);for(var e=0;e<this._children.length;e++)this._children[e]._markAllAsDirty()},e.prototype._localDraw=function(t){this._background&&(t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fillStyle=this._background,t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height),t.restore())},e.prototype._link=function(e){t.prototype._link.call(this,e);for(var i=0,r=this._children;i<r.length;i++){r[i]._link(e)}},e.prototype._beforeLayout=function(){},e.prototype._processMeasures=function(e,i){!this._isDirty&&this._cachedParentMeasure.isEqualsTo(e)||(t.prototype._processMeasures.call(this,e,i),this._evaluateClippingState(e))},e.prototype._layout=function(t,e){if(!this.isDirty&&(!this.isVisible||this.notRenderable))return!1;this.host._numLayoutCalls++,this._isDirty&&this._currentMeasure.transformToRef(this._transformMatrix,this._prevCurrentMeasureTransformedIntoGlobalSpace);var i=0;e.save(),this._applyStates(e),this._beforeLayout();do{var r=-1,n=-1;if(this._rebuildLayout=!1,this._processMeasures(t,e),!this._isClipped){for(var o=0,a=this._children;o<a.length;o++){var h=a[o];h._tempParentMeasure.copyFrom(this._measureForChildren),h._layout(this._measureForChildren,e)&&(this.adaptWidthToChildren&&h._width.isPixel&&(r=Math.max(r,h._currentMeasure.width)),this.adaptHeightToChildren&&h._height.isPixel&&(n=Math.max(n,h._currentMeasure.height)))}this.adaptWidthToChildren&&r>=0&&this.width!==r+\"px\"&&(this.width=r+\"px\",this._rebuildLayout=!0),this.adaptHeightToChildren&&n>=0&&this.height!==n+\"px\"&&(this.height=n+\"px\",this._rebuildLayout=!0),this._postMeasure()}i++}while(this._rebuildLayout&&i<this.maxLayoutCycle);return i>=3&&this.logLayoutCycleErrors&&s.Logger.Error(\"Layout cycle detected in GUI (Container name=\"+this.name+\", uniqueId=\"+this.uniqueId+\")\"),e.restore(),this._isDirty&&(this.invalidateRect(),this._isDirty=!1),!0},e.prototype._postMeasure=function(){},e.prototype._draw=function(t,e){this._localDraw(t),this.clipChildren&&this._clipForChildren(t);for(var i=0,r=this._children;i<r.length;i++){var n=r[i];e&&!n._intersectsRect(e)||n._render(t,e)}},e.prototype.getDescendantsToRef=function(t,e,i){if(void 0===e&&(e=!1),this.children)for(var r=0;r<this.children.length;r++){var n=this.children[r];i&&!i(n)||t.push(n),e||n.getDescendantsToRef(t,!1,i)}},e.prototype._processPicking=function(e,i,r,n,o){if(!this._isEnabled||!this.isVisible||this.notRenderable)return!1;if(!t.prototype.contains.call(this,e,i))return!1;for(var s=this._children.length-1;s>=0;s--){var a=this._children[s];if(a._processPicking(e,i,r,n,o))return a.hoverCursor&&this._host._changeCursor(a.hoverCursor),!0}return!!this.isHitTestVisible&&this._processObservables(r,e,i,n,o)},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._measureForChildren.copyFrom(this._currentMeasure)},e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=this.children.length-1;e>=0;e--)this.children[e].dispose()},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Container\"]=g;var b,m=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._thickness=1,i._cornerRadius=0,i}return n(e,t),Object.defineProperty(e.prototype,\"thickness\",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cornerRadius\",{get:function(){return this._cornerRadius},set:function(t){t<0&&(t=0),this._cornerRadius!==t&&(this._cornerRadius=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Rectangle\"},e.prototype._localDraw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._background&&(t.fillStyle=this._background,this._cornerRadius?(this._drawRoundedRect(t,this._thickness/2),t.fill()):t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),this._thickness&&((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this.color&&(t.strokeStyle=this.color),t.lineWidth=this._thickness,this._cornerRadius?(this._drawRoundedRect(t,this._thickness/2),t.stroke()):t.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness)),t.restore()},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._measureForChildren.width-=2*this._thickness,this._measureForChildren.height-=2*this._thickness,this._measureForChildren.left+=this._thickness,this._measureForChildren.top+=this._thickness},e.prototype._drawRoundedRect=function(t,e){void 0===e&&(e=0);var i=this._currentMeasure.left+e,r=this._currentMeasure.top+e,n=this._currentMeasure.width-2*e,o=this._currentMeasure.height-2*e,s=Math.min(o/2-2,Math.min(n/2-2,this._cornerRadius));t.beginPath(),t.moveTo(i+s,r),t.lineTo(i+n-s,r),t.quadraticCurveTo(i+n,r,i+n,r+s),t.lineTo(i+n,r+o-s),t.quadraticCurveTo(i+n,r+o,i+n-s,r+o),t.lineTo(i+s,r+o),t.quadraticCurveTo(i,r+o,i,r+o-s),t.lineTo(i,r+s),t.quadraticCurveTo(i,r,i+s,r),t.closePath()},e.prototype._clipForChildren=function(t){this._cornerRadius&&(this._drawRoundedRect(t,this._thickness),t.clip())},e}(g);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Rectangle\"]=m,function(t){t[t.Clip=0]=\"Clip\",t[t.WordWrap=1]=\"WordWrap\",t[t.Ellipsis=2]=\"Ellipsis\"}(b||(b={}));var y=function(t){function e(e,i){void 0===i&&(i=\"\");var r=t.call(this,e)||this;return r.name=e,r._text=\"\",r._textWrapping=b.Clip,r._textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,r._textVerticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,r._resizeToFit=!1,r._lineSpacing=new a(0),r._outlineWidth=0,r._outlineColor=\"white\",r.onTextChangedObservable=new s.Observable,r.onLinesReadyObservable=new s.Observable,r.text=i,r}return n(e,t),Object.defineProperty(e.prototype,\"lines\",{get:function(){return this._lines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"resizeToFit\",{get:function(){return this._resizeToFit},set:function(t){this._resizeToFit!==t&&(this._resizeToFit=t,this._resizeToFit&&(this._width.ignoreAdaptiveScaling=!0,this._height.ignoreAdaptiveScaling=!0),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textWrapping\",{get:function(){return this._textWrapping},set:function(t){this._textWrapping!==t&&(this._textWrapping=+t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"text\",{get:function(){return this._text},set:function(t){this._text!==t&&(this._text=t,this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textHorizontalAlignment\",{get:function(){return this._textHorizontalAlignment},set:function(t){this._textHorizontalAlignment!==t&&(this._textHorizontalAlignment=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textVerticalAlignment\",{get:function(){return this._textVerticalAlignment},set:function(t){this._textVerticalAlignment!==t&&(this._textVerticalAlignment=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"lineSpacing\",{get:function(){return this._lineSpacing.toString(this._host)},set:function(t){this._lineSpacing.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"outlineWidth\",{get:function(){return this._outlineWidth},set:function(t){this._outlineWidth!==t&&(this._outlineWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"outlineColor\",{get:function(){return this._outlineColor},set:function(t){this._outlineColor!==t&&(this._outlineColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"TextBlock\"},e.prototype._processMeasures=function(e,i){this._fontOffset||(this._fontOffset=p._GetFontOffset(i.font)),t.prototype._processMeasures.call(this,e,i),this._lines=this._breakLines(this._currentMeasure.width,i),this.onLinesReadyObservable.notifyObservers(this);for(var r=0,n=0;n<this._lines.length;n++){var o=this._lines[n];o.width>r&&(r=o.width)}if(this._resizeToFit){if(this._textWrapping===b.Clip){var s=this.paddingLeftInPixels+this.paddingRightInPixels+r;s!==this._width.internalValue&&(this._width.updateInPlace(s,a.UNITMODE_PIXEL),this._rebuildLayout=!0)}var h=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*this._lines.length;if(this._lines.length>0&&0!==this._lineSpacing.internalValue){var l=0;l=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),h+=(this._lines.length-1)*l}h!==this._height.internalValue&&(this._height.updateInPlace(h,a.UNITMODE_PIXEL),this._rebuildLayout=!0)}},e.prototype._drawText=function(t,e,i,r){var n=this._currentMeasure.width,o=0;switch(this._textHorizontalAlignment){case p.HORIZONTAL_ALIGNMENT_LEFT:o=0;break;case p.HORIZONTAL_ALIGNMENT_RIGHT:o=n-e;break;case p.HORIZONTAL_ALIGNMENT_CENTER:o=(n-e)/2}(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur,r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY),this.outlineWidth&&r.strokeText(t,this._currentMeasure.left+o,i),r.fillText(t,this._currentMeasure.left+o,i)},e.prototype._draw=function(t,e){t.save(),this._applyStates(t),this._renderLines(t),t.restore()},e.prototype._applyStates=function(e){t.prototype._applyStates.call(this,e),this.outlineWidth&&(e.lineWidth=this.outlineWidth,e.strokeStyle=this.outlineColor)},e.prototype._breakLines=function(t,e){var i=[],r=this.text.split(\"\\n\");if(this._textWrapping===b.Ellipsis)for(var n=0,o=r;n<o.length;n++){var s=o[n];i.push(this._parseLineEllipsis(s,t,e))}else if(this._textWrapping===b.WordWrap)for(var a=0,h=r;a<h.length;a++){s=h[a];i.push.apply(i,this._parseLineWordWrap(s,t,e))}else for(var l=0,u=r;l<u.length;l++){s=u[l];i.push(this._parseLine(s,e))}return i},e.prototype._parseLine=function(t,e){return void 0===t&&(t=\"\"),{text:t,width:e.measureText(t).width}},e.prototype._parseLineEllipsis=function(t,e,i){void 0===t&&(t=\"\");var r=i.measureText(t).width;for(r>e&&(t+=\"…\");t.length>2&&r>e;)t=t.slice(0,-2)+\"…\",r=i.measureText(t).width;return{text:t,width:r}},e.prototype._parseLineWordWrap=function(t,e,i){void 0===t&&(t=\"\");for(var r=[],n=t.split(\" \"),o=0,s=0;s<n.length;s++){var a=s>0?t+\" \"+n[s]:n[0],h=i.measureText(a).width;h>e&&s>0?(r.push({text:t,width:o}),t=n[s],o=i.measureText(t).width):(o=h,t=a)}return r.push({text:t,width:o}),r},e.prototype._renderLines=function(t){var e=this._currentMeasure.height,i=0;switch(this._textVerticalAlignment){case p.VERTICAL_ALIGNMENT_TOP:i=this._fontOffset.ascent;break;case p.VERTICAL_ALIGNMENT_BOTTOM:i=e-this._fontOffset.height*(this._lines.length-1)-this._fontOffset.descent;break;case p.VERTICAL_ALIGNMENT_CENTER:i=this._fontOffset.ascent+(e-this._fontOffset.height*this._lines.length)/2}i+=this._currentMeasure.top;for(var r=0;r<this._lines.length;r++){var n=this._lines[r];0!==r&&0!==this._lineSpacing.internalValue&&(this._lineSpacing.isPixel?i+=this._lineSpacing.getValue(this._host):i+=this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height)),this._drawText(n.text,n.width,i,t),i+=this._fontOffset.height}},e.prototype.computeExpectedHeight=function(){if(this.text&&this.widthInPixels){var t=document.createElement(\"canvas\").getContext(\"2d\");if(t){this._applyStates(t),this._fontOffset||(this._fontOffset=p._GetFontOffset(t.font));var e=this._lines?this._lines:this._breakLines(this.widthInPixels-this.paddingLeftInPixels-this.paddingRightInPixels,t),i=this.paddingTopInPixels+this.paddingBottomInPixels+this._fontOffset.height*e.length;if(e.length>0&&0!==this._lineSpacing.internalValue){var r=0;r=this._lineSpacing.isPixel?this._lineSpacing.getValue(this._host):this._lineSpacing.getValue(this._host)*this._height.getValueInPixel(this._host,this._cachedParentMeasure.height),i+=(e.length-1)*r}return i}}return 0},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.onTextChangedObservable.clear()},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.TextBlock\"]=y;var v=function(t){function e(i,r){void 0===r&&(r=null);var n=t.call(this,i)||this;return n.name=i,n._workingCanvas=null,n._loaded=!1,n._stretch=e.STRETCH_FILL,n._autoScale=!1,n._sourceLeft=0,n._sourceTop=0,n._sourceWidth=0,n._sourceHeight=0,n._cellWidth=0,n._cellHeight=0,n._cellId=-1,n._populateNinePatchSlicesFromImage=!1,n.onImageLoadedObservable=new s.Observable,n.onSVGAttributesComputedObservable=new s.Observable,n.source=r,n}return n(e,t),Object.defineProperty(e.prototype,\"isLoaded\",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"populateNinePatchSlicesFromImage\",{get:function(){return this._populateNinePatchSlicesFromImage},set:function(t){this._populateNinePatchSlicesFromImage!==t&&(this._populateNinePatchSlicesFromImage=t,this._populateNinePatchSlicesFromImage&&this._loaded&&this._extractNinePatchSliceDataFromImage())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"detectPointerOnOpaqueOnly\",{get:function(){return this._detectPointerOnOpaqueOnly},set:function(t){this._detectPointerOnOpaqueOnly!==t&&(this._detectPointerOnOpaqueOnly=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sliceLeft\",{get:function(){return this._sliceLeft},set:function(t){this._sliceLeft!==t&&(this._sliceLeft=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sliceRight\",{get:function(){return this._sliceRight},set:function(t){this._sliceRight!==t&&(this._sliceRight=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sliceTop\",{get:function(){return this._sliceTop},set:function(t){this._sliceTop!==t&&(this._sliceTop=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sliceBottom\",{get:function(){return this._sliceBottom},set:function(t){this._sliceBottom!==t&&(this._sliceBottom=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sourceLeft\",{get:function(){return this._sourceLeft},set:function(t){this._sourceLeft!==t&&(this._sourceLeft=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sourceTop\",{get:function(){return this._sourceTop},set:function(t){this._sourceTop!==t&&(this._sourceTop=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sourceWidth\",{get:function(){return this._sourceWidth},set:function(t){this._sourceWidth!==t&&(this._sourceWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"sourceHeight\",{get:function(){return this._sourceHeight},set:function(t){this._sourceHeight!==t&&(this._sourceHeight=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"autoScale\",{get:function(){return this._autoScale},set:function(t){this._autoScale!==t&&(this._autoScale=t,t&&this._loaded&&this.synchronizeSizeWithContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"stretch\",{get:function(){return this._stretch},set:function(t){this._stretch!==t&&(this._stretch=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._rotate90=function(t){var i=document.createElement(\"canvas\"),r=i.getContext(\"2d\"),n=this._domImage.width,o=this._domImage.height;i.width=o,i.height=n,r.translate(i.width/2,i.height/2),r.rotate(t*Math.PI/2),r.drawImage(this._domImage,0,0,n,o,-n/2,-o/2,n,o);var s=i.toDataURL(\"image/jpg\");return new e(this.name+\"rotated\",s)},Object.defineProperty(e.prototype,\"domImage\",{get:function(){return this._domImage},set:function(t){var e=this;this._domImage=t,this._loaded=!1,this._domImage.width?this._onImageLoaded():this._domImage.onload=function(){e._onImageLoaded()}},enumerable:!0,configurable:!0}),e.prototype._onImageLoaded=function(){this._imageWidth=this._domImage.width,this._imageHeight=this._domImage.height,this._loaded=!0,this._populateNinePatchSlicesFromImage&&this._extractNinePatchSliceDataFromImage(),this._autoScale&&this.synchronizeSizeWithContent(),this.onImageLoadedObservable.notifyObservers(this),this._markAsDirty()},e.prototype._extractNinePatchSliceDataFromImage=function(){this._workingCanvas||(this._workingCanvas=document.createElement(\"canvas\"));var t=this._workingCanvas,e=t.getContext(\"2d\"),i=this._domImage.width,r=this._domImage.height;t.width=i,t.height=r,e.drawImage(this._domImage,0,0,i,r);var n=e.getImageData(0,0,i,r);this._sliceLeft=-1,this._sliceRight=-1;for(var o=0;o<i;o++){if((a=n.data[4*o+3])>127&&-1===this._sliceLeft)this._sliceLeft=o;else if(a<127&&this._sliceLeft>-1){this._sliceRight=o;break}}this._sliceTop=-1,this._sliceBottom=-1;for(var s=0;s<r;s++){var a;if((a=n.data[s*i*4+3])>127&&-1===this._sliceTop)this._sliceTop=s;else if(a<127&&this._sliceTop>-1){this._sliceBottom=s;break}}},Object.defineProperty(e.prototype,\"source\",{set:function(t){var e=this;this._source!==t&&(this._loaded=!1,this._source=t,t&&(t=this._svgCheck(t)),this._domImage=document.createElement(\"img\"),this._domImage.onload=function(){e._onImageLoaded()},t&&(s.Tools.SetCorsBehavior(t,this._domImage),this._domImage.src=t))},enumerable:!0,configurable:!0}),e.prototype._svgCheck=function(t){var e=this;if(window.SVGSVGElement&&-1!==t.search(/.svg#/gi)&&t.indexOf(\"#\")===t.lastIndexOf(\"#\")){var i=t.split(\"#\")[0],r=t.split(\"#\")[1],n=document.body.querySelector('object[data=\"'+i+'\"]');if(n){var o=n.contentDocument;if(o&&o.documentElement){var s=o.documentElement.getAttribute(\"viewBox\"),a=Number(o.documentElement.getAttribute(\"width\")),h=Number(o.documentElement.getAttribute(\"height\"));if(s&&a&&h)return this._getSVGAttribs(n,r),t}n.addEventListener(\"load\",(function(){e._getSVGAttribs(n,r)}))}else{var l=document.createElement(\"object\");l.data=i,l.type=\"image/svg+xml\",l.width=\"0%\",l.height=\"0%\",document.body.appendChild(l),l.onload=function(){var t=document.body.querySelector('object[data=\"'+i+'\"]');t&&e._getSVGAttribs(t,r)}}return i}return t},e.prototype._getSVGAttribs=function(t,e){var i=t.contentDocument;if(i&&i.documentElement){var r=i.documentElement.getAttribute(\"viewBox\"),n=Number(i.documentElement.getAttribute(\"width\")),o=Number(i.documentElement.getAttribute(\"height\")),s=i.getElementById(e);if(r&&n&&o){var a=Number(r.split(\" \")[2]),h=Number(r.split(\" \")[3]),l=s.getBBox(),u=1,c=1,_=0,d=0;s.transform&&s.transform.baseVal.consolidate()&&(u=s.transform.baseVal.consolidate().matrix.a,c=s.transform.baseVal.consolidate().matrix.d,_=s.transform.baseVal.consolidate().matrix.e,d=s.transform.baseVal.consolidate().matrix.f),this.sourceLeft=(u*l.x+_)*n/a,this.sourceTop=(c*l.y+d)*o/h,this.sourceWidth=l.width*u*(n/a),this.sourceHeight=l.height*c*(o/h),this.onSVGAttributesComputedObservable.notifyObservers(this)}}},Object.defineProperty(e.prototype,\"cellWidth\",{get:function(){return this._cellWidth},set:function(t){this._cellWidth!==t&&(this._cellWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cellHeight\",{get:function(){return this._cellHeight},set:function(t){this._cellHeight!==t&&(this._cellHeight=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cellId\",{get:function(){return this._cellId},set:function(t){this._cellId!==t&&(this._cellId=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype.contains=function(e,i){if(!t.prototype.contains.call(this,e,i))return!1;if(!this._detectPointerOnOpaqueOnly||!this._workingCanvas)return!0;var r=this._workingCanvas.getContext(\"2d\"),n=0|this._currentMeasure.width,o=0|this._currentMeasure.height;return r.getImageData(0,0,n,o).data[4*((e=e-this._currentMeasure.left|0)+(i=i-this._currentMeasure.top|0)*this._currentMeasure.width)+3]>0},e.prototype._getTypeName=function(){return\"Image\"},e.prototype.synchronizeSizeWithContent=function(){this._loaded&&(this.width=this._domImage.width+\"px\",this.height=this._domImage.height+\"px\")},e.prototype._processMeasures=function(i,r){if(this._loaded)switch(this._stretch){case e.STRETCH_NONE:case e.STRETCH_FILL:case e.STRETCH_UNIFORM:case e.STRETCH_NINE_PATCH:break;case e.STRETCH_EXTEND:this._autoScale&&this.synchronizeSizeWithContent(),this.parent&&this.parent.parent&&(this.parent.adaptWidthToChildren=!0,this.parent.adaptHeightToChildren=!0)}t.prototype._processMeasures.call(this,i,r)},e.prototype._prepareWorkingCanvasForOpaqueDetection=function(){if(this._detectPointerOnOpaqueOnly){this._workingCanvas||(this._workingCanvas=document.createElement(\"canvas\"));var t=this._workingCanvas,e=this._currentMeasure.width,i=this._currentMeasure.height,r=t.getContext(\"2d\");t.width=e,t.height=i,r.clearRect(0,0,e,i)}},e.prototype._drawImage=function(t,e,i,r,n,o,s,a,h){(t.drawImage(this._domImage,e,i,r,n,o,s,a,h),this._detectPointerOnOpaqueOnly)&&(t=this._workingCanvas.getContext(\"2d\")).drawImage(this._domImage,e,i,r,n,o-this._currentMeasure.left,s-this._currentMeasure.top,a,h)},e.prototype._draw=function(t){var i,r,n,o;if(t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),-1==this.cellId)i=this._sourceLeft,r=this._sourceTop,n=this._sourceWidth?this._sourceWidth:this._imageWidth,o=this._sourceHeight?this._sourceHeight:this._imageHeight;else{var s=this._domImage.naturalWidth/this.cellWidth,a=this.cellId/s>>0,h=this.cellId%s;i=this.cellWidth*h,r=this.cellHeight*a,n=this.cellWidth,o=this.cellHeight}if(this._prepareWorkingCanvasForOpaqueDetection(),this._applyStates(t),this._loaded)switch(this._stretch){case e.STRETCH_NONE:case e.STRETCH_FILL:this._drawImage(t,i,r,n,o,this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);break;case e.STRETCH_UNIFORM:var l=this._currentMeasure.width/n,u=this._currentMeasure.height/o,c=Math.min(l,u),_=(this._currentMeasure.width-n*c)/2,d=(this._currentMeasure.height-o*c)/2;this._drawImage(t,i,r,n,o,this._currentMeasure.left+_,this._currentMeasure.top+d,n*c,o*c);break;case e.STRETCH_EXTEND:this._drawImage(t,i,r,n,o,this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height);break;case e.STRETCH_NINE_PATCH:this._renderNinePatch(t)}t.restore()},e.prototype._renderCornerPatch=function(t,e,i,r,n,o,s){this._drawImage(t,e,i,r,n,this._currentMeasure.left+o,this._currentMeasure.top+s,r,n)},e.prototype._renderNinePatch=function(t){var e=this._imageHeight,i=this._sliceLeft,r=this._sliceTop,n=this._imageHeight-this._sliceBottom,o=this._imageWidth-this._sliceRight,s=0,a=0;this._populateNinePatchSlicesFromImage&&(s=1,a=1,e-=2,i-=1,r-=1,n-=1,o-=1);var h=this._sliceRight-this._sliceLeft+1,l=this._currentMeasure.width-o-this.sliceLeft+1,u=this._currentMeasure.height-e+this._sliceBottom;this._renderCornerPatch(t,s,a,i,r,0,0),this._renderCornerPatch(t,s,this._sliceBottom,i,e-this._sliceBottom,0,u),this._renderCornerPatch(t,this._sliceRight,a,o,r,this._currentMeasure.width-o,0),this._renderCornerPatch(t,this._sliceRight,this._sliceBottom,o,e-this._sliceBottom,this._currentMeasure.width-o,u),this._drawImage(t,this._sliceLeft,this._sliceTop,h,this._sliceBottom-this._sliceTop+1,this._currentMeasure.left+i,this._currentMeasure.top+r,l,u-r+1),this._drawImage(t,s,this._sliceTop,i,this._sliceBottom-this._sliceTop,this._currentMeasure.left,this._currentMeasure.top+r,i,u-r),this._drawImage(t,this._sliceRight,this._sliceTop,i,this._sliceBottom-this._sliceTop,this._currentMeasure.left+this._currentMeasure.width-o,this._currentMeasure.top+r,i,u-r),this._drawImage(t,this._sliceLeft,a,h,r,this._currentMeasure.left+i,this._currentMeasure.top,l,r),this._drawImage(t,this._sliceLeft,this._sliceBottom,h,n,this._currentMeasure.left+i,this._currentMeasure.top+u,l,n)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.onImageLoadedObservable.clear(),this.onSVGAttributesComputedObservable.clear()},e.STRETCH_NONE=0,e.STRETCH_FILL=1,e.STRETCH_UNIFORM=2,e.STRETCH_EXTEND=3,e.STRETCH_NINE_PATCH=4,e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Image\"]=v;var O=function(t){function e(e){var i=t.call(this,e)||this;i.name=e,i.delegatePickingToChildren=!1,i.thickness=1,i.isPointerBlocker=!0;var r=null;return i.pointerEnterAnimation=function(){r=i.alpha,i.alpha-=.1},i.pointerOutAnimation=function(){null!==r&&(i.alpha=r)},i.pointerDownAnimation=function(){i.scaleX-=.05,i.scaleY-=.05},i.pointerUpAnimation=function(){i.scaleX+=.05,i.scaleY+=.05},i}return n(e,t),Object.defineProperty(e.prototype,\"image\",{get:function(){return this._image},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textBlock\",{get:function(){return this._textBlock},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Button\"},e.prototype._processPicking=function(e,i,r,n,o){if(!this._isEnabled||!this.isHitTestVisible||!this.isVisible||this.notRenderable)return!1;if(!t.prototype.contains.call(this,e,i))return!1;if(this.delegatePickingToChildren){for(var s=!1,a=this._children.length-1;a>=0;a--){var h=this._children[a];if(h.isEnabled&&h.isHitTestVisible&&h.isVisible&&!h.notRenderable&&h.contains(e,i)){s=!0;break}}if(!s)return!1}return this._processObservables(r,e,i,n,o),!0},e.prototype._onPointerEnter=function(e){return!!t.prototype._onPointerEnter.call(this,e)&&(this.pointerEnterAnimation&&this.pointerEnterAnimation(),!0)},e.prototype._onPointerOut=function(e,i){void 0===i&&(i=!1),this.pointerOutAnimation&&this.pointerOutAnimation(),t.prototype._onPointerOut.call(this,e,i)},e.prototype._onPointerDown=function(e,i,r,n){return!!t.prototype._onPointerDown.call(this,e,i,r,n)&&(this.pointerDownAnimation&&this.pointerDownAnimation(),!0)},e.prototype._onPointerUp=function(e,i,r,n,o){this.pointerUpAnimation&&this.pointerUpAnimation(),t.prototype._onPointerUp.call(this,e,i,r,n,o)},e.CreateImageButton=function(t,i,r){var n=new e(t),o=new y(t+\"_button\",i);o.textWrapping=!0,o.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,o.paddingLeft=\"20%\",n.addControl(o);var s=new v(t+\"_icon\",r);return s.width=\"20%\",s.stretch=v.STRETCH_UNIFORM,s.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,n.addControl(s),n._image=s,n._textBlock=o,n},e.CreateImageOnlyButton=function(t,i){var r=new e(t),n=new v(t+\"_icon\",i);return n.stretch=v.STRETCH_FILL,n.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r.addControl(n),r._image=n,r},e.CreateSimpleButton=function(t,i){var r=new e(t),n=new y(t+\"_button\",i);return n.textWrapping=!0,n.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,r.addControl(n),r._textBlock=n,r},e.CreateImageWithCenterTextButton=function(t,i,r){var n=new e(t),o=new v(t+\"_icon\",r);o.stretch=v.STRETCH_FILL,n.addControl(o);var s=new y(t+\"_button\",i);return s.textWrapping=!0,s.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,n.addControl(s),n._image=o,n._textBlock=s,n},e}(m);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Button\"]=O;var C=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._isVertical=!0,i._manualWidth=!1,i._manualHeight=!1,i._doNotTrackManualChanges=!1,i.ignoreLayoutWarnings=!1,i}return n(e,t),Object.defineProperty(e.prototype,\"isVertical\",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"width\",{get:function(){return this._width.toString(this._host)},set:function(t){this._doNotTrackManualChanges||(this._manualWidth=!0),this._width.toString(this._host)!==t&&this._width.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"height\",{get:function(){return this._height.toString(this._host)},set:function(t){this._doNotTrackManualChanges||(this._manualHeight=!0),this._height.toString(this._host)!==t&&this._height.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"StackPanel\"},e.prototype._preMeasure=function(e,i){for(var r=0,n=this._children;r<n.length;r++){var o=n[r];this._isVertical?o.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP:o.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT}t.prototype._preMeasure.call(this,e,i)},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._measureForChildren.copyFrom(e),this._measureForChildren.left=this._currentMeasure.left,this._measureForChildren.top=this._currentMeasure.top,this.isVertical&&!this._manualWidth||(this._measureForChildren.width=this._currentMeasure.width),(this.isVertical||this._manualHeight)&&(this._measureForChildren.height=this._currentMeasure.height)},e.prototype._postMeasure=function(){for(var e=0,i=0,r=0,n=this._children;r<n.length;r++){var o=n[r];o.isVisible&&!o.notRenderable&&(this._isVertical?(o.top!==i+\"px\"&&(o.top=i+\"px\",this._rebuildLayout=!0,o._top.ignoreAdaptiveScaling=!0),o._height.isPercentage&&!o._automaticSize?this.ignoreLayoutWarnings||s.Tools.Warn(\"Control (Name:\"+o.name+\", UniqueId:\"+o.uniqueId+\") is using height in percentage mode inside a vertical StackPanel\"):i+=o._currentMeasure.height+o.paddingTopInPixels+o.paddingBottomInPixels):(o.left!==e+\"px\"&&(o.left=e+\"px\",this._rebuildLayout=!0,o._left.ignoreAdaptiveScaling=!0),o._width.isPercentage&&!o._automaticSize?this.ignoreLayoutWarnings||s.Tools.Warn(\"Control (Name:\"+o.name+\", UniqueId:\"+o.uniqueId+\") is using width in percentage mode inside a horizontal StackPanel\"):e+=o._currentMeasure.width+o.paddingLeftInPixels+o.paddingRightInPixels))}this._doNotTrackManualChanges=!0;var a=!1,h=!1;if(!this._manualHeight&&this._isVertical){var l=this.height;this.height=i+\"px\",h=l!==this.height||!this._height.ignoreAdaptiveScaling}if(!this._manualWidth&&!this._isVertical){var u=this.width;this.width=e+\"px\",a=u!==this.width||!this._width.ignoreAdaptiveScaling}h&&(this._height.ignoreAdaptiveScaling=!0),a&&(this._width.ignoreAdaptiveScaling=!0),this._doNotTrackManualChanges=!1,(a||h)&&(this._rebuildLayout=!0),t.prototype._postMeasure.call(this)},e}(g);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.StackPanel\"]=C;var w=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._isChecked=!1,i._background=\"black\",i._checkSizeRatio=.8,i._thickness=1,i.onIsCheckedChangedObservable=new s.Observable,i.isPointerBlocker=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"thickness\",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"checkSizeRatio\",{get:function(){return this._checkSizeRatio},set:function(t){t=Math.max(Math.min(1,t),0),this._checkSizeRatio!==t&&(this._checkSizeRatio=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isChecked\",{get:function(){return this._isChecked},set:function(t){this._isChecked!==t&&(this._isChecked=t,this._markAsDirty(),this.onIsCheckedChangedObservable.notifyObservers(t))},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Checkbox\"},e.prototype._draw=function(t,e){t.save(),this._applyStates(t);var i=this._currentMeasure.width-this._thickness,r=this._currentMeasure.height-this._thickness;if((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),t.fillStyle=this._isEnabled?this._background:this._disabledColor,t.fillRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,i,r),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this._isChecked){t.fillStyle=this._isEnabled?this.color:this._disabledColor;var n=i*this._checkSizeRatio,o=r*this._checkSizeRatio;t.fillRect(this._currentMeasure.left+this._thickness/2+(i-n)/2,this._currentMeasure.top+this._thickness/2+(r-o)/2,n,o)}t.strokeStyle=this.color,t.lineWidth=this._thickness,t.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,i,r),t.restore()},e.prototype._onPointerDown=function(e,i,r,n){return!!t.prototype._onPointerDown.call(this,e,i,r,n)&&(this.isChecked=!this.isChecked,!0)},e.AddCheckBoxWithHeader=function(t,i){var r=new C;r.isVertical=!1,r.height=\"30px\";var n=new e;n.width=\"20px\",n.height=\"20px\",n.isChecked=!0,n.color=\"green\",n.onIsCheckedChangedObservable.add(i),r.addControl(n);var o=new y;return o.text=t,o.width=\"180px\",o.paddingLeft=\"5px\",o.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,o.color=\"white\",r.addControl(o),r},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Checkbox\"]=w;var T=function(t){function e(e,i){void 0===i&&(i=\"\");var r=t.call(this,e)||this;return r.name=e,r._text=\"\",r._placeholderText=\"\",r._background=\"#222222\",r._focusedBackground=\"#000000\",r._focusedColor=\"white\",r._placeholderColor=\"gray\",r._thickness=1,r._margin=new a(10,a.UNITMODE_PIXEL),r._autoStretchWidth=!0,r._maxWidth=new a(1,a.UNITMODE_PERCENTAGE,!1),r._isFocused=!1,r._blinkIsEven=!1,r._cursorOffset=0,r._deadKey=!1,r._addKey=!0,r._currentKey=\"\",r._isTextHighlightOn=!1,r._textHighlightColor=\"#d5e0ff\",r._highligherOpacity=.4,r._highlightedText=\"\",r._startHighlightIndex=0,r._endHighlightIndex=0,r._cursorIndex=-1,r._onFocusSelectAll=!1,r._isPointerDown=!1,r.promptMessage=\"Please enter text:\",r.disableMobilePrompt=!1,r.onTextChangedObservable=new s.Observable,r.onBeforeKeyAddObservable=new s.Observable,r.onFocusObservable=new s.Observable,r.onBlurObservable=new s.Observable,r.onTextHighlightObservable=new s.Observable,r.onTextCopyObservable=new s.Observable,r.onTextCutObservable=new s.Observable,r.onTextPasteObservable=new s.Observable,r.onKeyboardEventProcessedObservable=new s.Observable,r.text=i,r.isPointerBlocker=!0,r}return n(e,t),Object.defineProperty(e.prototype,\"maxWidth\",{get:function(){return this._maxWidth.toString(this._host)},set:function(t){this._maxWidth.toString(this._host)!==t&&this._maxWidth.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"maxWidthInPixels\",{get:function(){return this._maxWidth.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"highligherOpacity\",{get:function(){return this._highligherOpacity},set:function(t){this._highligherOpacity!==t&&(this._highligherOpacity=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"onFocusSelectAll\",{get:function(){return this._onFocusSelectAll},set:function(t){this._onFocusSelectAll!==t&&(this._onFocusSelectAll=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"textHighlightColor\",{get:function(){return this._textHighlightColor},set:function(t){this._textHighlightColor!==t&&(this._textHighlightColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"margin\",{get:function(){return this._margin.toString(this._host)},set:function(t){this._margin.toString(this._host)!==t&&this._margin.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"marginInPixels\",{get:function(){return this._margin.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"autoStretchWidth\",{get:function(){return this._autoStretchWidth},set:function(t){this._autoStretchWidth!==t&&(this._autoStretchWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thickness\",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"focusedBackground\",{get:function(){return this._focusedBackground},set:function(t){this._focusedBackground!==t&&(this._focusedBackground=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"focusedColor\",{get:function(){return this._focusedColor},set:function(t){this._focusedColor!==t&&(this._focusedColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"placeholderColor\",{get:function(){return this._placeholderColor},set:function(t){this._placeholderColor!==t&&(this._placeholderColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"placeholderText\",{get:function(){return this._placeholderText},set:function(t){this._placeholderText!==t&&(this._placeholderText=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"deadKey\",{get:function(){return this._deadKey},set:function(t){this._deadKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"highlightedText\",{get:function(){return this._highlightedText},set:function(t){this._highlightedText!==t&&(this._highlightedText=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"addKey\",{get:function(){return this._addKey},set:function(t){this._addKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"currentKey\",{get:function(){return this._currentKey},set:function(t){this._currentKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"text\",{get:function(){return this._text},set:function(t){var e=t.toString();this._text!==e&&(this._text=e,this._markAsDirty(),this.onTextChangedObservable.notifyObservers(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"width\",{get:function(){return this._width.toString(this._host)},set:function(t){this._width.toString(this._host)!==t&&(this._width.fromString(t)&&this._markAsDirty(),this.autoStretchWidth=!1)},enumerable:!0,configurable:!0}),e.prototype.onBlur=function(){this._isFocused=!1,this._scrollLeft=null,this._cursorOffset=0,clearTimeout(this._blinkTimeout),this._markAsDirty(),this.onBlurObservable.notifyObservers(this),this._host.unRegisterClipboardEvents(),this._onClipboardObserver&&this._host.onClipboardObservable.remove(this._onClipboardObserver);var t=this._host.getScene();this._onPointerDblTapObserver&&t&&t.onPointerObservable.remove(this._onPointerDblTapObserver)},e.prototype.onFocus=function(){var t=this;if(this._isEnabled){if(this._scrollLeft=null,this._isFocused=!0,this._blinkIsEven=!1,this._cursorOffset=0,this._markAsDirty(),this.onFocusObservable.notifyObservers(this),-1!==navigator.userAgent.indexOf(\"Mobile\")&&!this.disableMobilePrompt){var e=prompt(this.promptMessage);return null!==e&&(this.text=e),void(this._host.focusedControl=null)}this._host.registerClipboardEvents(),this._onClipboardObserver=this._host.onClipboardObservable.add((function(e){switch(e.type){case s.ClipboardEventTypes.COPY:t._onCopyText(e.event),t.onTextCopyObservable.notifyObservers(t);break;case s.ClipboardEventTypes.CUT:t._onCutText(e.event),t.onTextCutObservable.notifyObservers(t);break;case s.ClipboardEventTypes.PASTE:t._onPasteText(e.event),t.onTextPasteObservable.notifyObservers(t);break;default:return}}));var i=this._host.getScene();i&&(this._onPointerDblTapObserver=i.onPointerObservable.add((function(e){t._isFocused&&e.type===s.PointerEventTypes.POINTERDOUBLETAP&&t._processDblClick(e)}))),this._onFocusSelectAll&&this._selectAllText()}},e.prototype._getTypeName=function(){return\"InputText\"},e.prototype.keepsFocusWith=function(){return this._connectedVirtualKeyboard?[this._connectedVirtualKeyboard]:null},e.prototype.processKey=function(t,e,i){if(!i||!i.ctrlKey&&!i.metaKey||67!==t&&86!==t&&88!==t){if(i&&(i.ctrlKey||i.metaKey)&&65===t)return this._selectAllText(),void i.preventDefault();switch(t){case 32:e=\" \";break;case 191:i&&i.preventDefault();break;case 8:if(this._text&&this._text.length>0){if(this._isTextHighlightOn)return this.text=this._text.slice(0,this._startHighlightIndex)+this._text.slice(this._endHighlightIndex),this._isTextHighlightOn=!1,this._cursorOffset=this.text.length-this._startHighlightIndex,this._blinkIsEven=!1,void(i&&i.preventDefault());if(0===this._cursorOffset)this.text=this._text.substr(0,this._text.length-1);else(n=this._text.length-this._cursorOffset)>0&&(this.text=this._text.slice(0,n-1)+this._text.slice(n))}return void(i&&i.preventDefault());case 46:if(this._isTextHighlightOn){this.text=this._text.slice(0,this._startHighlightIndex)+this._text.slice(this._endHighlightIndex);for(var r=this._endHighlightIndex-this._startHighlightIndex;r>0&&this._cursorOffset>0;)this._cursorOffset--;return this._isTextHighlightOn=!1,this._cursorOffset=this.text.length-this._startHighlightIndex,void(i&&i.preventDefault())}if(this._text&&this._text.length>0&&this._cursorOffset>0){var n=this._text.length-this._cursorOffset;this.text=this._text.slice(0,n)+this._text.slice(n+1),this._cursorOffset--}return void(i&&i.preventDefault());case 13:return this._host.focusedControl=null,void(this._isTextHighlightOn=!1);case 35:return this._cursorOffset=0,this._blinkIsEven=!1,this._isTextHighlightOn=!1,void this._markAsDirty();case 36:return this._cursorOffset=this._text.length,this._blinkIsEven=!1,this._isTextHighlightOn=!1,void this._markAsDirty();case 37:if(this._cursorOffset++,this._cursorOffset>this._text.length&&(this._cursorOffset=this._text.length),i&&i.shiftKey){if(this._blinkIsEven=!1,i.ctrlKey||i.metaKey){if(!this._isTextHighlightOn){if(this._text.length===this._cursorOffset)return;this._endHighlightIndex=this._text.length-this._cursorOffset+1}return this._startHighlightIndex=0,this._cursorIndex=this._text.length-this._endHighlightIndex,this._cursorOffset=this._text.length,this._isTextHighlightOn=!0,void this._markAsDirty()}return this._isTextHighlightOn?-1===this._cursorIndex&&(this._cursorIndex=this._text.length-this._endHighlightIndex,this._cursorOffset=0===this._startHighlightIndex?this._text.length:this._text.length-this._startHighlightIndex+1):(this._isTextHighlightOn=!0,this._cursorIndex=this._cursorOffset>=this._text.length?this._text.length:this._cursorOffset-1),this._cursorIndex<this._cursorOffset?(this._endHighlightIndex=this._text.length-this._cursorIndex,this._startHighlightIndex=this._text.length-this._cursorOffset):this._cursorIndex>this._cursorOffset?(this._endHighlightIndex=this._text.length-this._cursorOffset,this._startHighlightIndex=this._text.length-this._cursorIndex):this._isTextHighlightOn=!1,void this._markAsDirty()}return this._isTextHighlightOn&&(this._cursorOffset=this._text.length-this._startHighlightIndex,this._isTextHighlightOn=!1),i&&(i.ctrlKey||i.metaKey)&&(this._cursorOffset=this.text.length,i.preventDefault()),this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._cursorIndex=-1,void this._markAsDirty();case 39:if(this._cursorOffset--,this._cursorOffset<0&&(this._cursorOffset=0),i&&i.shiftKey){if(this._blinkIsEven=!1,i.ctrlKey||i.metaKey){if(!this._isTextHighlightOn){if(0===this._cursorOffset)return;this._startHighlightIndex=this._text.length-this._cursorOffset-1}return this._endHighlightIndex=this._text.length,this._isTextHighlightOn=!0,this._cursorIndex=this._text.length-this._startHighlightIndex,this._cursorOffset=0,void this._markAsDirty()}return this._isTextHighlightOn?-1===this._cursorIndex&&(this._cursorIndex=this._text.length-this._startHighlightIndex,this._cursorOffset=this._text.length===this._endHighlightIndex?0:this._text.length-this._endHighlightIndex-1):(this._isTextHighlightOn=!0,this._cursorIndex=this._cursorOffset<=0?0:this._cursorOffset+1),this._cursorIndex<this._cursorOffset?(this._endHighlightIndex=this._text.length-this._cursorIndex,this._startHighlightIndex=this._text.length-this._cursorOffset):this._cursorIndex>this._cursorOffset?(this._endHighlightIndex=this._text.length-this._cursorOffset,this._startHighlightIndex=this._text.length-this._cursorIndex):this._isTextHighlightOn=!1,void this._markAsDirty()}return this._isTextHighlightOn&&(this._cursorOffset=this._text.length-this._endHighlightIndex,this._isTextHighlightOn=!1),i&&(i.ctrlKey||i.metaKey)&&(this._cursorOffset=0,i.preventDefault()),this._blinkIsEven=!1,this._isTextHighlightOn=!1,this._cursorIndex=-1,void this._markAsDirty();case 222:i&&i.preventDefault(),this._cursorIndex=-1,this.deadKey=!0}if(e&&(-1===t||32===t||t>47&&t<64||t>64&&t<91||t>159&&t<193||t>218&&t<223||t>95&&t<112)&&(this._currentKey=e,this.onBeforeKeyAddObservable.notifyObservers(this),e=this._currentKey,this._addKey))if(this._isTextHighlightOn)this.text=this._text.slice(0,this._startHighlightIndex)+e+this._text.slice(this._endHighlightIndex),this._cursorOffset=this.text.length-(this._startHighlightIndex+1),this._isTextHighlightOn=!1,this._blinkIsEven=!1,this._markAsDirty();else if(0===this._cursorOffset)this.text+=e;else{var o=this._text.length-this._cursorOffset;this.text=this._text.slice(0,o)+e+this._text.slice(o)}}},e.prototype._updateValueFromCursorIndex=function(t){if(this._blinkIsEven=!1,-1===this._cursorIndex)this._cursorIndex=t;else if(this._cursorIndex<this._cursorOffset)this._endHighlightIndex=this._text.length-this._cursorIndex,this._startHighlightIndex=this._text.length-this._cursorOffset;else{if(!(this._cursorIndex>this._cursorOffset))return this._isTextHighlightOn=!1,void this._markAsDirty();this._endHighlightIndex=this._text.length-this._cursorOffset,this._startHighlightIndex=this._text.length-this._cursorIndex}this._isTextHighlightOn=!0,this._markAsDirty()},e.prototype._processDblClick=function(t){this._startHighlightIndex=this._text.length-this._cursorOffset,this._endHighlightIndex=this._startHighlightIndex;var e,i,r=/\\w+/g;do{i=this._endHighlightIndex<this._text.length&&-1!==this._text[this._endHighlightIndex].search(r)?++this._endHighlightIndex:0,e=this._startHighlightIndex>0&&-1!==this._text[this._startHighlightIndex-1].search(r)?--this._startHighlightIndex:0}while(e||i);this._cursorOffset=this.text.length-this._startHighlightIndex,this.onTextHighlightObservable.notifyObservers(this),this._isTextHighlightOn=!0,this._clickedCoordinate=null,this._blinkIsEven=!0,this._cursorIndex=-1,this._markAsDirty()},e.prototype._selectAllText=function(){this._blinkIsEven=!0,this._isTextHighlightOn=!0,this._startHighlightIndex=0,this._endHighlightIndex=this._text.length,this._cursorOffset=this._text.length,this._cursorIndex=-1,this._markAsDirty()},e.prototype.processKeyboard=function(t){this.processKey(t.keyCode,t.key,t),this.onKeyboardEventProcessedObservable.notifyObservers(t)},e.prototype._onCopyText=function(t){this._isTextHighlightOn=!1;try{t.clipboardData&&t.clipboardData.setData(\"text/plain\",this._highlightedText)}catch(t){}this._host.clipboardData=this._highlightedText},e.prototype._onCutText=function(t){if(this._highlightedText){this.text=this._text.slice(0,this._startHighlightIndex)+this._text.slice(this._endHighlightIndex),this._isTextHighlightOn=!1,this._cursorOffset=this.text.length-this._startHighlightIndex;try{t.clipboardData&&t.clipboardData.setData(\"text/plain\",this._highlightedText)}catch(t){}this._host.clipboardData=this._highlightedText,this._highlightedText=\"\"}},e.prototype._onPasteText=function(t){var e=\"\";e=t.clipboardData&&-1!==t.clipboardData.types.indexOf(\"text/plain\")?t.clipboardData.getData(\"text/plain\"):this._host.clipboardData;var i=this._text.length-this._cursorOffset;this.text=this._text.slice(0,i)+e+this._text.slice(i)},e.prototype._draw=function(t,e){var i=this;t.save(),this._applyStates(t),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._isFocused?this._focusedBackground&&(t.fillStyle=this._isEnabled?this._focusedBackground:this._disabledColor,t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)):this._background&&(t.fillStyle=this._isEnabled?this._background:this._disabledColor,t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height)),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this._fontOffset||(this._fontOffset=p._GetFontOffset(t.font));var r=this._currentMeasure.left+this._margin.getValueInPixel(this._host,this._tempParentMeasure.width);this.color&&(t.fillStyle=this.color);var n=this._beforeRenderText(this._text);this._isFocused||this._text||!this._placeholderText||(n=this._placeholderText,this._placeholderColor&&(t.fillStyle=this._placeholderColor)),this._textWidth=t.measureText(n).width;var o=2*this._margin.getValueInPixel(this._host,this._tempParentMeasure.width);this._autoStretchWidth&&(this.width=Math.min(this._maxWidth.getValueInPixel(this._host,this._tempParentMeasure.width),this._textWidth+o)+\"px\");var s=this._fontOffset.ascent+(this._currentMeasure.height-this._fontOffset.height)/2,a=this._width.getValueInPixel(this._host,this._tempParentMeasure.width)-o;if(t.save(),t.beginPath(),t.rect(r,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,a+2,this._currentMeasure.height),t.clip(),this._isFocused&&this._textWidth>a){var h=r-this._textWidth+a;this._scrollLeft||(this._scrollLeft=h)}else this._scrollLeft=r;if(t.fillText(n,this._scrollLeft,this._currentMeasure.top+s),this._isFocused){if(this._clickedCoordinate){var l=this._scrollLeft+this._textWidth-this._clickedCoordinate,u=0;this._cursorOffset=0;var c=0;do{this._cursorOffset&&(c=Math.abs(l-u)),this._cursorOffset++,u=t.measureText(n.substr(n.length-this._cursorOffset,this._cursorOffset)).width}while(u<l&&n.length>=this._cursorOffset);Math.abs(l-u)>c&&this._cursorOffset--,this._blinkIsEven=!1,this._clickedCoordinate=null}if(!this._blinkIsEven){var _=this.text.substr(this._text.length-this._cursorOffset),d=t.measureText(_).width,f=this._scrollLeft+this._textWidth-d;f<r?(this._scrollLeft+=r-f,f=r,this._markAsDirty()):f>r+a&&(this._scrollLeft+=r+a-f,f=r+a,this._markAsDirty()),this._isTextHighlightOn||t.fillRect(f,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,2,this._fontOffset.height)}if(clearTimeout(this._blinkTimeout),this._blinkTimeout=setTimeout((function(){i._blinkIsEven=!i._blinkIsEven,i._markAsDirty()}),500),this._isTextHighlightOn){clearTimeout(this._blinkTimeout);var g=t.measureText(this.text.substring(this._startHighlightIndex)).width,b=this._scrollLeft+this._textWidth-g;this._highlightedText=this.text.substring(this._startHighlightIndex,this._endHighlightIndex);var m=t.measureText(this.text.substring(this._startHighlightIndex,this._endHighlightIndex)).width;b<r&&((m-=r-b)||(m=t.measureText(this.text.charAt(this.text.length-this._cursorOffset)).width),b=r),t.globalAlpha=this._highligherOpacity,t.fillStyle=this._textHighlightColor,t.fillRect(b,this._currentMeasure.top+(this._currentMeasure.height-this._fontOffset.height)/2,m,this._fontOffset.height),t.globalAlpha=1}}t.restore(),this._thickness&&(this._isFocused?this.focusedColor&&(t.strokeStyle=this.focusedColor):this.color&&(t.strokeStyle=this.color),t.lineWidth=this._thickness,t.strokeRect(this._currentMeasure.left+this._thickness/2,this._currentMeasure.top+this._thickness/2,this._currentMeasure.width-this._thickness,this._currentMeasure.height-this._thickness)),t.restore()},e.prototype._onPointerDown=function(e,i,r,n){return!!t.prototype._onPointerDown.call(this,e,i,r,n)&&(this._clickedCoordinate=i.x,this._isTextHighlightOn=!1,this._highlightedText=\"\",this._cursorIndex=-1,this._isPointerDown=!0,this._host._capturingControl[r]=this,this._host.focusedControl===this?(clearTimeout(this._blinkTimeout),this._markAsDirty(),!0):!!this._isEnabled&&(this._host.focusedControl=this,!0))},e.prototype._onPointerMove=function(e,i,r){this._host.focusedControl===this&&this._isPointerDown&&(this._clickedCoordinate=i.x,this._markAsDirty(),this._updateValueFromCursorIndex(this._cursorOffset)),t.prototype._onPointerMove.call(this,e,i,r)},e.prototype._onPointerUp=function(e,i,r,n,o){this._isPointerDown=!1,delete this._host._capturingControl[r],t.prototype._onPointerUp.call(this,e,i,r,n,o)},e.prototype._beforeRenderText=function(t){return t},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.onBlurObservable.clear(),this.onFocusObservable.clear(),this.onTextChangedObservable.clear(),this.onTextCopyObservable.clear(),this.onTextCutObservable.clear(),this.onTextPasteObservable.clear(),this.onTextHighlightObservable.clear(),this.onKeyboardEventProcessedObservable.clear()},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.InputText\"]=T;var x=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._rowDefinitions=new Array,i._columnDefinitions=new Array,i._cells={},i._childControls=new Array,i}return n(e,t),Object.defineProperty(e.prototype,\"columnCount\",{get:function(){return this._columnDefinitions.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rowCount\",{get:function(){return this._rowDefinitions.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._childControls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cells\",{get:function(){return this._cells},enumerable:!0,configurable:!0}),e.prototype.getRowDefinition=function(t){return t<0||t>=this._rowDefinitions.length?null:this._rowDefinitions[t]},e.prototype.getColumnDefinition=function(t){return t<0||t>=this._columnDefinitions.length?null:this._columnDefinitions[t]},e.prototype.addRowDefinition=function(t,e){return void 0===e&&(e=!1),this._rowDefinitions.push(new a(t,e?a.UNITMODE_PIXEL:a.UNITMODE_PERCENTAGE)),this._markAsDirty(),this},e.prototype.addColumnDefinition=function(t,e){return void 0===e&&(e=!1),this._columnDefinitions.push(new a(t,e?a.UNITMODE_PIXEL:a.UNITMODE_PERCENTAGE)),this._markAsDirty(),this},e.prototype.setRowDefinition=function(t,e,i){if(void 0===i&&(i=!1),t<0||t>=this._rowDefinitions.length)return this;var r=this._rowDefinitions[t];return r&&r.isPixel===i&&r.internalValue===e?this:(this._rowDefinitions[t]=new a(e,i?a.UNITMODE_PIXEL:a.UNITMODE_PERCENTAGE),this._markAsDirty(),this)},e.prototype.setColumnDefinition=function(t,e,i){if(void 0===i&&(i=!1),t<0||t>=this._columnDefinitions.length)return this;var r=this._columnDefinitions[t];return r&&r.isPixel===i&&r.internalValue===e?this:(this._columnDefinitions[t]=new a(e,i?a.UNITMODE_PIXEL:a.UNITMODE_PERCENTAGE),this._markAsDirty(),this)},e.prototype.getChildrenAt=function(t,e){var i=this._cells[t+\":\"+e];return i?i.children:null},e.prototype.getChildCellInfo=function(t){return t._tag},e.prototype._removeCell=function(e,i){if(e){t.prototype.removeControl.call(this,e);for(var r=0,n=e.children;r<n.length;r++){var o=n[r],s=this._childControls.indexOf(o);-1!==s&&this._childControls.splice(s,1)}delete this._cells[i]}},e.prototype._offsetCell=function(t,e){if(this._cells[e]){this._cells[t]=this._cells[e];for(var i=0,r=this._cells[t].children;i<r.length;i++){r[i]._tag=t}delete this._cells[e]}},e.prototype.removeColumnDefinition=function(t){if(t<0||t>=this._columnDefinitions.length)return this;for(var e=0;e<this._rowDefinitions.length;e++){var i=e+\":\"+t,r=this._cells[i];this._removeCell(r,i)}for(e=0;e<this._rowDefinitions.length;e++)for(var n=t+1;n<this._columnDefinitions.length;n++){var o=e+\":\"+(n-1);i=e+\":\"+n;this._offsetCell(o,i)}return this._columnDefinitions.splice(t,1),this._markAsDirty(),this},e.prototype.removeRowDefinition=function(t){if(t<0||t>=this._rowDefinitions.length)return this;for(var e=0;e<this._columnDefinitions.length;e++){var i=t+\":\"+e,r=this._cells[i];this._removeCell(r,i)}for(e=0;e<this._columnDefinitions.length;e++)for(var n=t+1;n<this._rowDefinitions.length;n++){var o=n-1+\":\"+e;i=n+\":\"+e;this._offsetCell(o,i)}return this._rowDefinitions.splice(t,1),this._markAsDirty(),this},e.prototype.addControl=function(e,i,r){if(void 0===i&&(i=0),void 0===r&&(r=0),0===this._rowDefinitions.length&&this.addRowDefinition(1,!1),0===this._columnDefinitions.length&&this.addColumnDefinition(1,!1),-1!==this._childControls.indexOf(e))return s.Tools.Warn(\"Control (Name:\"+e.name+\", UniqueId:\"+e.uniqueId+\") is already associated with this grid. You must remove it before reattaching it\"),this;var n=Math.min(i,this._rowDefinitions.length-1)+\":\"+Math.min(r,this._columnDefinitions.length-1),o=this._cells[n];return o||(o=new g(n),this._cells[n]=o,o.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,o.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,t.prototype.addControl.call(this,o)),o.addControl(e),this._childControls.push(e),e._tag=n,e.parent=this,this._markAsDirty(),this},e.prototype.removeControl=function(t){var e=this._childControls.indexOf(t);-1!==e&&this._childControls.splice(e,1);var i=this._cells[t._tag];return i&&(i.removeControl(t),t._tag=null),this._markAsDirty(),this},e.prototype._getTypeName=function(){return\"Grid\"},e.prototype._getGridDefinitions=function(t){for(var e=[],i=[],r=[],n=[],o=this._currentMeasure.width,s=0,a=this._currentMeasure.height,h=0,l=0,u=0,c=this._rowDefinitions;u<c.length;u++){if((g=c[u]).isPixel)a-=p=g.getValue(this._host),i[l]=p;else h+=g.internalValue;l++}var _=0;l=0;for(var d=0,f=this._rowDefinitions;d<f.length;d++){var p,g=f[d];if(n.push(_),g.isPixel)_+=g.getValue(this._host);else _+=p=g.internalValue/h*a,i[l]=p;l++}l=0;for(var b=0,m=this._columnDefinitions;b<m.length;b++){if((g=m[b]).isPixel)o-=C=g.getValue(this._host),e[l]=C;else s+=g.internalValue;l++}var y=0;l=0;for(var v=0,O=this._columnDefinitions;v<O.length;v++){var C;g=O[v];if(r.push(y),g.isPixel)y+=g.getValue(this._host);else y+=C=g.internalValue/s*o,e[l]=C;l++}t(r,n,e,i)},e.prototype._additionalProcessing=function(e,i){var r=this;this._getGridDefinitions((function(t,e,i,n){for(var o in r._cells)if(r._cells.hasOwnProperty(o)){var s=o.split(\":\"),a=parseInt(s[0]),h=parseInt(s[1]),l=r._cells[o];l.left=t[h]+\"px\",l.top=e[a]+\"px\",l.width=i[h]+\"px\",l.height=n[a]+\"px\",l._left.ignoreAdaptiveScaling=!0,l._top.ignoreAdaptiveScaling=!0,l._width.ignoreAdaptiveScaling=!0,l._height.ignoreAdaptiveScaling=!0}})),t.prototype._additionalProcessing.call(this,e,i)},e.prototype._flagDescendantsAsMatrixDirty=function(){for(var t in this._cells){if(this._cells.hasOwnProperty(t))this._cells[t]._markMatrixAsDirty()}},e.prototype._renderHighlightSpecific=function(e){var i=this;t.prototype._renderHighlightSpecific.call(this,e),this._getGridDefinitions((function(t,r,n,o){for(var s=0;s<t.length;s++){var a=i._currentMeasure.left+t[s]+n[s];e.beginPath(),e.moveTo(a,i._currentMeasure.top),e.lineTo(a,i._currentMeasure.top+i._currentMeasure.height),e.stroke()}for(s=0;s<r.length;s++){var h=i._currentMeasure.top+r[s]+o[s];e.beginPath(),e.moveTo(i._currentMeasure.left,h),e.lineTo(i._currentMeasure.left+i._currentMeasure.width,h),e.stroke()}})),e.restore()},e.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0,i=this._childControls;e<i.length;e++){i[e].dispose()}this._childControls=[]},e}(g);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Grid\"]=x;var M=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._value=s.Color3.Red(),i._tmpColor=new s.Color3,i._pointerStartedOnSquare=!1,i._pointerStartedOnWheel=!1,i._squareLeft=0,i._squareTop=0,i._squareSize=0,i._h=360,i._s=1,i._v=1,i._lastPointerDownID=-1,i.onValueChangedObservable=new s.Observable,i._pointerIsDown=!1,i.value=new s.Color3(.88,.1,.1),i.size=\"200px\",i.isPointerBlocker=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"value\",{get:function(){return this._value},set:function(t){this._value.equals(t)||(this._value.copyFrom(t),this._value.toHSVToRef(this._tmpColor),this._h=this._tmpColor.r,this._s=Math.max(this._tmpColor.g,1e-5),this._v=Math.max(this._tmpColor.b,1e-5),this._markAsDirty(),this._value.r<=e._Epsilon&&(this._value.r=0),this._value.g<=e._Epsilon&&(this._value.g=0),this._value.b<=e._Epsilon&&(this._value.b=0),this._value.r>=1-e._Epsilon&&(this._value.r=1),this._value.g>=1-e._Epsilon&&(this._value.g=1),this._value.b>=1-e._Epsilon&&(this._value.b=1),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"width\",{get:function(){return this._width.toString(this._host)},set:function(t){this._width.toString(this._host)!==t&&this._width.fromString(t)&&(this._height.fromString(t),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"height\",{get:function(){return this._height.toString(this._host)},set:function(t){this._height.toString(this._host)!==t&&this._height.fromString(t)&&(this._width.fromString(t),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"size\",{get:function(){return this.width},set:function(t){this.width=t},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"ColorPicker\"},e.prototype._preMeasure=function(t,e){t.width<t.height?this._currentMeasure.height=t.width:this._currentMeasure.width=t.height},e.prototype._updateSquareProps=function(){var t=.5*Math.min(this._currentMeasure.width,this._currentMeasure.height),e=2*(t-.2*t)/Math.sqrt(2),i=t-.5*e;this._squareLeft=this._currentMeasure.left+i,this._squareTop=this._currentMeasure.top+i,this._squareSize=e},e.prototype._drawGradientSquare=function(t,e,i,r,n,o){var s=o.createLinearGradient(e,i,r+e,i);s.addColorStop(0,\"#fff\"),s.addColorStop(1,\"hsl(\"+t+\", 100%, 50%)\"),o.fillStyle=s,o.fillRect(e,i,r,n);var a=o.createLinearGradient(e,i,e,n+i);a.addColorStop(0,\"rgba(0,0,0,0)\"),a.addColorStop(1,\"#000\"),o.fillStyle=a,o.fillRect(e,i,r,n)},e.prototype._drawCircle=function(t,e,i,r){r.beginPath(),r.arc(t,e,i+1,0,2*Math.PI,!1),r.lineWidth=3,r.strokeStyle=\"#333333\",r.stroke(),r.beginPath(),r.arc(t,e,i,0,2*Math.PI,!1),r.lineWidth=3,r.strokeStyle=\"#ffffff\",r.stroke()},e.prototype._createColorWheelCanvas=function(t,e){var i=document.createElement(\"canvas\");i.width=2*t,i.height=2*t;for(var r=i.getContext(\"2d\"),n=r.getImageData(0,0,2*t,2*t),o=n.data,a=this._tmpColor,h=t*t,l=t-e,u=l*l,c=-t;c<t;c++)for(var _=-t;_<t;_++){var d=c*c+_*_;if(!(d>h||d<u)){var f=Math.sqrt(d),p=Math.atan2(_,c);s.Color3.HSVtoRGBToRef(180*p/Math.PI+180,f/t,1,a);var g=4*(c+t+2*(_+t)*t);o[g]=255*a.r,o[g+1]=255*a.g,o[g+2]=255*a.b;var b=.2;b=t<50?.2:t>150?.04:-.16*(t-50)/100+.2;var m=(f-l)/(t-l);o[g+3]=m<b?m/b*255:m>1-b?255*(1-(m-(1-b))/b):255}}return r.putImageData(n,0,0),i},e.prototype._draw=function(t){t.save(),this._applyStates(t);var e=.5*Math.min(this._currentMeasure.width,this._currentMeasure.height),i=.2*e,r=this._currentMeasure.left,n=this._currentMeasure.top;this._colorWheelCanvas&&this._colorWheelCanvas.width==2*e||(this._colorWheelCanvas=this._createColorWheelCanvas(e,i)),this._updateSquareProps(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.fillRect(this._squareLeft,this._squareTop,this._squareSize,this._squareSize)),t.drawImage(this._colorWheelCanvas,r,n),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this._drawGradientSquare(this._h,this._squareLeft,this._squareTop,this._squareSize,this._squareSize,t);var o=this._squareLeft+this._squareSize*this._s,s=this._squareTop+this._squareSize*(1-this._v);this._drawCircle(o,s,.04*e,t);var a=e-.5*i;o=r+e+Math.cos((this._h-180)*Math.PI/180)*a,s=n+e+Math.sin((this._h-180)*Math.PI/180)*a,this._drawCircle(o,s,.35*i,t),t.restore()},e.prototype._updateValueFromPointer=function(t,i){if(this._pointerStartedOnWheel){var r=.5*Math.min(this._currentMeasure.width,this._currentMeasure.height),n=r+this._currentMeasure.left,o=r+this._currentMeasure.top;this._h=180*Math.atan2(i-o,t-n)/Math.PI+180}else this._pointerStartedOnSquare&&(this._updateSquareProps(),this._s=(t-this._squareLeft)/this._squareSize,this._v=1-(i-this._squareTop)/this._squareSize,this._s=Math.min(this._s,1),this._s=Math.max(this._s,e._Epsilon),this._v=Math.min(this._v,1),this._v=Math.max(this._v,e._Epsilon));s.Color3.HSVtoRGBToRef(this._h,this._s,this._v,this._tmpColor),this.value=this._tmpColor},e.prototype._isPointOnSquare=function(t,e){this._updateSquareProps();var i=this._squareLeft,r=this._squareTop,n=this._squareSize;return t>=i&&t<=i+n&&e>=r&&e<=r+n},e.prototype._isPointOnWheel=function(t,e){var i=.5*Math.min(this._currentMeasure.width,this._currentMeasure.height),r=i-.2*i,n=t-(i+this._currentMeasure.left),o=e-(i+this._currentMeasure.top),s=n*n+o*o;return s<=i*i&&s>=r*r},e.prototype._onPointerDown=function(e,i,r,n){if(!t.prototype._onPointerDown.call(this,e,i,r,n))return!1;this._pointerIsDown=!0,this._pointerStartedOnSquare=!1,this._pointerStartedOnWheel=!1,this._invertTransformMatrix.transformCoordinates(i.x,i.y,this._transformedPosition);var o=this._transformedPosition.x,s=this._transformedPosition.y;return this._isPointOnSquare(o,s)?this._pointerStartedOnSquare=!0:this._isPointOnWheel(o,s)&&(this._pointerStartedOnWheel=!0),this._updateValueFromPointer(o,s),this._host._capturingControl[r]=this,this._lastPointerDownID=r,!0},e.prototype._onPointerMove=function(e,i,r){if(r==this._lastPointerDownID){this._invertTransformMatrix.transformCoordinates(i.x,i.y,this._transformedPosition);var n=this._transformedPosition.x,o=this._transformedPosition.y;this._pointerIsDown&&this._updateValueFromPointer(n,o),t.prototype._onPointerMove.call(this,e,i,r)}},e.prototype._onPointerUp=function(e,i,r,n,o){this._pointerIsDown=!1,delete this._host._capturingControl[r],t.prototype._onPointerUp.call(this,e,i,r,n,o)},e.ShowPickerDialogAsync=function(t,i){return new Promise((function(r,n){i.pickerWidth=i.pickerWidth||\"640px\",i.pickerHeight=i.pickerHeight||\"400px\",i.headerHeight=i.headerHeight||\"35px\",i.lastColor=i.lastColor||\"#000000\",i.swatchLimit=i.swatchLimit||20,i.numSwatchesPerLine=i.numSwatchesPerLine||10;var o,a,h,l,u,c,_,d,f,g,b,v,C,w,M,P,k,I,A,S=i.swatchLimit/i.numSwatchesPerLine,E=parseFloat(i.pickerWidth)/i.numSwatchesPerLine,L=Math.floor(.25*E),D=L*(i.numSwatchesPerLine+1),R=Math.floor((parseFloat(i.pickerWidth)-D)/i.numSwatchesPerLine),B=R*S+L*(S+1),N=(parseInt(i.pickerHeight)+B+Math.floor(.25*R)).toString()+\"px\",V=\"#c0c0c0\",H=\"#535353\",F=\"#414141\",j=\"515151\",W=\"#555555\",z=\"#454545\",G=s.Color3.FromHexString(\"#dddddd\"),X=G.r+G.g+G.b,Y=\"#aaaaaa\",U=\"#ffffff\",q=[\"R\",\"G\",\"B\"],K=!1;function Z(t,e){A=e;var i=t.toHexString();if(k.background=i,g.name!=A&&(g.text=Math.floor(255*t.r).toString()),b.name!=A&&(b.text=Math.floor(255*t.g).toString()),v.name!=A&&(v.text=Math.floor(255*t.b).toString()),C.name!=A&&(C.text=t.r.toString()),w.name!=A&&(w.text=t.g.toString()),M.name!=A&&(M.text=t.b.toString()),P.name!=A){var r=i.split(\"#\");P.text=r[1]}f.name!=A&&(f.value=t)}function J(t,e){var i=t.text;if(/[^0-9]/g.test(i))t.text=I;else if(\"\"!=i&&(Math.floor(parseInt(i))<0?i=\"0\":Math.floor(parseInt(i))>255?i=\"255\":isNaN(parseInt(i))&&(i=\"0\")),A==t.name&&(I=i),\"\"!=i){i=parseInt(i).toString(),t.text=i;var r=s.Color3.FromHexString(k.background);A==t.name&&Z(\"r\"==e?new s.Color3(parseInt(i)/255,r.g,r.b):\"g\"==e?new s.Color3(r.r,parseInt(i)/255,r.b):new s.Color3(r.r,r.g,parseInt(i)/255),t.name)}}function Q(t,e){var i=t.text;if(/[^0-9\\.]/g.test(i))t.text=I;else{\"\"!=i&&\".\"!=i&&0!=parseFloat(i)&&(parseFloat(i)<0?i=\"0.0\":parseFloat(i)>1?i=\"1.0\":isNaN(parseFloat(i))&&(i=\"0.0\")),A==t.name&&(I=i),\"\"!=i&&\".\"!=i&&0!=parseFloat(i)?(i=parseFloat(i).toString(),t.text=i):i=\"0.0\";var r=s.Color3.FromHexString(k.background);A==t.name&&Z(\"r\"==e?new s.Color3(parseFloat(i),r.g,r.b):\"g\"==e?new s.Color3(r.r,parseFloat(i),r.b):new s.Color3(r.r,r.g,parseFloat(i)),t.name)}}function $(){if(i.savedColors&&i.savedColors[_]){if(K)var t=\"b\";else t=\"\";var e=O.CreateSimpleButton(\"Swatch_\"+_,t);e.fontFamily=\"BabylonJSglyphs\";var r=s.Color3.FromHexString(i.savedColors[_]),n=r.r+r.g+r.b;e.color=n>X?Y:U,e.fontSize=Math.floor(.7*R),e.textBlock.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,e.height=e.width=R.toString()+\"px\",e.background=i.savedColors[_],e.thickness=2;var o=_;return e.pointerDownAnimation=function(){e.thickness=4},e.pointerUpAnimation=function(){e.thickness=3},e.pointerEnterAnimation=function(){e.thickness=3},e.pointerOutAnimation=function(){e.thickness=2},e.onPointerClickObservable.add((function(){var t;K?(t=o,i.savedColors&&i.savedColors.splice(t,1),i.savedColors&&0==i.savedColors.length&&(it(!1),K=!1),et(\"\",Bt)):i.savedColors&&Z(s.Color3.FromHexString(i.savedColors[o]),e.name)})),e}return null}function tt(t){if(void 0!==t&&(K=t),K){for(var e=0;e<d.children.length;e++){d.children[e].textBlock.text=\"b\"}void 0!==h&&(h.textBlock.text=\"Done\")}else{for(e=0;e<d.children.length;e++){d.children[e].textBlock.text=\"\"}void 0!==h&&(h.textBlock.text=\"Edit\")}}function et(t,e){if(i.savedColors){\"\"!=t&&i.savedColors.push(t),_=0,d.clearControls();var r=Math.ceil(i.savedColors.length/i.numSwatchesPerLine);if(0==r)var n=0;else n=r+1;if(d.rowCount!=r+n){for(var o=d.rowCount,s=0;s<o;s++)d.removeRowDefinition(0);for(s=0;s<r+n;s++)s%2?d.addRowDefinition(R,!0):d.addRowDefinition(L,!0)}d.height=(R*r+n*L).toString()+\"px\";for(var a=1,h=1;a<r+n;a+=2,h++){if(i.savedColors.length>h*i.numSwatchesPerLine)var l=i.numSwatchesPerLine;else l=i.savedColors.length-(h-1)*i.numSwatchesPerLine;for(var u=Math.min(Math.max(l,0),i.numSwatchesPerLine),c=0,f=1;c<u;c++)if(!(c>i.numSwatchesPerLine)){var p=$();null!=p&&(d.addControl(p,a,f),f+=2,_++)}}i.savedColors.length>=i.swatchLimit?rt(e,!0):rt(e,!1)}}function it(t){t?((h=O.CreateSimpleButton(\"butEdit\",\"Edit\")).width=l,h.height=u,h.left=Math.floor(.1*parseInt(l)).toString()+\"px\",h.top=(-1*parseFloat(h.left)).toString()+\"px\",h.verticalAlignment=p.VERTICAL_ALIGNMENT_BOTTOM,h.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,h.thickness=2,h.color=V,h.fontSize=a,h.background=H,h.onPointerEnterObservable.add((function(){h.background=F})),h.onPointerOutObservable.add((function(){h.background=H})),h.pointerDownAnimation=function(){h.background=j},h.pointerUpAnimation=function(){h.background=F},h.onPointerClickObservable.add((function(){K=!K,tt()})),mt.addControl(h,1,0)):mt.removeControl(h)}function rt(t,e){e?(t.color=W,t.background=z):(t.color=V,t.background=H)}function nt(e){i.savedColors&&i.savedColors.length>0?r({savedColors:i.savedColors,pickedColor:e}):r({pickedColor:e}),t.removeControl(ot)}var ot=new x;if(ot.name=\"Dialog Container\",ot.width=i.pickerWidth,i.savedColors){ot.height=N;var st=parseInt(i.pickerHeight)/parseInt(N);ot.addRowDefinition(st,!1),ot.addRowDefinition(1-st,!1)}else ot.height=i.pickerHeight,ot.addRowDefinition(1,!1);if(t.addControl(ot),i.savedColors){(d=new x).name=\"Swatch Drawer\",d.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,d.background=H,d.width=i.pickerWidth;var at=i.savedColors.length/i.numSwatchesPerLine;if(0==at)var ht=0;else ht=at+1;d.height=(R*at+ht*L).toString()+\"px\",d.top=Math.floor(.25*R).toString()+\"px\";for(var lt=0;lt<2*Math.ceil(i.savedColors.length/i.numSwatchesPerLine)+1;lt++)lt%2!=0?d.addRowDefinition(R,!0):d.addRowDefinition(L,!0);for(lt=0;lt<2*i.numSwatchesPerLine+1;lt++)lt%2!=0?d.addColumnDefinition(R,!0):d.addColumnDefinition(L,!0);ot.addControl(d,1,0)}var ut=new x;ut.name=\"Picker Panel\",ut.height=i.pickerHeight;var ct=parseInt(i.headerHeight)/parseInt(i.pickerHeight),_t=[ct,1-ct];ut.addRowDefinition(_t[0],!1),ut.addRowDefinition(_t[1],!1),ot.addControl(ut,0,0);var dt=new m;dt.name=\"Dialogue Header Bar\",dt.background=\"#cccccc\",dt.thickness=0,ut.addControl(dt,0,0);var ft=O.CreateSimpleButton(\"closeButton\",\"a\");ft.fontFamily=\"BabylonJSglyphs\";var pt=s.Color3.FromHexString(dt.background);o=new s.Color3(1-pt.r,1-pt.g,1-pt.b),ft.color=o.toHexString(),ft.fontSize=Math.floor(.6*parseInt(i.headerHeight)),ft.textBlock.textVerticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,ft.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_RIGHT,ft.height=ft.width=i.headerHeight,ft.background=dt.background,ft.thickness=0,ft.pointerDownAnimation=function(){},ft.pointerUpAnimation=function(){ft.background=dt.background},ft.pointerEnterAnimation=function(){ft.color=dt.background,ft.background=\"red\"},ft.pointerOutAnimation=function(){ft.color=o.toHexString(),ft.background=dt.background},ft.onPointerClickObservable.add((function(){nt(At.background)})),ut.addControl(ft,0,0);var gt=new x;gt.name=\"Dialogue Body\",gt.background=H;var bt=[.4375,.5625];gt.addRowDefinition(1,!1),gt.addColumnDefinition(bt[0],!1),gt.addColumnDefinition(bt[1],!1),ut.addControl(gt,1,0);var mt=new x;mt.name=\"Picker Grid\",mt.addRowDefinition(.85,!1),mt.addRowDefinition(.15,!1),gt.addControl(mt,0,0),(f=new e).name=\"GUI Color Picker\",i.pickerHeight<i.pickerWidth?f.width=.89:f.height=.89,f.value=s.Color3.FromHexString(i.lastColor),f.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,f.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,f.onPointerDownObservable.add((function(){A=f.name,I=\"\",tt(!1)})),f.onValueChangedObservable.add((function(t){A==f.name&&Z(t,f.name)})),mt.addControl(f,0,0);var yt=new x;yt.name=\"Dialogue Right Half\",yt.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT;var vt=[.514,.486];yt.addRowDefinition(vt[0],!1),yt.addRowDefinition(vt[1],!1),gt.addControl(yt,1,1);var Ot=new x;Ot.name=\"Swatches and Buttons\";var Ct=[.417,.583];Ot.addRowDefinition(1,!1),Ot.addColumnDefinition(Ct[0],!1),Ot.addColumnDefinition(Ct[1],!1),yt.addControl(Ot,0,0);var wt=new x;wt.name=\"New and Current Swatches\";var Tt=[.04,.16,.64,.16];wt.addRowDefinition(Tt[0],!1),wt.addRowDefinition(Tt[1],!1),wt.addRowDefinition(Tt[2],!1),wt.addRowDefinition(Tt[3],!1),Ot.addControl(wt,0,0);var xt=new x;xt.name=\"Active Swatches\",xt.width=.67,xt.addRowDefinition(.5,!1),xt.addRowDefinition(.5,!1),wt.addControl(xt,2,0);var Mt=Math.floor(parseInt(i.pickerWidth)*bt[1]*Ct[0]*.11),Pt=Math.floor(parseInt(i.pickerHeight)*_t[1]*vt[0]*Tt[1]*.5);if(i.pickerWidth>i.pickerHeight)var kt=Pt;else kt=Mt;var It=new y;It.text=\"new\",It.name=\"New Color Label\",It.color=V,It.fontSize=kt,wt.addControl(It,1,0),(k=new m).name=\"New Color Swatch\",k.background=i.lastColor,k.thickness=0,xt.addControl(k,0,0);var At=O.CreateSimpleButton(\"currentSwatch\",\"\");At.background=i.lastColor,At.thickness=0,At.onPointerClickObservable.add((function(){Z(s.Color3.FromHexString(At.background),At.name),tt(!1)})),At.pointerDownAnimation=function(){},At.pointerUpAnimation=function(){},At.pointerEnterAnimation=function(){},At.pointerOutAnimation=function(){},xt.addControl(At,1,0);var St=new m;St.name=\"Swatch Outline\",St.width=.67,St.thickness=2,St.color=\"#404040\",St.isHitTestVisible=!1,wt.addControl(St,2,0);var Et=new y;Et.name=\"Current Color Label\",Et.text=\"current\",Et.color=V,Et.fontSize=kt,wt.addControl(Et,3,0);var Lt=new x;Lt.name=\"Button Grid\",Lt.height=.8;Lt.addRowDefinition(1/3,!1),Lt.addRowDefinition(1/3,!1),Lt.addRowDefinition(1/3,!1),Ot.addControl(Lt,0,1),l=Math.floor(parseInt(i.pickerWidth)*bt[1]*Ct[1]*.67).toString()+\"px\",u=Math.floor(parseInt(i.pickerHeight)*_t[1]*vt[0]*(parseFloat(Lt.height.toString())/100)*(1/3)*.7).toString()+\"px\",a=parseFloat(l)>parseFloat(u)?Math.floor(.45*parseFloat(u)):Math.floor(.11*parseFloat(l));var Dt=O.CreateSimpleButton(\"butOK\",\"OK\");Dt.width=l,Dt.height=u,Dt.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,Dt.thickness=2,Dt.color=V,Dt.fontSize=a,Dt.background=H,Dt.onPointerEnterObservable.add((function(){Dt.background=F})),Dt.onPointerOutObservable.add((function(){Dt.background=H})),Dt.pointerDownAnimation=function(){Dt.background=j},Dt.pointerUpAnimation=function(){Dt.background=F},Dt.onPointerClickObservable.add((function(){tt(!1),nt(k.background)})),Lt.addControl(Dt,0,0);var Rt=O.CreateSimpleButton(\"butCancel\",\"Cancel\");if(Rt.width=l,Rt.height=u,Rt.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,Rt.thickness=2,Rt.color=V,Rt.fontSize=a,Rt.background=H,Rt.onPointerEnterObservable.add((function(){Rt.background=F})),Rt.onPointerOutObservable.add((function(){Rt.background=H})),Rt.pointerDownAnimation=function(){Rt.background=j},Rt.pointerUpAnimation=function(){Rt.background=F},Rt.onPointerClickObservable.add((function(){tt(!1),nt(At.background)})),Lt.addControl(Rt,1,0),i.savedColors){var Bt=O.CreateSimpleButton(\"butSave\",\"Save\");Bt.width=l,Bt.height=u,Bt.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,Bt.thickness=2,Bt.fontSize=a,i.savedColors.length<i.swatchLimit?(Bt.color=V,Bt.background=H):rt(Bt,!0),Bt.onPointerEnterObservable.add((function(){i.savedColors&&i.savedColors.length<i.swatchLimit&&(Bt.background=F)})),Bt.onPointerOutObservable.add((function(){i.savedColors&&i.savedColors.length<i.swatchLimit&&(Bt.background=H)})),Bt.pointerDownAnimation=function(){i.savedColors&&i.savedColors.length<i.swatchLimit&&(Bt.background=j)},Bt.pointerUpAnimation=function(){i.savedColors&&i.savedColors.length<i.swatchLimit&&(Bt.background=F)},Bt.onPointerClickObservable.add((function(){i.savedColors&&(0==i.savedColors.length&&it(!0),i.savedColors.length<i.swatchLimit&&et(k.background,Bt),tt(!1))})),i.savedColors.length>0&&it(!0),Lt.addControl(Bt,2,0)}var Nt=new x;Nt.name=\"Dialog Lower Right\",Nt.addRowDefinition(.02,!1),Nt.addRowDefinition(.63,!1),Nt.addRowDefinition(.21,!1),Nt.addRowDefinition(.14,!1),yt.addControl(Nt,1,0),c=s.Color3.FromHexString(i.lastColor);var Vt=new x;Vt.name=\"RGB Values\",Vt.width=.82,Vt.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,Vt.addRowDefinition(1/3,!1),Vt.addRowDefinition(1/3,!1),Vt.addRowDefinition(1/3,!1),Vt.addColumnDefinition(.1,!1),Vt.addColumnDefinition(.2,!1),Vt.addColumnDefinition(.7,!1),Nt.addControl(Vt,1,0);for(lt=0;lt<q.length;lt++){(Ht=new y).text=q[lt],Ht.color=V,Ht.fontSize=a,Vt.addControl(Ht,lt,0)}(g=new T).width=.83,g.height=.72,g.name=\"rIntField\",g.fontSize=a,g.text=(255*c.r).toString(),g.color=\"#f0f0f0\",g.background=\"#454545\",g.onFocusObservable.add((function(){A=g.name,I=g.text,tt(!1)})),g.onBlurObservable.add((function(){\"\"==g.text&&(g.text=\"0\"),J(g,\"r\"),A==g.name&&(A=\"\")})),g.onTextChangedObservable.add((function(){A==g.name&&J(g,\"r\")})),Vt.addControl(g,0,1),(b=new T).width=.83,b.height=.72,b.name=\"gIntField\",b.fontSize=a,b.text=(255*c.g).toString(),b.color=\"#f0f0f0\",b.background=\"#454545\",b.onFocusObservable.add((function(){A=b.name,I=b.text,tt(!1)})),b.onBlurObservable.add((function(){\"\"==b.text&&(b.text=\"0\"),J(b,\"g\"),A==b.name&&(A=\"\")})),b.onTextChangedObservable.add((function(){A==b.name&&J(b,\"g\")})),Vt.addControl(b,1,1),(v=new T).width=.83,v.height=.72,v.name=\"bIntField\",v.fontSize=a,v.text=(255*c.b).toString(),v.color=\"#f0f0f0\",v.background=\"#454545\",v.onFocusObservable.add((function(){A=v.name,I=v.text,tt(!1)})),v.onBlurObservable.add((function(){\"\"==v.text&&(v.text=\"0\"),J(v,\"b\"),A==v.name&&(A=\"\")})),v.onTextChangedObservable.add((function(){A==v.name&&J(v,\"b\")})),Vt.addControl(v,2,1),(C=new T).width=.95,C.height=.72,C.name=\"rDecField\",C.fontSize=a,C.text=c.r.toString(),C.color=\"#f0f0f0\",C.background=\"#454545\",C.onFocusObservable.add((function(){A=C.name,I=C.text,tt(!1)})),C.onBlurObservable.add((function(){0!=parseFloat(C.text)&&\"\"!=C.text||(C.text=\"0\",Q(C,\"r\")),A==C.name&&(A=\"\")})),C.onTextChangedObservable.add((function(){A==C.name&&Q(C,\"r\")})),Vt.addControl(C,0,2),(w=new T).width=.95,w.height=.72,w.name=\"gDecField\",w.fontSize=a,w.text=c.g.toString(),w.color=\"#f0f0f0\",w.background=\"#454545\",w.onFocusObservable.add((function(){A=w.name,I=w.text,tt(!1)})),w.onBlurObservable.add((function(){0!=parseFloat(w.text)&&\"\"!=w.text||(w.text=\"0\",Q(w,\"g\")),A==w.name&&(A=\"\")})),w.onTextChangedObservable.add((function(){A==w.name&&Q(w,\"g\")})),Vt.addControl(w,1,2),(M=new T).width=.95,M.height=.72,M.name=\"bDecField\",M.fontSize=a,M.text=c.b.toString(),M.color=\"#f0f0f0\",M.background=\"#454545\",M.onFocusObservable.add((function(){A=M.name,I=M.text,tt(!1)})),M.onBlurObservable.add((function(){0!=parseFloat(M.text)&&\"\"!=M.text||(M.text=\"0\",Q(M,\"b\")),A==M.name&&(A=\"\")})),M.onTextChangedObservable.add((function(){A==M.name&&Q(M,\"b\")})),Vt.addControl(M,2,2);var Ht,Ft=new x;Ft.name=\"Hex Value\",Ft.width=.82,Ft.addRowDefinition(1,!1),Ft.addColumnDefinition(.1,!1),Ft.addColumnDefinition(.9,!1),Nt.addControl(Ft,2,0),(Ht=new y).text=\"#\",Ht.color=V,Ht.fontSize=a,Ft.addControl(Ht,0,0),(P=new T).width=.96,P.height=.72,P.name=\"hexField\",P.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,P.fontSize=a;var jt=i.lastColor.split(\"#\");P.text=jt[1],P.color=\"#f0f0f0\",P.background=\"#454545\",P.onFocusObservable.add((function(){A=P.name,I=P.text,tt(!1)})),P.onBlurObservable.add((function(){if(3==P.text.length){var t=P.text.split(\"\");P.text=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]}\"\"==P.text&&(P.text=\"000000\",Z(s.Color3.FromHexString(P.text),\"b\")),A==P.name&&(A=\"\")})),P.onTextChangedObservable.add((function(){var t=P.text,e=/[^0-9A-F]/i.test(t);if((P.text.length>6||e)&&A==P.name)P.text=I;else{if(P.text.length<6)for(var i=6-P.text.length,r=0;r<i;r++)t=\"0\"+t;if(3==P.text.length){var n=P.text.split(\"\");t=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]}t=\"#\"+t,A==P.name&&(I=P.text,Z(s.Color3.FromHexString(t),P.name))}})),Ft.addControl(P,0,1),i.savedColors&&i.savedColors.length>0&&et(\"\",Bt)}))},e._Epsilon=1e-6,e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.ColorPicker\"]=M;var P=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._thickness=1,i}return n(e,t),Object.defineProperty(e.prototype,\"thickness\",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Ellipse\"},e.prototype._localDraw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),p.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._thickness/2,this._currentMeasure.height/2-this._thickness/2,t),this._background&&(t.fillStyle=this._background,t.fill()),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),this._thickness&&(this.color&&(t.strokeStyle=this.color),t.lineWidth=this._thickness,t.stroke()),t.restore()},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._measureForChildren.width-=2*this._thickness,this._measureForChildren.height-=2*this._thickness,this._measureForChildren.left+=this._thickness,this._measureForChildren.top+=this._thickness},e.prototype._clipForChildren=function(t){p.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2,this._currentMeasure.height/2,t),t.clip()},e}(g);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Ellipse\"]=P;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._beforeRenderText=function(t){for(var e=\"\",i=0;i<t.length;i++)e+=\"•\";return e},e}(T);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.InputPassword\"]=k;var I=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._lineWidth=1,i._x1=new a(0),i._y1=new a(0),i._x2=new a(0),i._y2=new a(0),i._dash=new Array,i._automaticSize=!0,i.isHitTestVisible=!1,i._horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,i._verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,i}return n(e,t),Object.defineProperty(e.prototype,\"dash\",{get:function(){return this._dash},set:function(t){this._dash!==t&&(this._dash=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"connectedControl\",{get:function(){return this._connectedControl},set:function(t){var e=this;this._connectedControl!==t&&(this._connectedControlDirtyObserver&&this._connectedControl&&(this._connectedControl.onDirtyObservable.remove(this._connectedControlDirtyObserver),this._connectedControlDirtyObserver=null),t&&(this._connectedControlDirtyObserver=t.onDirtyObservable.add((function(){return e._markAsDirty()}))),this._connectedControl=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"x1\",{get:function(){return this._x1.toString(this._host)},set:function(t){this._x1.toString(this._host)!==t&&this._x1.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"y1\",{get:function(){return this._y1.toString(this._host)},set:function(t){this._y1.toString(this._host)!==t&&this._y1.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"x2\",{get:function(){return this._x2.toString(this._host)},set:function(t){this._x2.toString(this._host)!==t&&this._x2.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"y2\",{get:function(){return this._y2.toString(this._host)},set:function(t){this._y2.toString(this._host)!==t&&this._y2.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"lineWidth\",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"horizontalAlignment\",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"verticalAlignment\",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_effectiveX2\",{get:function(){return(this._connectedControl?this._connectedControl.centerX:0)+this._x2.getValue(this._host)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"_effectiveY2\",{get:function(){return(this._connectedControl?this._connectedControl.centerY:0)+this._y2.getValue(this._host)},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Line\"},e.prototype._draw=function(t){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._applyStates(t),t.strokeStyle=this.color,t.lineWidth=this._lineWidth,t.setLineDash(this._dash),t.beginPath(),t.moveTo(this._cachedParentMeasure.left+this._x1.getValue(this._host),this._cachedParentMeasure.top+this._y1.getValue(this._host)),t.lineTo(this._cachedParentMeasure.left+this._effectiveX2,this._cachedParentMeasure.top+this._effectiveY2),t.stroke(),t.restore()},e.prototype._measure=function(){this._currentMeasure.width=Math.abs(this._x1.getValue(this._host)-this._effectiveX2)+this._lineWidth,this._currentMeasure.height=Math.abs(this._y1.getValue(this._host)-this._effectiveY2)+this._lineWidth},e.prototype._computeAlignment=function(t,e){this._currentMeasure.left=t.left+Math.min(this._x1.getValue(this._host),this._effectiveX2)-this._lineWidth/2,this._currentMeasure.top=t.top+Math.min(this._y1.getValue(this._host),this._effectiveY2)-this._lineWidth/2},e.prototype.moveToVector3=function(t,e,i){if(void 0===i&&(i=!1),this._host&&this.parent===this._host._rootContainer){var r=this._host._getGlobalViewport(e),n=s.Vector3.Project(t,s.Matrix.Identity(),e.getTransformMatrix(),r);this._moveToProjectedPosition(n,i),n.z<0||n.z>1?this.notRenderable=!0:this.notRenderable=!1}else s.Tools.Error(\"Cannot move a control to a vector3 if the control is not at root level\")},e.prototype._moveToProjectedPosition=function(t,e){void 0===e&&(e=!1);var i=t.x+this._linkOffsetX.getValue(this._host)+\"px\",r=t.y+this._linkOffsetY.getValue(this._host)+\"px\";e?(this.x2=i,this.y2=r,this._x2.ignoreAdaptiveScaling=!0,this._y2.ignoreAdaptiveScaling=!0):(this.x1=i,this.y1=r,this._x1.ignoreAdaptiveScaling=!0,this._y1.ignoreAdaptiveScaling=!0)},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Line\"]=I;var A=function(){function t(t){this._multiLine=t,this._x=new a(0),this._y=new a(0),this._point=new s.Vector2(0,0)}return Object.defineProperty(t.prototype,\"x\",{get:function(){return this._x.toString(this._multiLine._host)},set:function(t){this._x.toString(this._multiLine._host)!==t&&this._x.fromString(t)&&this._multiLine._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"y\",{get:function(){return this._y.toString(this._multiLine._host)},set:function(t){this._y.toString(this._multiLine._host)!==t&&this._y.fromString(t)&&this._multiLine._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"control\",{get:function(){return this._control},set:function(t){this._control!==t&&(this._control&&this._controlObserver&&(this._control.onDirtyObservable.remove(this._controlObserver),this._controlObserver=null),this._control=t,this._control&&(this._controlObserver=this._control.onDirtyObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"mesh\",{get:function(){return this._mesh},set:function(t){this._mesh!==t&&(this._mesh&&this._meshObserver&&this._mesh.getScene().onAfterCameraRenderObservable.remove(this._meshObserver),this._mesh=t,this._mesh&&(this._meshObserver=this._mesh.getScene().onAfterCameraRenderObservable.add(this._multiLine.onPointUpdate)),this._multiLine._markAsDirty())},enumerable:!0,configurable:!0}),t.prototype.resetLinks=function(){this.control=null,this.mesh=null},t.prototype.translate=function(){return this._point=this._translatePoint(),this._point},t.prototype._translatePoint=function(){if(null!=this._mesh)return this._multiLine._host.getProjectedPosition(this._mesh.getBoundingInfo().boundingSphere.center,this._mesh.getWorldMatrix());if(null!=this._control)return new s.Vector2(this._control.centerX,this._control.centerY);var t=this._multiLine._host,e=this._x.getValueInPixel(t,Number(t._canvas.width)),i=this._y.getValueInPixel(t,Number(t._canvas.height));return new s.Vector2(e,i)},t.prototype.dispose=function(){this.resetLinks()},t}(),S=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._lineWidth=1,i.onPointUpdate=function(){i._markAsDirty()},i._automaticSize=!0,i.isHitTestVisible=!1,i._horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,i._verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,i._dash=[],i._points=[],i}return n(e,t),Object.defineProperty(e.prototype,\"dash\",{get:function(){return this._dash},set:function(t){this._dash!==t&&(this._dash=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype.getAt=function(t){return this._points[t]||(this._points[t]=new A(this)),this._points[t]},e.prototype.add=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e.map((function(e){return t.push(e)}))},e.prototype.push=function(t){var e=this.getAt(this._points.length);return null==t?e:(t instanceof s.AbstractMesh?e.mesh=t:t instanceof p?e.control=t:null!=t.x&&null!=t.y&&(e.x=t.x,e.y=t.y),e)},e.prototype.remove=function(t){var e;if(t instanceof A){if(-1===(e=this._points.indexOf(t)))return}else e=t;var i=this._points[e];i&&(i.dispose(),this._points.splice(e,1))},e.prototype.reset=function(){for(;this._points.length>0;)this.remove(this._points.length-1)},e.prototype.resetLinks=function(){this._points.forEach((function(t){null!=t&&t.resetLinks()}))},Object.defineProperty(e.prototype,\"lineWidth\",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"horizontalAlignment\",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"verticalAlignment\",{set:function(t){},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"MultiLine\"},e.prototype._draw=function(t,e){t.save(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._applyStates(t),t.strokeStyle=this.color,t.lineWidth=this._lineWidth,t.setLineDash(this._dash),t.beginPath();var i=!0;this._points.forEach((function(e){e&&(i?(t.moveTo(e._point.x,e._point.y),i=!1):t.lineTo(e._point.x,e._point.y))})),t.stroke(),t.restore()},e.prototype._additionalProcessing=function(t,e){var i=this;this._minX=null,this._minY=null,this._maxX=null,this._maxY=null,this._points.forEach((function(t,e){t&&(t.translate(),(null==i._minX||t._point.x<i._minX)&&(i._minX=t._point.x),(null==i._minY||t._point.y<i._minY)&&(i._minY=t._point.y),(null==i._maxX||t._point.x>i._maxX)&&(i._maxX=t._point.x),(null==i._maxY||t._point.y>i._maxY)&&(i._maxY=t._point.y))})),null==this._minX&&(this._minX=0),null==this._minY&&(this._minY=0),null==this._maxX&&(this._maxX=0),null==this._maxY&&(this._maxY=0)},e.prototype._measure=function(){null!=this._minX&&null!=this._maxX&&null!=this._minY&&null!=this._maxY&&(this._currentMeasure.width=Math.abs(this._maxX-this._minX)+this._lineWidth,this._currentMeasure.height=Math.abs(this._maxY-this._minY)+this._lineWidth)},e.prototype._computeAlignment=function(t,e){null!=this._minX&&null!=this._minY&&(this._currentMeasure.left=this._minX-this._lineWidth/2,this._currentMeasure.top=this._minY-this._lineWidth/2)},e.prototype.dispose=function(){this.reset(),t.prototype.dispose.call(this)},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.MultiLine\"]=S;var E=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._isChecked=!1,i._background=\"black\",i._checkSizeRatio=.8,i._thickness=1,i.group=\"\",i.onIsCheckedChangedObservable=new s.Observable,i.isPointerBlocker=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"thickness\",{get:function(){return this._thickness},set:function(t){this._thickness!==t&&(this._thickness=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"checkSizeRatio\",{get:function(){return this._checkSizeRatio},set:function(t){t=Math.max(Math.min(1,t),0),this._checkSizeRatio!==t&&(this._checkSizeRatio=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isChecked\",{get:function(){return this._isChecked},set:function(t){var e=this;this._isChecked!==t&&(this._isChecked=t,this._markAsDirty(),this.onIsCheckedChangedObservable.notifyObservers(t),this._isChecked&&this._host&&this._host.executeOnAllControls((function(t){if(t!==e&&void 0!==t.group){var i=t;i.group===e.group&&(i.isChecked=!1)}})))},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"RadioButton\"},e.prototype._draw=function(t){t.save(),this._applyStates(t);var e=this._currentMeasure.width-this._thickness,i=this._currentMeasure.height-this._thickness;if((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),p.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,this._currentMeasure.width/2-this._thickness/2,this._currentMeasure.height/2-this._thickness/2,t),t.fillStyle=this._isEnabled?this._background:this._disabledColor,t.fill(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.strokeStyle=this.color,t.lineWidth=this._thickness,t.stroke(),this._isChecked){t.fillStyle=this._isEnabled?this.color:this._disabledColor;var r=e*this._checkSizeRatio,n=i*this._checkSizeRatio;p.drawEllipse(this._currentMeasure.left+this._currentMeasure.width/2,this._currentMeasure.top+this._currentMeasure.height/2,r/2-this._thickness/2,n/2-this._thickness/2,t),t.fill()}t.restore()},e.prototype._onPointerDown=function(e,i,r,n){return!!t.prototype._onPointerDown.call(this,e,i,r,n)&&(this.isChecked||(this.isChecked=!0),!0)},e.AddRadioButtonWithHeader=function(t,i,r,n){var o=new C;o.isVertical=!1,o.height=\"30px\";var s=new e;s.width=\"20px\",s.height=\"20px\",s.isChecked=r,s.color=\"green\",s.group=i,s.onIsCheckedChangedObservable.add((function(t){return n(s,t)})),o.addControl(s);var a=new y;return a.text=t,a.width=\"180px\",a.paddingLeft=\"5px\",a.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,a.color=\"white\",o.addControl(a),o},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.RadioButton\"]=E;var L=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._thumbWidth=new a(20,a.UNITMODE_PIXEL,!1),i._minimum=0,i._maximum=100,i._value=50,i._isVertical=!1,i._barOffset=new a(5,a.UNITMODE_PIXEL,!1),i._isThumbClamped=!1,i._displayThumb=!0,i._step=0,i._lastPointerDownID=-1,i._effectiveBarOffset=0,i.onValueChangedObservable=new s.Observable,i._pointerIsDown=!1,i.isPointerBlocker=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"displayThumb\",{get:function(){return this._displayThumb},set:function(t){this._displayThumb!==t&&(this._displayThumb=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"step\",{get:function(){return this._step},set:function(t){this._step!==t&&(this._step=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barOffset\",{get:function(){return this._barOffset.toString(this._host)},set:function(t){this._barOffset.toString(this._host)!==t&&this._barOffset.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barOffsetInPixels\",{get:function(){return this._barOffset.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbWidth\",{get:function(){return this._thumbWidth.toString(this._host)},set:function(t){this._thumbWidth.toString(this._host)!==t&&this._thumbWidth.fromString(t)&&this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbWidthInPixels\",{get:function(){return this._thumbWidth.getValueInPixel(this._host,this._cachedParentMeasure.width)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"minimum\",{get:function(){return this._minimum},set:function(t){this._minimum!==t&&(this._minimum=t,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"maximum\",{get:function(){return this._maximum},set:function(t){this._maximum!==t&&(this._maximum=t,this._markAsDirty(),this.value=Math.max(Math.min(this.value,this._maximum),this._minimum))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"value\",{get:function(){return this._value},set:function(t){t=Math.max(Math.min(t,this._maximum),this._minimum),this._value!==t&&(this._value=t,this._markAsDirty(),this.onValueChangedObservable.notifyObservers(this._value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isVertical\",{get:function(){return this._isVertical},set:function(t){this._isVertical!==t&&(this._isVertical=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isThumbClamped\",{get:function(){return this._isThumbClamped},set:function(t){this._isThumbClamped!==t&&(this._isThumbClamped=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"BaseSlider\"},e.prototype._getThumbPosition=function(){return this.isVertical?(this.maximum-this.value)/(this.maximum-this.minimum)*this._backgroundBoxLength:(this.value-this.minimum)/(this.maximum-this.minimum)*this._backgroundBoxLength},e.prototype._getThumbThickness=function(t){var e=0;switch(t){case\"circle\":e=this._thumbWidth.isPixel?Math.max(this._thumbWidth.getValue(this._host),this._backgroundBoxThickness):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host);break;case\"rectangle\":e=this._thumbWidth.isPixel?Math.min(this._thumbWidth.getValue(this._host),this._backgroundBoxThickness):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)}return e},e.prototype._prepareRenderingData=function(t){this._effectiveBarOffset=0,this._renderLeft=this._currentMeasure.left,this._renderTop=this._currentMeasure.top,this._renderWidth=this._currentMeasure.width,this._renderHeight=this._currentMeasure.height,this._backgroundBoxLength=Math.max(this._currentMeasure.width,this._currentMeasure.height),this._backgroundBoxThickness=Math.min(this._currentMeasure.width,this._currentMeasure.height),this._effectiveThumbThickness=this._getThumbThickness(t),this.displayThumb&&(this._backgroundBoxLength-=this._effectiveThumbThickness),this.isVertical&&this._currentMeasure.height<this._currentMeasure.width?console.error(\"Height should be greater than width\"):(this._barOffset.isPixel?this._effectiveBarOffset=Math.min(this._barOffset.getValue(this._host),this._backgroundBoxThickness):this._effectiveBarOffset=this._backgroundBoxThickness*this._barOffset.getValue(this._host),this._backgroundBoxThickness-=2*this._effectiveBarOffset,this.isVertical?(this._renderLeft+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderTop+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxLength,this._renderWidth=this._backgroundBoxThickness):(this._renderTop+=this._effectiveBarOffset,!this.isThumbClamped&&this.displayThumb&&(this._renderLeft+=this._effectiveThumbThickness/2),this._renderHeight=this._backgroundBoxThickness,this._renderWidth=this._backgroundBoxLength))},e.prototype._updateValueFromPointer=function(t,e){var i;0!=this.rotation&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y),i=this._isVertical?this._minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this._maximum-this._minimum):this._minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this._maximum-this._minimum);var r=1/this._step|0;this.value=this._step?(i*r|0)/r:i},e.prototype._onPointerDown=function(e,i,r,n){return!!t.prototype._onPointerDown.call(this,e,i,r,n)&&(this._pointerIsDown=!0,this._updateValueFromPointer(i.x,i.y),this._host._capturingControl[r]=this,this._lastPointerDownID=r,!0)},e.prototype._onPointerMove=function(e,i,r){r==this._lastPointerDownID&&(this._pointerIsDown&&this._updateValueFromPointer(i.x,i.y),t.prototype._onPointerMove.call(this,e,i,r))},e.prototype._onPointerUp=function(e,i,r,n,o){this._pointerIsDown=!1,delete this._host._capturingControl[r],t.prototype._onPointerUp.call(this,e,i,r,n,o)},e}(p),D=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._background=\"black\",i._borderColor=\"white\",i._isThumbCircle=!1,i._displayValueBar=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"displayValueBar\",{get:function(){return this._displayValueBar},set:function(t){this._displayValueBar!==t&&(this._displayValueBar=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"borderColor\",{get:function(){return this._borderColor},set:function(t){this._borderColor!==t&&(this._borderColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isThumbCircle\",{get:function(){return this._isThumbCircle},set:function(t){this._isThumbCircle!==t&&(this._isThumbCircle=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Slider\"},e.prototype._draw=function(t,e){t.save(),this._applyStates(t),this._prepareRenderingData(this.isThumbCircle?\"circle\":\"rectangle\");var i=this._renderLeft,r=this._renderTop,n=this._renderWidth,o=this._renderHeight,s=0;this.isThumbClamped&&this.isThumbCircle?(this.isVertical?r+=this._effectiveThumbThickness/2:i+=this._effectiveThumbThickness/2,s=this._backgroundBoxThickness/2):s=(this._effectiveThumbThickness-this._effectiveBarOffset)/2,(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY);var a=this._getThumbPosition();t.fillStyle=this._background,this.isVertical?this.isThumbClamped?this.isThumbCircle?(t.beginPath(),t.arc(i+this._backgroundBoxThickness/2,r,s,Math.PI,2*Math.PI),t.fill(),t.fillRect(i,r,n,o)):t.fillRect(i,r,n,o+this._effectiveThumbThickness):t.fillRect(i,r,n,o):this.isThumbClamped?this.isThumbCircle?(t.beginPath(),t.arc(i+this._backgroundBoxLength,r+this._backgroundBoxThickness/2,s,0,2*Math.PI),t.fill(),t.fillRect(i,r,n,o)):t.fillRect(i,r,n+this._effectiveThumbThickness,o):t.fillRect(i,r,n,o),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillStyle=this.color,this._displayValueBar&&(this.isVertical?this.isThumbClamped?this.isThumbCircle?(t.beginPath(),t.arc(i+this._backgroundBoxThickness/2,r+this._backgroundBoxLength,s,0,2*Math.PI),t.fill(),t.fillRect(i,r+a,n,o-a)):t.fillRect(i,r+a,n,o-a+this._effectiveThumbThickness):t.fillRect(i,r+a,n,o-a):this.isThumbClamped&&this.isThumbCircle?(t.beginPath(),t.arc(i,r+this._backgroundBoxThickness/2,s,0,2*Math.PI),t.fill(),t.fillRect(i,r,a,o)):t.fillRect(i,r,a,o)),this.displayThumb&&((this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY),this._isThumbCircle?(t.beginPath(),this.isVertical?t.arc(i+this._backgroundBoxThickness/2,r+a,s,0,2*Math.PI):t.arc(i+a,r+this._backgroundBoxThickness/2,s,0,2*Math.PI),t.fill(),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.strokeStyle=this._borderColor,t.stroke()):(this.isVertical?t.fillRect(i-this._effectiveBarOffset,this._currentMeasure.top+a,this._currentMeasure.width,this._effectiveThumbThickness):t.fillRect(this._currentMeasure.left+a,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height),(this.shadowBlur||this.shadowOffsetX||this.shadowOffsetY)&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.strokeStyle=this._borderColor,this.isVertical?t.strokeRect(i-this._effectiveBarOffset,this._currentMeasure.top+a,this._currentMeasure.width,this._effectiveThumbThickness):t.strokeRect(this._currentMeasure.left+a,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height))),t.restore()},e}(L);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.Slider\"]=D;var R=function(){function t(t){this.name=t,this._groupPanel=new C,this._selectors=new Array,this._groupPanel.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,this._groupPanel.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,this._groupHeader=this._addGroupHeader(t)}return Object.defineProperty(t.prototype,\"groupPanel\",{get:function(){return this._groupPanel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"selectors\",{get:function(){return this._selectors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"header\",{get:function(){return this._groupHeader.text},set:function(t){\"label\"!==this._groupHeader.text&&(this._groupHeader.text=t)},enumerable:!0,configurable:!0}),t.prototype._addGroupHeader=function(t){var e=new y(\"groupHead\",t);return e.width=.9,e.height=\"30px\",e.textWrapping=!0,e.color=\"black\",e.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,e.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,e.left=\"2px\",this._groupPanel.addControl(e),e},t.prototype._getSelector=function(t){if(!(t<0||t>=this._selectors.length))return this._selectors[t]},t.prototype.removeSelector=function(t){t<0||t>=this._selectors.length||(this._groupPanel.removeControl(this._selectors[t]),this._selectors.splice(t,1))},t}(),B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.addCheckbox=function(t,e,i){void 0===e&&(e=function(t){}),void 0===i&&(i=!1);i=i||!1;var r=new w;r.width=\"20px\",r.height=\"20px\",r.color=\"#364249\",r.background=\"#CCCCCC\",r.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r.onIsCheckedChangedObservable.add((function(t){e(t)}));var n=p.AddHeader(r,t,\"200px\",{isHorizontal:!0,controlFirst:!0});n.height=\"30px\",n.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,n.left=\"4px\",this.groupPanel.addControl(n),this.selectors.push(n),r.isChecked=i,this.groupPanel.parent&&this.groupPanel.parent.parent&&(r.color=this.groupPanel.parent.parent.buttonColor,r.background=this.groupPanel.parent.parent.buttonBackground)},e.prototype._setSelectorLabel=function(t,e){this.selectors[t].children[1].text=e},e.prototype._setSelectorLabelColor=function(t,e){this.selectors[t].children[1].color=e},e.prototype._setSelectorButtonColor=function(t,e){this.selectors[t].children[0].color=e},e.prototype._setSelectorButtonBackground=function(t,e){this.selectors[t].children[0].background=e},e}(R),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectNb=0,e}return n(e,t),e.prototype.addRadio=function(t,e,i){void 0===e&&(e=function(t){}),void 0===i&&(i=!1);var r=this._selectNb++,n=new E;n.name=t,n.width=\"20px\",n.height=\"20px\",n.color=\"#364249\",n.background=\"#CCCCCC\",n.group=this.name,n.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,n.onIsCheckedChangedObservable.add((function(t){t&&e(r)}));var o=p.AddHeader(n,t,\"200px\",{isHorizontal:!0,controlFirst:!0});o.height=\"30px\",o.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,o.left=\"4px\",this.groupPanel.addControl(o),this.selectors.push(o),n.isChecked=i,this.groupPanel.parent&&this.groupPanel.parent.parent&&(n.color=this.groupPanel.parent.parent.buttonColor,n.background=this.groupPanel.parent.parent.buttonBackground)},e.prototype._setSelectorLabel=function(t,e){this.selectors[t].children[1].text=e},e.prototype._setSelectorLabelColor=function(t,e){this.selectors[t].children[1].color=e},e.prototype._setSelectorButtonColor=function(t,e){this.selectors[t].children[0].color=e},e.prototype._setSelectorButtonBackground=function(t,e){this.selectors[t].children[0].background=e},e}(R),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.addSlider=function(t,e,i,r,n,o,s){void 0===e&&(e=function(t){}),void 0===i&&(i=\"Units\"),void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=function(t){return 0|t});var a=new D;a.name=i,a.value=o,a.minimum=r,a.maximum=n,a.width=.9,a.height=\"20px\",a.color=\"#364249\",a.background=\"#CCCCCC\",a.borderColor=\"black\",a.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,a.left=\"4px\",a.paddingBottom=\"4px\",a.onValueChangedObservable.add((function(t){a.parent.children[0].text=a.parent.children[0].name+\": \"+s(t)+\" \"+a.name,e(t)}));var h=p.AddHeader(a,t+\": \"+s(o)+\" \"+i,\"30px\",{isHorizontal:!1,controlFirst:!1});h.height=\"60px\",h.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,h.left=\"4px\",h.children[0].name=t,this.groupPanel.addControl(h),this.selectors.push(h),this.groupPanel.parent&&this.groupPanel.parent.parent&&(a.color=this.groupPanel.parent.parent.buttonColor,a.background=this.groupPanel.parent.parent.buttonBackground)},e.prototype._setSelectorLabel=function(t,e){this.selectors[t].children[0].name=e,this.selectors[t].children[0].text=e+\": \"+this.selectors[t].children[1].value+\" \"+this.selectors[t].children[1].name},e.prototype._setSelectorLabelColor=function(t,e){this.selectors[t].children[0].color=e},e.prototype._setSelectorButtonColor=function(t,e){this.selectors[t].children[1].color=e},e.prototype._setSelectorButtonBackground=function(t,e){this.selectors[t].children[1].background=e},e}(R),H=function(t){function e(e,i){void 0===i&&(i=[]);var r=t.call(this,e)||this;if(r.name=e,r.groups=i,r._buttonColor=\"#364249\",r._buttonBackground=\"#CCCCCC\",r._headerColor=\"black\",r._barColor=\"white\",r._barHeight=\"2px\",r._spacerHeight=\"20px\",r._bars=new Array,r._groups=i,r.thickness=2,r._panel=new C,r._panel.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,r._panel.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r._panel.top=5,r._panel.left=5,r._panel.width=.95,i.length>0){for(var n=0;n<i.length-1;n++)r._panel.addControl(i[n].groupPanel),r._addSpacer();r._panel.addControl(i[i.length-1].groupPanel)}return r.addControl(r._panel),r}return n(e,t),e.prototype._getTypeName=function(){return\"SelectionPanel\"},Object.defineProperty(e.prototype,\"headerColor\",{get:function(){return this._headerColor},set:function(t){this._headerColor!==t&&(this._headerColor=t,this._setHeaderColor())},enumerable:!0,configurable:!0}),e.prototype._setHeaderColor=function(){for(var t=0;t<this._groups.length;t++)this._groups[t].groupPanel.children[0].color=this._headerColor},Object.defineProperty(e.prototype,\"buttonColor\",{get:function(){return this._buttonColor},set:function(t){this._buttonColor!==t&&(this._buttonColor=t,this._setbuttonColor())},enumerable:!0,configurable:!0}),e.prototype._setbuttonColor=function(){for(var t=0;t<this._groups.length;t++)for(var e=0;e<this._groups[t].selectors.length;e++)this._groups[t]._setSelectorButtonColor(e,this._buttonColor)},Object.defineProperty(e.prototype,\"labelColor\",{get:function(){return this._labelColor},set:function(t){this._labelColor!==t&&(this._labelColor=t,this._setLabelColor())},enumerable:!0,configurable:!0}),e.prototype._setLabelColor=function(){for(var t=0;t<this._groups.length;t++)for(var e=0;e<this._groups[t].selectors.length;e++)this._groups[t]._setSelectorLabelColor(e,this._labelColor)},Object.defineProperty(e.prototype,\"buttonBackground\",{get:function(){return this._buttonBackground},set:function(t){this._buttonBackground!==t&&(this._buttonBackground=t,this._setButtonBackground())},enumerable:!0,configurable:!0}),e.prototype._setButtonBackground=function(){for(var t=0;t<this._groups.length;t++)for(var e=0;e<this._groups[t].selectors.length;e++)this._groups[t]._setSelectorButtonBackground(e,this._buttonBackground)},Object.defineProperty(e.prototype,\"barColor\",{get:function(){return this._barColor},set:function(t){this._barColor!==t&&(this._barColor=t,this._setBarColor())},enumerable:!0,configurable:!0}),e.prototype._setBarColor=function(){for(var t=0;t<this._bars.length;t++)this._bars[t].children[0].background=this._barColor},Object.defineProperty(e.prototype,\"barHeight\",{get:function(){return this._barHeight},set:function(t){this._barHeight!==t&&(this._barHeight=t,this._setBarHeight())},enumerable:!0,configurable:!0}),e.prototype._setBarHeight=function(){for(var t=0;t<this._bars.length;t++)this._bars[t].children[0].height=this._barHeight},Object.defineProperty(e.prototype,\"spacerHeight\",{get:function(){return this._spacerHeight},set:function(t){this._spacerHeight!==t&&(this._spacerHeight=t,this._setSpacerHeight())},enumerable:!0,configurable:!0}),e.prototype._setSpacerHeight=function(){for(var t=0;t<this._bars.length;t++)this._bars[t].height=this._spacerHeight},e.prototype._addSpacer=function(){var t=new g;t.width=1,t.height=this._spacerHeight,t.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT;var e=new m;e.width=1,e.height=this._barHeight,e.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,e.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,e.background=this._barColor,e.color=\"transparent\",t.addControl(e),this._panel.addControl(t),this._bars.push(t)},e.prototype.addGroup=function(t){this._groups.length>0&&this._addSpacer(),this._panel.addControl(t.groupPanel),this._groups.push(t),t.groupPanel.children[0].color=this._headerColor;for(var e=0;e<t.selectors.length;e++)t._setSelectorButtonColor(e,this._buttonColor),t._setSelectorButtonBackground(e,this._buttonBackground)},e.prototype.removeGroup=function(t){if(!(t<0||t>=this._groups.length)){var e=this._groups[t];this._panel.removeControl(e.groupPanel),this._groups.splice(t,1),t<this._bars.length&&(this._panel.removeControl(this._bars[t]),this._bars.splice(t,1))}},e.prototype.setHeaderName=function(t,e){e<0||e>=this._groups.length||(this._groups[e].groupPanel.children[0].text=t)},e.prototype.relabel=function(t,e,i){if(!(e<0||e>=this._groups.length)){var r=this._groups[e];i<0||i>=r.selectors.length||r._setSelectorLabel(i,t)}},e.prototype.removeFromGroupSelector=function(t,e){if(!(t<0||t>=this._groups.length)){var i=this._groups[t];e<0||e>=i.selectors.length||i.removeSelector(e)}},e.prototype.addToGroupCheckbox=function(t,e,i,r){(void 0===i&&(i=function(){}),void 0===r&&(r=!1),t<0||t>=this._groups.length)||this._groups[t].addCheckbox(e,i,r)},e.prototype.addToGroupRadio=function(t,e,i,r){(void 0===i&&(i=function(){}),void 0===r&&(r=!1),t<0||t>=this._groups.length)||this._groups[t].addRadio(e,i,r)},e.prototype.addToGroupSlider=function(t,e,i,r,n,o,s,a){(void 0===i&&(i=function(){}),void 0===r&&(r=\"Units\"),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=function(t){return 0|t}),t<0||t>=this._groups.length)||this._groups[t].addSlider(e,i,r,n,o,s,a)},e}(m),F=function(t){function e(e){var i=t.call(this,e)||this;return i._freezeControls=!1,i._bucketWidth=0,i._bucketHeight=0,i._buckets={},i}return n(e,t),Object.defineProperty(e.prototype,\"freezeControls\",{get:function(){return this._freezeControls},set:function(t){if(this._freezeControls!==t){this._freezeControls=!1;var e=this.host.getSize(),i=e.width,r=e.height,n=this.host.getContext(),o=new _(0,0,i,r);this.host._numLayoutCalls=0,this.host._rootContainer._layout(o,n),t&&(this._updateMeasures(),this._useBuckets()&&this._makeBuckets()),this._freezeControls=t,this.host.markAsDirty()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"bucketWidth\",{get:function(){return this._bucketWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"bucketHeight\",{get:function(){return this._bucketHeight},enumerable:!0,configurable:!0}),e.prototype.setBucketSizes=function(t,e){this._bucketWidth=t,this._bucketHeight=e,this._useBuckets()?this._freezeControls&&this._makeBuckets():this._buckets={}},e.prototype._useBuckets=function(){return this._bucketWidth>0&&this._bucketHeight>0},e.prototype._makeBuckets=function(){this._buckets={},this._bucketLen=Math.ceil(this.widthInPixels/this._bucketWidth),this._dispatchInBuckets(this._children)},e.prototype._dispatchInBuckets=function(t){for(var e=0;e<t.length;++e){for(var i=t[e],r=Math.max(0,Math.floor((i._currentMeasure.left-this._currentMeasure.left)/this._bucketWidth)),n=Math.floor((i._currentMeasure.left-this._currentMeasure.left+i._currentMeasure.width-1)/this._bucketWidth),o=Math.max(0,Math.floor((i._currentMeasure.top-this._currentMeasure.top)/this._bucketHeight)),s=Math.floor((i._currentMeasure.top-this._currentMeasure.top+i._currentMeasure.height-1)/this._bucketHeight);o<=s;){for(var a=r;a<=n;++a){var h=o*this._bucketLen+a,l=this._buckets[h];l||(l=[],this._buckets[h]=l),l.push(i)}o++}i instanceof g&&i._children.length>0&&this._dispatchInBuckets(i._children)}},e.prototype._updateMeasures=function(){var t=0|this.leftInPixels,e=0|this.topInPixels;this._measureForChildren.left-=t,this._measureForChildren.top-=e,this._currentMeasure.left-=t,this._currentMeasure.top-=e,this._updateChildrenMeasures(this._children,t,e)},e.prototype._updateChildrenMeasures=function(t,e,i){for(var r=0;r<t.length;++r){var n=t[r];n._currentMeasure.left-=e,n._currentMeasure.top-=i,n._customData._origLeft=n._currentMeasure.left,n._customData._origTop=n._currentMeasure.top,n instanceof g&&n._children.length>0&&this._updateChildrenMeasures(n._children,e,i)}},e.prototype._getTypeName=function(){return\"ScrollViewerWindow\"},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._parentMeasure=e,this._measureForChildren.left=this._currentMeasure.left,this._measureForChildren.top=this._currentMeasure.top,this._measureForChildren.width=e.width,this._measureForChildren.height=e.height},e.prototype._layout=function(e,i){return this._freezeControls?(this.invalidateRect(),!1):t.prototype._layout.call(this,e,i)},e.prototype._scrollChildren=function(t,e,i){for(var r=0;r<t.length;++r){var n=t[r];n._currentMeasure.left=n._customData._origLeft+e,n._currentMeasure.top=n._customData._origTop+i,n._isClipped=!1,n instanceof g&&n._children.length>0&&this._scrollChildren(n._children,e,i)}},e.prototype._scrollChildrenWithBuckets=function(t,e,i,r){for(var n=Math.max(0,Math.floor(-t/this._bucketWidth)),o=Math.floor((-t+this._parentMeasure.width-1)/this._bucketWidth),s=Math.max(0,Math.floor(-e/this._bucketHeight)),a=Math.floor((-e+this._parentMeasure.height-1)/this._bucketHeight);s<=a;){for(var h=n;h<=o;++h){var l=s*this._bucketLen+h,u=this._buckets[l];if(u)for(var c=0;c<u.length;++c){var _=u[c];_._currentMeasure.left=_._customData._origLeft+i,_._currentMeasure.top=_._customData._origTop+r,_._isClipped=!1}}s++}},e.prototype._draw=function(e,i){if(this._freezeControls){this._localDraw(e),this.clipChildren&&this._clipForChildren(e);var r=this.leftInPixels,n=this.topInPixels;this._useBuckets()?(this._scrollChildrenWithBuckets(this._oldLeft,this._oldTop,r,n),this._scrollChildrenWithBuckets(r,n,r,n)):this._scrollChildren(this._children,r,n),this._oldLeft=r,this._oldTop=n;for(var o=0,s=this._children;o<s.length;o++){var a=s[o];a._intersectsRect(this._parentMeasure)&&a._render(e,this._parentMeasure)}}else t.prototype._draw.call(this,e,i)},e.prototype._postMeasure=function(){if(this._freezeControls)t.prototype._postMeasure.call(this);else{for(var e=this.parentClientWidth,i=this.parentClientHeight,r=0,n=this.children;r<n.length;r++){var o=n[r];o.isVisible&&!o.notRenderable&&(o.horizontalAlignment===p.HORIZONTAL_ALIGNMENT_CENTER&&o._offsetLeft(this._currentMeasure.left-o._currentMeasure.left),o.verticalAlignment===p.VERTICAL_ALIGNMENT_CENTER&&o._offsetTop(this._currentMeasure.top-o._currentMeasure.top),e=Math.max(e,o._currentMeasure.left-this._currentMeasure.left+o._currentMeasure.width),i=Math.max(i,o._currentMeasure.top-this._currentMeasure.top+o._currentMeasure.height))}this._currentMeasure.width!==e&&(this._width.updateInPlace(e,a.UNITMODE_PIXEL),this._currentMeasure.width=e,this._rebuildLayout=!0,this._isDirty=!0),this._currentMeasure.height!==i&&(this._height.updateInPlace(i,a.UNITMODE_PIXEL),this._currentMeasure.height=i,this._rebuildLayout=!0,this._isDirty=!0),t.prototype._postMeasure.call(this)}},e}(g),j=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._background=\"black\",i._borderColor=\"white\",i._tempMeasure=new _(0,0,0,0),i}return n(e,t),Object.defineProperty(e.prototype,\"borderColor\",{get:function(){return this._borderColor},set:function(t){this._borderColor!==t&&(this._borderColor=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"Scrollbar\"},e.prototype._getThumbThickness=function(){return this._thumbWidth.isPixel?this._thumbWidth.getValue(this._host):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)},e.prototype._draw=function(t){t.save(),this._applyStates(t),this._prepareRenderingData(\"rectangle\");var e=this._renderLeft,i=this._getThumbPosition();t.fillStyle=this._background,t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height),t.fillStyle=this.color,this.isVertical?(this._tempMeasure.left=e-this._effectiveBarOffset,this._tempMeasure.top=this._currentMeasure.top+i,this._tempMeasure.width=this._currentMeasure.width,this._tempMeasure.height=this._effectiveThumbThickness):(this._tempMeasure.left=this._currentMeasure.left+i,this._tempMeasure.top=this._currentMeasure.top,this._tempMeasure.width=this._effectiveThumbThickness,this._tempMeasure.height=this._currentMeasure.height),t.fillRect(this._tempMeasure.left,this._tempMeasure.top,this._tempMeasure.width,this._tempMeasure.height),t.restore()},e.prototype._updateValueFromPointer=function(t,e){0!=this.rotation&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y),this._first&&(this._first=!1,this._originX=t,this._originY=e,(t<this._tempMeasure.left||t>this._tempMeasure.left+this._tempMeasure.width||e<this._tempMeasure.top||e>this._tempMeasure.top+this._tempMeasure.height)&&(this.isVertical?this.value=this.minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.value=this.minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum)));var i=0;i=this.isVertical?-(e-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness):(t-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness),this.value+=i*(this.maximum-this.minimum),this._originX=t,this._originY=e},e.prototype._onPointerDown=function(e,i,r,n){return this._first=!0,t.prototype._onPointerDown.call(this,e,i,r,n)},e}(L),W=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._thumbLength=.5,i._thumbHeight=1,i._barImageHeight=1,i._tempMeasure=new _(0,0,0,0),i}return n(e,t),Object.defineProperty(e.prototype,\"backgroundImage\",{get:function(){return this._backgroundBaseImage},set:function(t){var e=this;this._backgroundBaseImage!==t&&(this._backgroundBaseImage=t,this.isVertical?(t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){var i=t._rotate90(1);e._backgroundImage=i,i.isLoaded||i.onImageLoadedObservable.addOnce((function(){e._markAsDirty()})),e._markAsDirty()})),this._backgroundImage=t._rotate90(1),this._markAsDirty()):(this._backgroundImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){e._markAsDirty()})),this._markAsDirty()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbImage\",{get:function(){return this._thumbBaseImage},set:function(t){var e=this;this._thumbBaseImage!==t&&(this._thumbBaseImage=t,this.isVertical?(t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){var i=t._rotate90(-1);e._thumbImage=i,i.isLoaded||i.onImageLoadedObservable.addOnce((function(){e._markAsDirty()})),e._markAsDirty()})),this._thumbImage=t._rotate90(-1),this._markAsDirty()):(this._thumbImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){e._markAsDirty()})),this._markAsDirty()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbLength\",{get:function(){return this._thumbLength},set:function(t){this._thumbLength!==t&&(this._thumbLength=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbHeight\",{get:function(){return this._thumbHeight},set:function(t){this._thumbLength!==t&&(this._thumbHeight=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barImageHeight\",{get:function(){return this._barImageHeight},set:function(t){this._barImageHeight!==t&&(this._barImageHeight=t,this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"ImageScrollBar\"},e.prototype._getThumbThickness=function(){return this._thumbWidth.isPixel?this._thumbWidth.getValue(this._host):this._backgroundBoxThickness*this._thumbWidth.getValue(this._host)},e.prototype._draw=function(t){t.save(),this._applyStates(t),this._prepareRenderingData(\"rectangle\");var e=this._getThumbPosition(),i=this._renderLeft,r=this._renderTop,n=this._renderWidth,o=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(i,r,n,o),this.isVertical?(this._tempMeasure.copyFromFloats(i+n*(1-this._barImageHeight)*.5,this._currentMeasure.top,n*this._barImageHeight,o),this._tempMeasure.height+=this._effectiveThumbThickness,this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure)):(this._tempMeasure.copyFromFloats(this._currentMeasure.left,r+o*(1-this._barImageHeight)*.5,n,o*this._barImageHeight),this._tempMeasure.width+=this._effectiveThumbThickness,this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure)),this._backgroundImage._draw(t)),this.isVertical?this._tempMeasure.copyFromFloats(i-this._effectiveBarOffset+this._currentMeasure.width*(1-this._thumbHeight)*.5,this._currentMeasure.top+e,this._currentMeasure.width*this._thumbHeight,this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+e,this._currentMeasure.top+this._currentMeasure.height*(1-this._thumbHeight)*.5,this._effectiveThumbThickness,this._currentMeasure.height*this._thumbHeight),this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(t),t.restore()},e.prototype._updateValueFromPointer=function(t,e){0!=this.rotation&&(this._invertTransformMatrix.transformCoordinates(t,e,this._transformedPosition),t=this._transformedPosition.x,e=this._transformedPosition.y),this._first&&(this._first=!1,this._originX=t,this._originY=e,(t<this._tempMeasure.left||t>this._tempMeasure.left+this._tempMeasure.width||e<this._tempMeasure.top||e>this._tempMeasure.top+this._tempMeasure.height)&&(this.isVertical?this.value=this.minimum+(1-(e-this._currentMeasure.top)/this._currentMeasure.height)*(this.maximum-this.minimum):this.value=this.minimum+(t-this._currentMeasure.left)/this._currentMeasure.width*(this.maximum-this.minimum)));var i=0;i=this.isVertical?-(e-this._originY)/(this._currentMeasure.height-this._effectiveThumbThickness):(t-this._originX)/(this._currentMeasure.width-this._effectiveThumbThickness),this.value+=i*(this.maximum-this.minimum),this._originX=t,this._originY=e},e.prototype._onPointerDown=function(e,i,r,n){return this._first=!0,t.prototype._onPointerDown.call(this,e,i,r,n)},e}(L),z=function(t){function e(e,i){var r=t.call(this,e)||this;return r._barSize=20,r._pointerIsOver=!1,r._wheelPrecision=.05,r._thumbLength=.5,r._thumbHeight=1,r._barImageHeight=1,r._forceHorizontalBar=!1,r._forceVerticalBar=!1,r._useImageBar=i||!1,r.onDirtyObservable.add((function(){r._horizontalBarSpace.color=r.color,r._verticalBarSpace.color=r.color,r._dragSpace.color=r.color})),r.onPointerEnterObservable.add((function(){r._pointerIsOver=!0})),r.onPointerOutObservable.add((function(){r._pointerIsOver=!1})),r._grid=new x,r._useImageBar?(r._horizontalBar=new W,r._verticalBar=new W):(r._horizontalBar=new j,r._verticalBar=new j),r._window=new F(\"scrollViewer_window\"),r._window.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r._window.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,r._grid.addColumnDefinition(1),r._grid.addColumnDefinition(0,!0),r._grid.addRowDefinition(1),r._grid.addRowDefinition(0,!0),t.prototype.addControl.call(r,r._grid),r._grid.addControl(r._window,0,0),r._verticalBarSpace=new m,r._verticalBarSpace.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r._verticalBarSpace.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,r._verticalBarSpace.thickness=1,r._grid.addControl(r._verticalBarSpace,0,1),r._addBar(r._verticalBar,r._verticalBarSpace,!0,Math.PI),r._horizontalBarSpace=new m,r._horizontalBarSpace.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,r._horizontalBarSpace.verticalAlignment=p.VERTICAL_ALIGNMENT_TOP,r._horizontalBarSpace.thickness=1,r._grid.addControl(r._horizontalBarSpace,1,0),r._addBar(r._horizontalBar,r._horizontalBarSpace,!1,0),r._dragSpace=new m,r._dragSpace.thickness=1,r._grid.addControl(r._dragSpace,1,1),r._useImageBar||(r.barColor=\"grey\",r.barBackground=\"transparent\"),r}return n(e,t),Object.defineProperty(e.prototype,\"horizontalBar\",{get:function(){return this._horizontalBar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"verticalBar\",{get:function(){return this._verticalBar},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){return t?(this._window.addControl(t),this):this},e.prototype.removeControl=function(t){return this._window.removeControl(t),this},Object.defineProperty(e.prototype,\"children\",{get:function(){return this._window.children},enumerable:!0,configurable:!0}),e.prototype._flagDescendantsAsMatrixDirty=function(){for(var t=0,e=this._children;t<e.length;t++){e[t]._markMatrixAsDirty()}},Object.defineProperty(e.prototype,\"freezeControls\",{get:function(){return this._window.freezeControls},set:function(t){this._window.freezeControls=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"bucketWidth\",{get:function(){return this._window.bucketWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"bucketHeight\",{get:function(){return this._window.bucketHeight},enumerable:!0,configurable:!0}),e.prototype.setBucketSizes=function(t,e){this._window.setBucketSizes(t,e)},Object.defineProperty(e.prototype,\"forceHorizontalBar\",{get:function(){return this._forceHorizontalBar},set:function(t){this._grid.setRowDefinition(1,t?this._barSize:0,!0),this._horizontalBar.isVisible=t,this._forceHorizontalBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"forceVerticalBar\",{get:function(){return this._forceVerticalBar},set:function(t){this._grid.setColumnDefinition(1,t?this._barSize:0,!0),this._verticalBar.isVisible=t,this._forceVerticalBar=t},enumerable:!0,configurable:!0}),e.prototype.resetWindow=function(){this._window.width=\"100%\",this._window.height=\"100%\"},e.prototype._getTypeName=function(){return\"ScrollViewer\"},e.prototype._buildClientSizes=function(){this._window.parentClientWidth=this._currentMeasure.width-(this._verticalBar.isVisible||this.forceVerticalBar?this._barSize:0)-2*this.thickness,this._window.parentClientHeight=this._currentMeasure.height-(this._horizontalBar.isVisible||this.forceHorizontalBar?this._barSize:0)-2*this.thickness,this._clientWidth=this._window.parentClientWidth,this._clientHeight=this._window.parentClientHeight},e.prototype._additionalProcessing=function(e,i){t.prototype._additionalProcessing.call(this,e,i),this._buildClientSizes()},e.prototype._postMeasure=function(){t.prototype._postMeasure.call(this),this._updateScroller()},Object.defineProperty(e.prototype,\"wheelPrecision\",{get:function(){return this._wheelPrecision},set:function(t){this._wheelPrecision!==t&&(t<0&&(t=0),t>1&&(t=1),this._wheelPrecision=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"scrollBackground\",{get:function(){return this._horizontalBarSpace.background},set:function(t){this._horizontalBarSpace.background!==t&&(this._horizontalBarSpace.background=t,this._verticalBarSpace.background=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barColor\",{get:function(){return this._barColor},set:function(t){this._barColor!==t&&(this._barColor=t,this._horizontalBar.color=t,this._verticalBar.color=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbImage\",{get:function(){return this._barImage},set:function(t){if(this._barImage!==t){this._barImage=t;var e=this._horizontalBar,i=this._verticalBar;e.thumbImage=t,i.thumbImage=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barSize\",{get:function(){return this._barSize},set:function(t){this._barSize!==t&&(this._barSize=t,this._markAsDirty(),this._horizontalBar.isVisible&&this._grid.setRowDefinition(1,this._barSize,!0),this._verticalBar.isVisible&&this._grid.setColumnDefinition(1,this._barSize,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbLength\",{get:function(){return this._thumbLength},set:function(t){if(this._thumbLength!==t){t<=0&&(t=.1),t>1&&(t=1),this._thumbLength=t;var e=this._horizontalBar,i=this._verticalBar;e.thumbLength=t,i.thumbLength=t,this._markAsDirty()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbHeight\",{get:function(){return this._thumbHeight},set:function(t){if(this._thumbHeight!==t){t<=0&&(t=.1),t>1&&(t=1),this._thumbHeight=t;var e=this._horizontalBar,i=this._verticalBar;e.thumbHeight=t,i.thumbHeight=t,this._markAsDirty()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barImageHeight\",{get:function(){return this._barImageHeight},set:function(t){if(this._barImageHeight!==t){t<=0&&(t=.1),t>1&&(t=1),this._barImageHeight=t;var e=this._horizontalBar,i=this._verticalBar;e.barImageHeight=t,i.barImageHeight=t,this._markAsDirty()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barBackground\",{get:function(){return this._barBackground},set:function(t){if(this._barBackground!==t){this._barBackground=t;var e=this._horizontalBar,i=this._verticalBar;e.background=t,i.background=t,this._dragSpace.background=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"barImage\",{get:function(){return this._barBackgroundImage},set:function(t){this._barBackgroundImage,this._barBackgroundImage=t;var e=this._horizontalBar,i=this._verticalBar;e.backgroundImage=t,i.backgroundImage=t},enumerable:!0,configurable:!0}),e.prototype._setWindowPosition=function(){var t=this._window._currentMeasure.width,e=this._window._currentMeasure.height,i=this._clientWidth-t,r=this._clientHeight-e,n=this._horizontalBar.value*i+\"px\",o=this._verticalBar.value*r+\"px\";n!==this._window.left&&(this._window.left=n,this.freezeControls||(this._rebuildLayout=!0)),o!==this._window.top&&(this._window.top=o,this.freezeControls||(this._rebuildLayout=!0))},e.prototype._updateScroller=function(){var t=this._window._currentMeasure.width,e=this._window._currentMeasure.height;this._horizontalBar.isVisible&&t<=this._clientWidth&&!this.forceHorizontalBar?(this._grid.setRowDefinition(1,0,!0),this._horizontalBar.isVisible=!1,this._horizontalBar.value=0,this._rebuildLayout=!0):!this._horizontalBar.isVisible&&(t>this._clientWidth||this.forceHorizontalBar)&&(this._grid.setRowDefinition(1,this._barSize,!0),this._horizontalBar.isVisible=!0,this._rebuildLayout=!0),this._verticalBar.isVisible&&e<=this._clientHeight&&!this.forceVerticalBar?(this._grid.setColumnDefinition(1,0,!0),this._verticalBar.isVisible=!1,this._verticalBar.value=0,this._rebuildLayout=!0):!this._verticalBar.isVisible&&(e>this._clientHeight||this.forceVerticalBar)&&(this._grid.setColumnDefinition(1,this._barSize,!0),this._verticalBar.isVisible=!0,this._rebuildLayout=!0),this._buildClientSizes(),this._horizontalBar.thumbWidth=.9*this._thumbLength*this._clientWidth+\"px\",this._verticalBar.thumbWidth=.9*this._thumbLength*this._clientHeight+\"px\"},e.prototype._link=function(e){t.prototype._link.call(this,e),this._attachWheel()},e.prototype._addBar=function(t,e,i,r){var n=this;t.paddingLeft=0,t.width=\"100%\",t.height=\"100%\",t.barOffset=0,t.value=0,t.maximum=1,t.horizontalAlignment=p.HORIZONTAL_ALIGNMENT_CENTER,t.verticalAlignment=p.VERTICAL_ALIGNMENT_CENTER,t.isVertical=i,t.rotation=r,t.isVisible=!1,e.addControl(t),t.onValueChangedObservable.add((function(t){n._setWindowPosition()}))},e.prototype._attachWheel=function(){var t=this;if(this._host&&!this._onPointerObserver){var e=this._host.getScene();this._onPointerObserver=e.onPointerObservable.add((function(e,i){t._pointerIsOver&&e.type===s.PointerEventTypes.POINTERWHEEL&&(1==t._verticalBar.isVisible&&(e.event.deltaY<0&&t._verticalBar.value>0?t._verticalBar.value-=t._wheelPrecision:e.event.deltaY>0&&t._verticalBar.value<t._verticalBar.maximum&&(t._verticalBar.value+=t._wheelPrecision)),1==t._horizontalBar.isVisible&&(e.event.deltaX<0&&t._horizontalBar.value<t._horizontalBar.maximum?t._horizontalBar.value+=t._wheelPrecision:e.event.deltaX>0&&t._horizontalBar.value>0&&(t._horizontalBar.value-=t._wheelPrecision)))}))}},e.prototype._renderHighlightSpecific=function(e){this.isHighlighted&&(t.prototype._renderHighlightSpecific.call(this,e),this._grid._renderHighlightSpecific(e),e.restore())},e.prototype.dispose=function(){var e=this._host.getScene();e&&this._onPointerObserver&&(e.onPointerObservable.remove(this._onPointerObserver),this._onPointerObserver=null),t.prototype.dispose.call(this)},e}(m);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.ScrollViewer\"]=z;var G=function(){},X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onKeyPressObservable=new s.Observable,e.defaultButtonWidth=\"40px\",e.defaultButtonHeight=\"40px\",e.defaultButtonPaddingLeft=\"2px\",e.defaultButtonPaddingRight=\"2px\",e.defaultButtonPaddingTop=\"2px\",e.defaultButtonPaddingBottom=\"2px\",e.defaultButtonColor=\"#DDD\",e.defaultButtonBackground=\"#070707\",e.shiftButtonColor=\"#7799FF\",e.selectedShiftThickness=1,e.shiftState=0,e._currentlyConnectedInputText=null,e._connectedInputTexts=[],e._onKeyPressObserver=null,e}return n(e,t),e.prototype._getTypeName=function(){return\"VirtualKeyboard\"},e.prototype._createKey=function(t,e){var i=this,r=O.CreateSimpleButton(t,t);return r.width=e&&e.width?e.width:this.defaultButtonWidth,r.height=e&&e.height?e.height:this.defaultButtonHeight,r.color=e&&e.color?e.color:this.defaultButtonColor,r.background=e&&e.background?e.background:this.defaultButtonBackground,r.paddingLeft=e&&e.paddingLeft?e.paddingLeft:this.defaultButtonPaddingLeft,r.paddingRight=e&&e.paddingRight?e.paddingRight:this.defaultButtonPaddingRight,r.paddingTop=e&&e.paddingTop?e.paddingTop:this.defaultButtonPaddingTop,r.paddingBottom=e&&e.paddingBottom?e.paddingBottom:this.defaultButtonPaddingBottom,r.thickness=0,r.isFocusInvisible=!0,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur,r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.onPointerUpObservable.add((function(){i.onKeyPressObservable.notifyObservers(t)})),r},e.prototype.addKeysRow=function(t,e){var i=new C;i.isVertical=!1,i.isFocusInvisible=!0;for(var r=null,n=0;n<t.length;n++){var o=null;e&&e.length===t.length&&(o=e[n]);var s=this._createKey(t[n],o);(!r||s.heightInPixels>r.heightInPixels)&&(r=s),i.addControl(s)}i.height=r?r.height:this.defaultButtonHeight,this.addControl(i)},e.prototype.applyShiftState=function(t){if(this.children)for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i&&i.children)for(var r=i,n=0;n<r.children.length;n++){var o=r.children[n];if(o&&o.children[0]){var s=o.children[0];\"⇧\"===s.text&&(o.color=t?this.shiftButtonColor:this.defaultButtonColor,o.thickness=t>1?this.selectedShiftThickness:0),s.text=t>0?s.text.toUpperCase():s.text.toLowerCase()}}}},Object.defineProperty(e.prototype,\"connectedInputText\",{get:function(){return this._currentlyConnectedInputText},enumerable:!0,configurable:!0}),e.prototype.connect=function(t){var e=this;if(!this._connectedInputTexts.some((function(e){return e.input===t}))){null===this._onKeyPressObserver&&(this._onKeyPressObserver=this.onKeyPressObservable.add((function(t){if(e._currentlyConnectedInputText){switch(e._currentlyConnectedInputText._host.focusedControl=e._currentlyConnectedInputText,t){case\"⇧\":return e.shiftState++,e.shiftState>2&&(e.shiftState=0),void e.applyShiftState(e.shiftState);case\"←\":return void e._currentlyConnectedInputText.processKey(8);case\"↵\":return void e._currentlyConnectedInputText.processKey(13)}e._currentlyConnectedInputText.processKey(-1,e.shiftState?t.toUpperCase():t),1===e.shiftState&&(e.shiftState=0,e.applyShiftState(e.shiftState))}}))),this.isVisible=!1,this._currentlyConnectedInputText=t,t._connectedVirtualKeyboard=this;var i=t.onFocusObservable.add((function(){e._currentlyConnectedInputText=t,t._connectedVirtualKeyboard=e,e.isVisible=!0})),r=t.onBlurObservable.add((function(){t._connectedVirtualKeyboard=null,e._currentlyConnectedInputText=null,e.isVisible=!1}));this._connectedInputTexts.push({input:t,onBlurObserver:r,onFocusObserver:i})}},e.prototype.disconnect=function(t){var e=this;if(t){var i=this._connectedInputTexts.filter((function(e){return e.input===t}));1===i.length&&(this._removeConnectedInputObservables(i[0]),this._connectedInputTexts=this._connectedInputTexts.filter((function(e){return e.input!==t})),this._currentlyConnectedInputText===t&&(this._currentlyConnectedInputText=null))}else this._connectedInputTexts.forEach((function(t){e._removeConnectedInputObservables(t)})),this._connectedInputTexts=[];0===this._connectedInputTexts.length&&(this._currentlyConnectedInputText=null,this.onKeyPressObservable.remove(this._onKeyPressObserver),this._onKeyPressObserver=null)},e.prototype._removeConnectedInputObservables=function(t){t.input._connectedVirtualKeyboard=null,t.input.onFocusObservable.remove(t.onFocusObserver),t.input.onBlurObservable.remove(t.onBlurObserver)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disconnect()},e.CreateDefaultLayout=function(t){var i=new e(t);return i.addKeysRow([\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"0\",\"←\"]),i.addKeysRow([\"q\",\"w\",\"e\",\"r\",\"t\",\"y\",\"u\",\"i\",\"o\",\"p\"]),i.addKeysRow([\"a\",\"s\",\"d\",\"f\",\"g\",\"h\",\"j\",\"k\",\"l\",\";\",\"'\",\"↵\"]),i.addKeysRow([\"⇧\",\"z\",\"x\",\"c\",\"v\",\"b\",\"n\",\"m\",\",\",\".\",\"/\"]),i.addKeysRow([\" \"],[{width:\"200px\"}]),i},e}(C);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.VirtualKeyboard\"]=X;var Y=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._cellWidth=20,i._cellHeight=20,i._minorLineTickness=1,i._minorLineColor=\"DarkGray\",i._majorLineTickness=2,i._majorLineColor=\"White\",i._majorLineFrequency=5,i._background=\"Black\",i._displayMajorLines=!0,i._displayMinorLines=!0,i}return n(e,t),Object.defineProperty(e.prototype,\"displayMinorLines\",{get:function(){return this._displayMinorLines},set:function(t){this._displayMinorLines!==t&&(this._displayMinorLines=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"displayMajorLines\",{get:function(){return this._displayMajorLines},set:function(t){this._displayMajorLines!==t&&(this._displayMajorLines=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cellWidth\",{get:function(){return this._cellWidth},set:function(t){this._cellWidth=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"cellHeight\",{get:function(){return this._cellHeight},set:function(t){this._cellHeight=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"minorLineTickness\",{get:function(){return this._minorLineTickness},set:function(t){this._minorLineTickness=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"minorLineColor\",{get:function(){return this._minorLineColor},set:function(t){this._minorLineColor=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"majorLineTickness\",{get:function(){return this._majorLineTickness},set:function(t){this._majorLineTickness=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"majorLineColor\",{get:function(){return this._majorLineColor},set:function(t){this._majorLineColor=t,this._markAsDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"majorLineFrequency\",{get:function(){return this._majorLineFrequency},set:function(t){this._majorLineFrequency=t,this._markAsDirty()},enumerable:!0,configurable:!0}),e.prototype._draw=function(t,e){if(t.save(),this._applyStates(t),this._isEnabled){this._background&&(t.fillStyle=this._background,t.fillRect(this._currentMeasure.left,this._currentMeasure.top,this._currentMeasure.width,this._currentMeasure.height));var i=this._currentMeasure.width/this._cellWidth,r=this._currentMeasure.height/this._cellHeight,n=this._currentMeasure.left+this._currentMeasure.width/2,o=this._currentMeasure.top+this._currentMeasure.height/2;if(this._displayMinorLines){t.strokeStyle=this._minorLineColor,t.lineWidth=this._minorLineTickness;for(var s=-i/2;s<i/2;s++){var a=n+s*this.cellWidth;t.beginPath(),t.moveTo(a,this._currentMeasure.top),t.lineTo(a,this._currentMeasure.top+this._currentMeasure.height),t.stroke()}for(var h=-r/2;h<r/2;h++){var l=o+h*this.cellHeight;t.beginPath(),t.moveTo(this._currentMeasure.left,l),t.lineTo(this._currentMeasure.left+this._currentMeasure.width,l),t.stroke()}}if(this._displayMajorLines){t.strokeStyle=this._majorLineColor,t.lineWidth=this._majorLineTickness;for(s=-i/2+this._majorLineFrequency;s<i/2;s+=this._majorLineFrequency){a=n+s*this.cellWidth;t.beginPath(),t.moveTo(a,this._currentMeasure.top),t.lineTo(a,this._currentMeasure.top+this._currentMeasure.height),t.stroke()}for(h=-r/2+this._majorLineFrequency;h<r/2;h+=this._majorLineFrequency){l=o+h*this.cellHeight;t.moveTo(this._currentMeasure.left,l),t.lineTo(this._currentMeasure.left+this._currentMeasure.width,l),t.closePath(),t.stroke()}}}t.restore()},e.prototype._getTypeName=function(){return\"DisplayGrid\"},e}(p);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.DisplayGrid\"]=Y;var U=function(t){function e(e){var i=t.call(this,e)||this;return i.name=e,i._tempMeasure=new _(0,0,0,0),i}return n(e,t),Object.defineProperty(e.prototype,\"displayThumb\",{get:function(){return this._displayThumb&&null!=this.thumbImage},set:function(t){this._displayThumb!==t&&(this._displayThumb=t,this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"backgroundImage\",{get:function(){return this._backgroundImage},set:function(t){var e=this;this._backgroundImage!==t&&(this._backgroundImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){return e._markAsDirty()})),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"valueBarImage\",{get:function(){return this._valueBarImage},set:function(t){var e=this;this._valueBarImage!==t&&(this._valueBarImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){return e._markAsDirty()})),this._markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"thumbImage\",{get:function(){return this._thumbImage},set:function(t){var e=this;this._thumbImage!==t&&(this._thumbImage=t,t&&!t.isLoaded&&t.onImageLoadedObservable.addOnce((function(){return e._markAsDirty()})),this._markAsDirty())},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"ImageBasedSlider\"},e.prototype._draw=function(t,e){t.save(),this._applyStates(t),this._prepareRenderingData(\"rectangle\");var i=this._getThumbPosition(),r=this._renderLeft,n=this._renderTop,o=this._renderWidth,s=this._renderHeight;this._backgroundImage&&(this._tempMeasure.copyFromFloats(r,n,o,s),this.isThumbClamped&&this.displayThumb&&(this.isVertical?this._tempMeasure.height+=this._effectiveThumbThickness:this._tempMeasure.width+=this._effectiveThumbThickness),this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure),this._backgroundImage._draw(t)),this._valueBarImage&&(this.isVertical?this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(r,n+i,o,s-i+this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(r,n+i,o,s-i):this.isThumbClamped&&this.displayThumb?this._tempMeasure.copyFromFloats(r,n,i+this._effectiveThumbThickness/2,s):this._tempMeasure.copyFromFloats(r,n,i,s),this._valueBarImage._currentMeasure.copyFrom(this._tempMeasure),this._valueBarImage._draw(t)),this.displayThumb&&(this.isVertical?this._tempMeasure.copyFromFloats(r-this._effectiveBarOffset,this._currentMeasure.top+i,this._currentMeasure.width,this._effectiveThumbThickness):this._tempMeasure.copyFromFloats(this._currentMeasure.left+i,this._currentMeasure.top,this._effectiveThumbThickness,this._currentMeasure.height),this._thumbImage._currentMeasure.copyFrom(this._tempMeasure),this._thumbImage._draw(t)),t.restore()},e}(L);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.ImageBasedSlider\"]=U;p.AddHeader=function(t,e,i,r){var n=new C(\"panel\"),o=!r||r.isHorizontal,s=!r||r.controlFirst;n.isVertical=!o;var a=new y(\"header\");return a.text=e,a.textHorizontalAlignment=p.HORIZONTAL_ALIGNMENT_LEFT,o?a.width=i:a.height=i,s?(n.addControl(t),n.addControl(a),a.paddingLeft=\"5px\"):(n.addControl(a),n.addControl(t),a.paddingRight=\"5px\"),a.shadowBlur=t.shadowBlur,a.shadowColor=t.shadowColor,a.shadowOffsetX=t.shadowOffsetX,a.shadowOffsetY=t.shadowOffsetY,n};var q=function(){function t(t){this._fontFamily=\"Arial\",this._fontStyle=\"\",this._fontWeight=\"\",this._fontSize=new a(18,a.UNITMODE_PIXEL,!1),this.onChangedObservable=new s.Observable,this._host=t}return Object.defineProperty(t.prototype,\"fontSize\",{get:function(){return this._fontSize.toString(this._host)},set:function(t){this._fontSize.toString(this._host)!==t&&this._fontSize.fromString(t)&&this.onChangedObservable.notifyObservers(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontFamily\",{get:function(){return this._fontFamily},set:function(t){this._fontFamily!==t&&(this._fontFamily=t,this.onChangedObservable.notifyObservers(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontStyle\",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.onChangedObservable.notifyObservers(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"fontWeight\",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.onChangedObservable.notifyObservers(this))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.onChangedObservable.clear()},t}(),K=function(t){function e(e,i,r,n,o,a){void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=!1),void 0===a&&(a=s.Texture.NEAREST_SAMPLINGMODE);var h=t.call(this,e,{width:i,height:r},n,o,a,s.Constants.TEXTUREFORMAT_RGBA)||this;return h._isDirty=!1,h._rootContainer=new g(\"root\"),h._lastControlOver={},h._lastControlDown={},h._capturingControl={},h._linkedControls=new Array,h._isFullscreen=!1,h._fullscreenViewport=new s.Viewport(0,0,1,1),h._idealWidth=0,h._idealHeight=0,h._useSmallestIdeal=!1,h._renderAtIdealSize=!1,h._blockNextFocusCheck=!1,h._renderScale=1,h._cursorChanged=!1,h._numLayoutCalls=0,h._numRenderCalls=0,h._clipboardData=\"\",h.onClipboardObservable=new s.Observable,h.onControlPickedObservable=new s.Observable,h.onBeginLayoutObservable=new s.Observable,h.onEndLayoutObservable=new s.Observable,h.onBeginRenderObservable=new s.Observable,h.onEndRenderObservable=new s.Observable,h.premulAlpha=!1,h._useInvalidateRectOptimization=!0,h._invalidatedRectangle=null,h._clearMeasure=new _(0,0,0,0),h.onClipboardCopy=function(t){var e=t,i=new s.ClipboardInfo(s.ClipboardEventTypes.COPY,e);h.onClipboardObservable.notifyObservers(i),e.preventDefault()},h.onClipboardCut=function(t){var e=t,i=new s.ClipboardInfo(s.ClipboardEventTypes.CUT,e);h.onClipboardObservable.notifyObservers(i),e.preventDefault()},h.onClipboardPaste=function(t){var e=t,i=new s.ClipboardInfo(s.ClipboardEventTypes.PASTE,e);h.onClipboardObservable.notifyObservers(i),e.preventDefault()},(n=h.getScene())&&h._texture?(h._rootElement=n.getEngine().getInputElement(),h._renderObserver=n.onBeforeCameraRenderObservable.add((function(t){return h._checkUpdate(t)})),h._preKeyboardObserver=n.onPreKeyboardObservable.add((function(t){h._focusedControl&&(t.type===s.KeyboardEventTypes.KEYDOWN&&h._focusedControl.processKeyboard(t.event),t.skipOnPointerObservable=!0)})),h._rootContainer._link(h),h.hasAlpha=!0,i&&r||(h._resizeObserver=n.getEngine().onResizeObservable.add((function(){return h._onResize()})),h._onResize()),h._texture.isReady=!0,h):h}return n(e,t),Object.defineProperty(e.prototype,\"numLayoutCalls\",{get:function(){return this._numLayoutCalls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"numRenderCalls\",{get:function(){return this._numRenderCalls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"renderScale\",{get:function(){return this._renderScale},set:function(t){t!==this._renderScale&&(this._renderScale=t,this._onResize())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"background\",{get:function(){return this._background},set:function(t){this._background!==t&&(this._background=t,this.markAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"idealWidth\",{get:function(){return this._idealWidth},set:function(t){this._idealWidth!==t&&(this._idealWidth=t,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"idealHeight\",{get:function(){return this._idealHeight},set:function(t){this._idealHeight!==t&&(this._idealHeight=t,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"useSmallestIdeal\",{get:function(){return this._useSmallestIdeal},set:function(t){this._useSmallestIdeal!==t&&(this._useSmallestIdeal=t,this.markAsDirty(),this._rootContainer._markAllAsDirty())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"renderAtIdealSize\",{get:function(){return this._renderAtIdealSize},set:function(t){this._renderAtIdealSize!==t&&(this._renderAtIdealSize=t,this._onResize())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"layer\",{get:function(){return this._layerToDispose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rootContainer\",{get:function(){return this._rootContainer},enumerable:!0,configurable:!0}),e.prototype.getChildren=function(){return[this._rootContainer]},e.prototype.getDescendants=function(t,e){return this._rootContainer.getDescendants(t,e)},Object.defineProperty(e.prototype,\"focusedControl\",{get:function(){return this._focusedControl},set:function(t){this._focusedControl!=t&&(this._focusedControl&&this._focusedControl.onBlur(),t&&t.onFocus(),this._focusedControl=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"isForeground\",{get:function(){return!this.layer||!this.layer.isBackground},set:function(t){this.layer&&this.layer.isBackground!==!t&&(this.layer.isBackground=!t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"clipboardData\",{get:function(){return this._clipboardData},set:function(t){this._clipboardData=t},enumerable:!0,configurable:!0}),e.prototype.getClassName=function(){return\"AdvancedDynamicTexture\"},e.prototype.executeOnAllControls=function(t,e){e||(e=this._rootContainer),t(e);for(var i=0,r=e.children;i<r.length;i++){var n=r[i];n.children?this.executeOnAllControls(t,n):t(n)}},Object.defineProperty(e.prototype,\"useInvalidateRectOptimization\",{get:function(){return this._useInvalidateRectOptimization},set:function(t){this._useInvalidateRectOptimization=t},enumerable:!0,configurable:!0}),e.prototype.invalidateRect=function(t,e,i,r){if(this._useInvalidateRectOptimization)if(this._invalidatedRectangle){var n=Math.ceil(Math.max(this._invalidatedRectangle.left+this._invalidatedRectangle.width-1,i)),o=Math.ceil(Math.max(this._invalidatedRectangle.top+this._invalidatedRectangle.height-1,r));this._invalidatedRectangle.left=Math.floor(Math.min(this._invalidatedRectangle.left,t)),this._invalidatedRectangle.top=Math.floor(Math.min(this._invalidatedRectangle.top,e)),this._invalidatedRectangle.width=n-this._invalidatedRectangle.left+1,this._invalidatedRectangle.height=o-this._invalidatedRectangle.top+1}else this._invalidatedRectangle=new _(t,e,i-t+1,r-e+1)},e.prototype.markAsDirty=function(){this._isDirty=!0},e.prototype.createStyle=function(){return new q(this)},e.prototype.addControl=function(t){return this._rootContainer.addControl(t),this},e.prototype.removeControl=function(t){return this._rootContainer.removeControl(t),this},e.prototype.dispose=function(){var e=this.getScene();e&&(this._rootElement=null,e.onBeforeCameraRenderObservable.remove(this._renderObserver),this._resizeObserver&&e.getEngine().onResizeObservable.remove(this._resizeObserver),this._pointerMoveObserver&&e.onPrePointerObservable.remove(this._pointerMoveObserver),this._pointerObserver&&e.onPointerObservable.remove(this._pointerObserver),this._preKeyboardObserver&&e.onPreKeyboardObservable.remove(this._preKeyboardObserver),this._canvasPointerOutObserver&&e.getEngine().onCanvasPointerOutObservable.remove(this._canvasPointerOutObserver),this._layerToDispose&&(this._layerToDispose.texture=null,this._layerToDispose.dispose(),this._layerToDispose=null),this._rootContainer.dispose(),this.onClipboardObservable.clear(),this.onControlPickedObservable.clear(),this.onBeginRenderObservable.clear(),this.onEndRenderObservable.clear(),this.onBeginLayoutObservable.clear(),this.onEndLayoutObservable.clear(),t.prototype.dispose.call(this))},e.prototype._onResize=function(){var t=this.getScene();if(t){var e=t.getEngine(),i=this.getSize(),r=e.getRenderWidth()*this._renderScale,n=e.getRenderHeight()*this._renderScale;this._renderAtIdealSize&&(this._idealWidth?(n=n*this._idealWidth/r,r=this._idealWidth):this._idealHeight&&(r=r*this._idealHeight/n,n=this._idealHeight)),i.width===r&&i.height===n||(this.scaleTo(r,n),this.markAsDirty(),(this._idealWidth||this._idealHeight)&&this._rootContainer._markAllAsDirty()),this.invalidateRect(0,0,i.width-1,i.height-1)}},e.prototype._getGlobalViewport=function(t){var e=t.getEngine();return this._fullscreenViewport.toGlobal(e.getRenderWidth(),e.getRenderHeight())},e.prototype.getProjectedPosition=function(t,e){var i=this.getScene();if(!i)return s.Vector2.Zero();var r=this._getGlobalViewport(i),n=s.Vector3.Project(t,e,i.getTransformMatrix(),r);return n.scaleInPlace(this.renderScale),new s.Vector2(n.x,n.y)},e.prototype._checkUpdate=function(t){if(!this._layerToDispose||0!=(t.layerMask&this._layerToDispose.layerMask)){if(this._isFullscreen&&this._linkedControls.length){var e=this.getScene();if(!e)return;for(var i=this._getGlobalViewport(e),r=0,n=this._linkedControls;r<n.length;r++){var o=n[r];if(o.isVisible){var a=o._linkedMesh;if(a&&!a.isDisposed()){var h=a.getBoundingInfo?a.getBoundingInfo().boundingSphere.center:s.Vector3.ZeroReadOnly,l=s.Vector3.Project(h,a.getWorldMatrix(),e.getTransformMatrix(),i);l.z<0||l.z>1?o.notRenderable=!0:(o.notRenderable=!1,l.scaleInPlace(this.renderScale),o._moveToProjectedPosition(l))}else s.Tools.SetImmediate((function(){o.linkWithMesh(null)}))}}}(this._isDirty||this._rootContainer.isDirty)&&(this._isDirty=!1,this._render(),this.update(!0,this.premulAlpha))}},e.prototype._render=function(){var t=this.getSize(),e=t.width,i=t.height,r=this.getContext();r.font=\"18px Arial\",r.strokeStyle=\"white\",this.onBeginLayoutObservable.notifyObservers(this);var n=new _(0,0,e,i);this._numLayoutCalls=0,this._rootContainer._layout(n,r),this.onEndLayoutObservable.notifyObservers(this),this._isDirty=!1,this._invalidatedRectangle?this._clearMeasure.copyFrom(this._invalidatedRectangle):this._clearMeasure.copyFromFloats(0,0,e,i),r.clearRect(this._clearMeasure.left,this._clearMeasure.top,this._clearMeasure.width,this._clearMeasure.height),this._background&&(r.save(),r.fillStyle=this._background,r.fillRect(this._clearMeasure.left,this._clearMeasure.top,this._clearMeasure.width,this._clearMeasure.height),r.restore()),this.onBeginRenderObservable.notifyObservers(this),this._numRenderCalls=0,this._rootContainer._render(r,this._invalidatedRectangle),this.onEndRenderObservable.notifyObservers(this),this._invalidatedRectangle=null},e.prototype._changeCursor=function(t){this._rootElement&&(this._rootElement.style.cursor=t,this._cursorChanged=!0)},e.prototype._registerLastControlDown=function(t,e){this._lastControlDown[e]=t,this.onControlPickedObservable.notifyObservers(t)},e.prototype._doPicking=function(t,e,i,r,n){var o=this.getScene();if(o){var a=o.getEngine(),h=this.getSize();if(this._isFullscreen){var l=(o.cameraToUseForPointers||o.activeCamera).viewport;t*=h.width/(a.getRenderWidth()*l.width),e*=h.height/(a.getRenderHeight()*l.height)}this._capturingControl[r]?this._capturingControl[r]._processObservables(i,t,e,r,n):(this._cursorChanged=!1,this._rootContainer._processPicking(t,e,i,r,n)||(this._changeCursor(\"\"),i===s.PointerEventTypes.POINTERMOVE&&this._lastControlOver[r]&&(this._lastControlOver[r]._onPointerOut(this._lastControlOver[r]),delete this._lastControlOver[r])),this._cursorChanged||this._changeCursor(\"\"),this._manageFocus())}},e.prototype._cleanControlAfterRemovalFromList=function(t,e){for(var i in t){if(t.hasOwnProperty(i))t[i]===e&&delete t[i]}},e.prototype._cleanControlAfterRemoval=function(t){this._cleanControlAfterRemovalFromList(this._lastControlDown,t),this._cleanControlAfterRemovalFromList(this._lastControlOver,t)},e.prototype.attach=function(){var t=this,e=this.getScene();if(e){var i=new s.Viewport(0,0,0,0);this._pointerMoveObserver=e.onPrePointerObservable.add((function(r,n){if(!e.isPointerCaptured(r.event.pointerId)&&(r.type===s.PointerEventTypes.POINTERMOVE||r.type===s.PointerEventTypes.POINTERUP||r.type===s.PointerEventTypes.POINTERDOWN)&&e){var o=e.cameraToUseForPointers||e.activeCamera,a=e.getEngine();o?o.viewport.toGlobalToRef(a.getRenderWidth(),a.getRenderHeight(),i):(i.x=0,i.y=0,i.width=a.getRenderWidth(),i.height=a.getRenderHeight());var h=e.pointerX/a.getHardwareScalingLevel()-i.x,l=e.pointerY/a.getHardwareScalingLevel()-(a.getRenderHeight()-i.y-i.height);t._shouldBlockPointer=!1,t._doPicking(h,l,r.type,r.event.pointerId||0,r.event.button),t._shouldBlockPointer&&(r.skipOnPointerObservable=t._shouldBlockPointer)}})),this._attachToOnPointerOut(e)}},e.prototype.registerClipboardEvents=function(){self.addEventListener(\"copy\",this.onClipboardCopy,!1),self.addEventListener(\"cut\",this.onClipboardCut,!1),self.addEventListener(\"paste\",this.onClipboardPaste,!1)},e.prototype.unRegisterClipboardEvents=function(){self.removeEventListener(\"copy\",this.onClipboardCopy),self.removeEventListener(\"cut\",this.onClipboardCut),self.removeEventListener(\"paste\",this.onClipboardPaste)},e.prototype.attachToMesh=function(t,e){var i=this;void 0===e&&(e=!0);var r=this.getScene();r&&(this._pointerObserver=r.onPointerObservable.add((function(e,r){if(e.type===s.PointerEventTypes.POINTERMOVE||e.type===s.PointerEventTypes.POINTERUP||e.type===s.PointerEventTypes.POINTERDOWN){var n=e.event.pointerId||0;if(e.pickInfo&&e.pickInfo.hit&&e.pickInfo.pickedMesh===t){var o=e.pickInfo.getTextureCoordinates();if(o){var a=i.getSize();i._doPicking(o.x*a.width,(1-o.y)*a.height,e.type,n,e.event.button)}}else if(e.type===s.PointerEventTypes.POINTERUP){if(i._lastControlDown[n]&&i._lastControlDown[n]._forcePointerUp(n),delete i._lastControlDown[n],i.focusedControl){var h=i.focusedControl.keepsFocusWith(),l=!0;if(h)for(var u=0,c=h;u<c.length;u++){var _=c[u];if(i!==_._host){var d=_._host;if(d._lastControlOver[n]&&d._lastControlOver[n].isAscendant(_)){l=!1;break}}}l&&(i.focusedControl=null)}}else e.type===s.PointerEventTypes.POINTERMOVE&&(i._lastControlOver[n]&&i._lastControlOver[n]._onPointerOut(i._lastControlOver[n],!0),delete i._lastControlOver[n])}})),t.enablePointerMoveEvents=e,this._attachToOnPointerOut(r))},e.prototype.moveFocusToControl=function(t){this.focusedControl=t,this._lastPickedControl=t,this._blockNextFocusCheck=!0},e.prototype._manageFocus=function(){if(this._blockNextFocusCheck)return this._blockNextFocusCheck=!1,void(this._lastPickedControl=this._focusedControl);if(this._focusedControl&&this._focusedControl!==this._lastPickedControl){if(this._lastPickedControl.isFocusInvisible)return;this.focusedControl=null}},e.prototype._attachToOnPointerOut=function(t){var e=this;this._canvasPointerOutObserver=t.getEngine().onCanvasPointerOutObservable.add((function(t){e._lastControlOver[t.pointerId]&&e._lastControlOver[t.pointerId]._onPointerOut(e._lastControlOver[t.pointerId]),delete e._lastControlOver[t.pointerId],e._lastControlDown[t.pointerId]&&e._lastControlDown[t.pointerId]!==e._capturingControl[t.pointerId]&&(e._lastControlDown[t.pointerId]._forcePointerUp(),delete e._lastControlDown[t.pointerId])}))},e.CreateForMesh=function(t,i,r,n,o){void 0===i&&(i=1024),void 0===r&&(r=1024),void 0===n&&(n=!0),void 0===o&&(o=!1);var a=new e(t.name+\" AdvancedDynamicTexture\",i,r,t.getScene(),!0,s.Texture.TRILINEAR_SAMPLINGMODE),h=new s.StandardMaterial(\"AdvancedDynamicTextureMaterial\",t.getScene());return h.backFaceCulling=!1,h.diffuseColor=s.Color3.Black(),h.specularColor=s.Color3.Black(),o?(h.diffuseTexture=a,h.emissiveTexture=a,a.hasAlpha=!0):(h.emissiveTexture=a,h.opacityTexture=a),t.material=h,a.attachToMesh(t,n),a},e.CreateFullscreenUI=function(t,i,r,n){void 0===i&&(i=!0),void 0===r&&(r=null),void 0===n&&(n=s.Texture.BILINEAR_SAMPLINGMODE);var o=new e(t,0,0,r,!1,n),a=new s.Layer(t+\"_layer\",null,r,!i);return a.texture=o,o._layerToDispose=a,o._isFullscreen=!0,o.attach(),o},e}(s.DynamicTexture),Z=function(){function t(t){this.texture=t,this._captureRenderTime=!1,this._renderTime=new s.PerfCounter,this._captureLayoutTime=!1,this._layoutTime=new s.PerfCounter,this._onBeginRenderObserver=null,this._onEndRenderObserver=null,this._onBeginLayoutObserver=null,this._onEndLayoutObserver=null}return Object.defineProperty(t.prototype,\"renderTimeCounter\",{get:function(){return this._renderTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"layoutTimeCounter\",{get:function(){return this._layoutTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"captureRenderTime\",{get:function(){return this._captureRenderTime},set:function(t){var e=this;t!==this._captureRenderTime&&(this._captureRenderTime=t,t?(this._onBeginRenderObserver=this.texture.onBeginRenderObservable.add((function(){e._renderTime.beginMonitoring()})),this._onEndRenderObserver=this.texture.onEndRenderObservable.add((function(){e._renderTime.endMonitoring(!0)}))):(this.texture.onBeginRenderObservable.remove(this._onBeginRenderObserver),this._onBeginRenderObserver=null,this.texture.onEndRenderObservable.remove(this._onEndRenderObserver),this._onEndRenderObserver=null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"captureLayoutTime\",{get:function(){return this._captureLayoutTime},set:function(t){var e=this;t!==this._captureLayoutTime&&(this._captureLayoutTime=t,t?(this._onBeginLayoutObserver=this.texture.onBeginLayoutObservable.add((function(){e._layoutTime.beginMonitoring()})),this._onEndLayoutObserver=this.texture.onEndLayoutObservable.add((function(){e._layoutTime.endMonitoring(!0)}))):(this.texture.onBeginLayoutObservable.remove(this._onBeginLayoutObserver),this._onBeginLayoutObserver=null,this.texture.onEndLayoutObservable.remove(this._onEndLayoutObserver),this._onEndLayoutObserver=null))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.texture.onBeginRenderObservable.remove(this._onBeginRenderObserver),this._onBeginRenderObserver=null,this.texture.onEndRenderObservable.remove(this._onEndRenderObserver),this._onEndRenderObserver=null,this.texture.onBeginLayoutObservable.remove(this._onBeginLayoutObserver),this._onBeginLayoutObserver=null,this.texture.onEndLayoutObservable.remove(this._onEndLayoutObserver),this._onEndLayoutObserver=null,this.texture=null},t}(),J=function(){function t(t){void 0===t&&(t=null),this._nodes={},this._nodeTypes={element:1,attribute:2,text:3},this._isLoaded=!1,this._objectAttributes={textHorizontalAlignment:1,textVerticalAlignment:2,horizontalAlignment:3,verticalAlignment:4,stretch:5},t&&(this._parentClass=t)}return t.prototype._getChainElement=function(t){var e=window;this._parentClass&&(e=this._parentClass);var i=t;i=i.split(\".\");for(var r=0;r<i.length;r++)e=e[i[r]];return e},t.prototype._getClassAttribute=function(t){var e=t.split(\".\");return s._TypeStore.GetClass(\"BABYLON.GUI.\"+e[0])[e[1]]},t.prototype._createGuiElement=function(t,e,i){void 0===i&&(i=!0);try{var r=new(s._TypeStore.GetClass(\"BABYLON.GUI.\"+t.nodeName));e&&i&&e.addControl(r);for(var n=0;n<t.attributes.length;n++)if(!t.attributes[n].name.toLowerCase().includes(\"datasource\"))if(t.attributes[n].name.toLowerCase().includes(\"observable\")){var o=this._getChainElement(t.attributes[n].value);r[t.attributes[n].name].add(o)}else if(\"linkWithMesh\"==t.attributes[n].name)this._parentClass?r.linkWithMesh(this._parentClass[t.attributes[n].value]):r.linkWithMesh(window[t.attributes[n].value]);else if(t.attributes[n].value.startsWith(\"{{\")&&t.attributes[n].value.endsWith(\"}}\")){o=this._getChainElement(t.attributes[n].value.substring(2,t.attributes[n].value.length-2));r[t.attributes[n].name]=o}else this._objectAttributes[t.attributes[n].name]?r[t.attributes[n].name]=this._getClassAttribute(t.attributes[n].value):\"true\"==t.attributes[n].value||\"false\"==t.attributes[n].value?r[t.attributes[n].name]=\"true\"==t.attributes[n].value:r[t.attributes[n].name]=isNaN(Number(t.attributes[n].value))?t.attributes[n].value:Number(t.attributes[n].value);if(!t.attributes.getNamedItem(\"id\"))return this._nodes[t.nodeName+Object.keys(this._nodes).length+\"_gen\"]=r,r;var a=t.attributes.getNamedItem(\"id\").value;if(a.startsWith(\"{{\")&&a.endsWith(\"}}\")&&(a=this._getChainElement(a.substring(2,a.length-2))),this._nodes[a])throw\"XmlLoader Exception : Duplicate ID, every element should have an unique ID attribute\";return this._nodes[a]=r,r}catch(e){throw\"XmlLoader Exception : Error parsing Control \"+t.nodeName+\",\"+e+\".\"}},t.prototype._parseGrid=function(t,e,i){for(var r,n,o,s,a,h=t.children,l=!1,u=-1,c=-1,_=0,d=0;d<h.length;d++)if(h[d].nodeType==this._nodeTypes.element){if(\"Row\"!=h[d].nodeName)throw\"XmlLoader Exception : Expecting Row node, received \"+h[d].nodeName;if(u+=1,o=h[d].children,!h[d].attributes.getNamedItem(\"height\"))throw\"XmlLoader Exception : Height must be defined for grid rows\";n=Number(h[d].attributes.getNamedItem(\"height\").nodeValue),l=!!h[d].attributes.getNamedItem(\"isPixel\")&&JSON.parse(h[d].attributes.getNamedItem(\"isPixel\").nodeValue),e.addRowDefinition(n,l);for(var f=0;f<o.length;f++)if(o[f].nodeType==this._nodeTypes.element){if(\"Column\"!=o[f].nodeName)throw\"XmlLoader Exception : Expecting Column node, received \"+o[f].nodeName;if(c+=1,u>0&&c>_)throw\"XmlLoader Exception : In the Grid element, the number of columns is defined in the first row, do not add more columns in the subsequent rows.\";if(0==u){if(!o[f].attributes.getNamedItem(\"width\"))throw\"XmlLoader Exception : Width must be defined for all the grid columns in the first row\";r=Number(o[f].attributes.getNamedItem(\"width\").nodeValue),l=!!o[f].attributes.getNamedItem(\"isPixel\")&&JSON.parse(o[f].attributes.getNamedItem(\"isPixel\").nodeValue),e.addColumnDefinition(r,l)}s=o[f].children;for(var p=0;p<s.length;p++)s[p].nodeType==this._nodeTypes.element&&(a=this._createGuiElement(s[p],e,!1),e.addControl(a,u,c),s[p].firstChild&&this._parseXml(s[p].firstChild,a))}0==u&&(_=c),c=-1}t.nextSibling&&this._parseXml(t.nextSibling,i)},t.prototype._parseElement=function(t,e,i){t.firstChild&&this._parseXml(t.firstChild,e),t.nextSibling&&this._parseXml(t.nextSibling,i)},t.prototype._prepareSourceElement=function(t,e,i,r,n){this._parentClass?this._parentClass[i]=r[n]:window[i]=r[n],t.firstChild&&this._parseXml(t.firstChild,e,!0)},t.prototype._parseElementsFromSource=function(t,e,i){var r=t.attributes.getNamedItem(\"dataSource\").value;if(!r.includes(\" in \"))throw\"XmlLoader Exception : Malformed XML, Data Source must include an in\";var n=!0,o=r.split(\" in \");if(o.length<2)throw\"XmlLoader Exception : Malformed XML, Data Source must an iterator and a source\";var s=o[1];if(s.startsWith(\"{\")&&s.endsWith(\"}\")&&(n=!1),(!n||s.startsWith(\"[\")&&s.endsWith(\"]\"))&&(s=s.substring(1,s.length-1)),s=this._parentClass?this._parentClass[s]:window[s],n)for(var a=0;a<s.length;a++)this._prepareSourceElement(t,e,o[0],s,a);else for(var a in s)this._prepareSourceElement(t,e,o[0],s,a);t.nextSibling&&this._parseXml(t.nextSibling,i)},t.prototype._parseXml=function(t,e,i){if(void 0===i&&(i=!1),t.nodeType==this._nodeTypes.element){i&&t.setAttribute(\"id\",e.id+(e._children.length+1));var r=this._createGuiElement(t,e);\"Grid\"==t.nodeName?this._parseGrid(t,r,e):t.attributes.getNamedItem(\"dataSource\")?this._parseElementsFromSource(t,r,e):this._parseElement(t,r,e)}else t.nextSibling&&this._parseXml(t.nextSibling,e,i)},t.prototype.isLoaded=function(){return this._isLoaded},t.prototype.getNodeById=function(t){return this._nodes[t]},t.prototype.getNodes=function(){return this._nodes},t.prototype.loadLayout=function(t,e,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&200==r.status){if(!r.responseXML)throw\"XmlLoader Exception : XML file is malformed or corrupted.\";var t=r.responseXML.documentElement;this._parseXml(t.firstChild,e),this._isLoaded=!0,i&&i()}}.bind(this),r.open(\"GET\",t,!0),r.send()},t}(),Q=function(t){function e(e,i){void 0===i&&(i=0);var r=t.call(this,e.x,e.y,e.z)||this;return r.buttonIndex=i,r}return n(e,t),e}(s.Vector3),$=function(){function t(t){this.name=t,this._downCount=0,this._enterCount=-1,this._downPointerIds={},this._isVisible=!0,this.onPointerMoveObservable=new s.Observable,this.onPointerOutObservable=new s.Observable,this.onPointerDownObservable=new s.Observable,this.onPointerUpObservable=new s.Observable,this.onPointerClickObservable=new s.Observable,this.onPointerEnterObservable=new s.Observable,this._behaviors=new Array}return Object.defineProperty(t.prototype,\"position\",{get:function(){return this._node?this._node.position:s.Vector3.Zero()},set:function(t){this._node&&(this._node.position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"scaling\",{get:function(){return this._node?this._node.scaling:new s.Vector3(1,1,1)},set:function(t){this._node&&(this._node.scaling=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"behaviors\",{get:function(){return this._behaviors},enumerable:!0,configurable:!0}),t.prototype.addBehavior=function(t){var e=this;if(-1!==this._behaviors.indexOf(t))return this;t.init();var i=this._host.scene;return i.isLoading?i.onDataLoadedObservable.addOnce((function(){t.attach(e)})):t.attach(this),this._behaviors.push(t),this},t.prototype.removeBehavior=function(t){var e=this._behaviors.indexOf(t);return-1===e?this:(this._behaviors[e].detach(),this._behaviors.splice(e,1),this)},t.prototype.getBehaviorByName=function(t){for(var e=0,i=this._behaviors;e<i.length;e++){var r=i[e];if(r.name===t)return r}return null},Object.defineProperty(t.prototype,\"isVisible\",{get:function(){return this._isVisible},set:function(t){if(this._isVisible!==t){this._isVisible=t;var e=this.mesh;e&&e.setEnabled(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"typeName\",{get:function(){return this._getTypeName()},enumerable:!0,configurable:!0}),t.prototype.getClassName=function(){return this._getTypeName()},t.prototype._getTypeName=function(){return\"Control3D\"},Object.defineProperty(t.prototype,\"node\",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"mesh\",{get:function(){return this._node instanceof s.AbstractMesh?this._node:null},enumerable:!0,configurable:!0}),t.prototype.linkToTransformNode=function(t){return this._node&&(this._node.parent=t),this},t.prototype._prepareNode=function(t){if(!this._node){if(this._node=this._createNode(t),!this.node)return;this._node.metadata=this,this._node.position=this.position,this._node.scaling=this.scaling;var e=this.mesh;e&&(e.isPickable=!0,this._affectMaterial(e))}},t.prototype._createNode=function(t){return null},t.prototype._affectMaterial=function(t){t.material=null},t.prototype._onPointerMove=function(t,e){this.onPointerMoveObservable.notifyObservers(e,-1,t,this)},t.prototype._onPointerEnter=function(t){return!(this._enterCount>0)&&(-1===this._enterCount&&(this._enterCount=0),this._enterCount++,this.onPointerEnterObservable.notifyObservers(this,-1,t,this),this.pointerEnterAnimation&&this.pointerEnterAnimation(),!0)},t.prototype._onPointerOut=function(t){this._enterCount=0,this.onPointerOutObservable.notifyObservers(this,-1,t,this),this.pointerOutAnimation&&this.pointerOutAnimation()},t.prototype._onPointerDown=function(t,e,i,r){return 0!==this._downCount?(this._downCount++,!1):(this._downCount++,this._downPointerIds[i]=!0,this.onPointerDownObservable.notifyObservers(new Q(e,r),-1,t,this),this.pointerDownAnimation&&this.pointerDownAnimation(),!0)},t.prototype._onPointerUp=function(t,e,i,r,n){this._downCount--,delete this._downPointerIds[i],this._downCount<0?this._downCount=0:0==this._downCount&&(n&&(this._enterCount>0||-1===this._enterCount)&&this.onPointerClickObservable.notifyObservers(new Q(e,r),-1,t,this),this.onPointerUpObservable.notifyObservers(new Q(e,r),-1,t,this),this.pointerUpAnimation&&this.pointerUpAnimation())},t.prototype.forcePointerUp=function(t){if(void 0===t&&(t=null),null!==t)this._onPointerUp(this,s.Vector3.Zero(),t,0,!0);else{for(var e in this._downPointerIds)this._onPointerUp(this,s.Vector3.Zero(),+e,0,!0);this._downCount>0&&(this._downCount=1,this._onPointerUp(this,s.Vector3.Zero(),0,0,!0))}},t.prototype._processObservables=function(t,e,i,r){if(t===s.PointerEventTypes.POINTERMOVE){this._onPointerMove(this,e);var n=this._host._lastControlOver[i];return n&&n!==this&&n._onPointerOut(this),n!==this&&this._onPointerEnter(this),this._host._lastControlOver[i]=this,!0}return t===s.PointerEventTypes.POINTERDOWN?(this._onPointerDown(this,e,i,r),this._host._lastControlDown[i]=this,this._host._lastPickedControl=this,!0):t===s.PointerEventTypes.POINTERUP&&(this._host._lastControlDown[i]&&this._host._lastControlDown[i]._onPointerUp(this,e,i,r,!0),delete this._host._lastControlDown[i],!0)},t.prototype._disposeNode=function(){this._node&&(this._node.dispose(),this._node=null)},t.prototype.dispose=function(){this.onPointerDownObservable.clear(),this.onPointerEnterObservable.clear(),this.onPointerMoveObservable.clear(),this.onPointerOutObservable.clear(),this.onPointerUpObservable.clear(),this.onPointerClickObservable.clear(),this._disposeNode();for(var t=0,e=this._behaviors;t<e.length;t++){e[t].detach()}},t}(),tt=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype._getTypeName=function(){return\"AbstractButton3D\"},e.prototype._createNode=function(t){return new s.TransformNode(\"button\"+this.name)},e}($),et=function(t){function e(e){var i=t.call(this,e)||this;return i._contentResolution=512,i._contentScaleRatio=2,i.pointerEnterAnimation=function(){i.mesh&&(i._currentMaterial.emissiveColor=s.Color3.Red())},i.pointerOutAnimation=function(){i._currentMaterial.emissiveColor=s.Color3.Black()},i.pointerDownAnimation=function(){i.mesh&&i.mesh.scaling.scaleInPlace(.95)},i.pointerUpAnimation=function(){i.mesh&&i.mesh.scaling.scaleInPlace(1/.95)},i}return n(e,t),Object.defineProperty(e.prototype,\"contentResolution\",{get:function(){return this._contentResolution},set:function(t){this._contentResolution!==t&&(this._contentResolution=t,this._resetContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"contentScaleRatio\",{get:function(){return this._contentScaleRatio},set:function(t){this._contentScaleRatio!==t&&(this._contentScaleRatio=t,this._resetContent())},enumerable:!0,configurable:!0}),e.prototype._disposeFacadeTexture=function(){this._facadeTexture&&(this._facadeTexture.dispose(),this._facadeTexture=null)},e.prototype._resetContent=function(){this._disposeFacadeTexture(),this.content=this._content},Object.defineProperty(e.prototype,\"content\",{get:function(){return this._content},set:function(t){this._content=t,this._host&&this._host.utilityLayer&&(this._facadeTexture?this._facadeTexture.rootContainer.clearControls():(this._facadeTexture=new K(\"Facade\",this._contentResolution,this._contentResolution,this._host.utilityLayer.utilityLayerScene,!0,s.Texture.TRILINEAR_SAMPLINGMODE),this._facadeTexture.rootContainer.scaleX=this._contentScaleRatio,this._facadeTexture.rootContainer.scaleY=this._contentScaleRatio,this._facadeTexture.premulAlpha=!0),this._facadeTexture.addControl(t),this._applyFacade(this._facadeTexture))},enumerable:!0,configurable:!0}),e.prototype._applyFacade=function(t){this._currentMaterial.emissiveTexture=t},e.prototype._getTypeName=function(){return\"Button3D\"},e.prototype._createNode=function(t){for(var e=new Array(6),i=0;i<6;i++)e[i]=new s.Vector4(0,0,0,0);return e[1]=new s.Vector4(0,0,1,1),s.BoxBuilder.CreateBox(this.name+\"_rootMesh\",{width:1,height:1,depth:.08,faceUV:e},t)},e.prototype._affectMaterial=function(t){var e=new s.StandardMaterial(this.name+\"Material\",t.getScene());e.specularColor=s.Color3.Black(),t.material=e,this._currentMaterial=e,this._resetContent()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeFacadeTexture(),this._currentMaterial&&this._currentMaterial.dispose()},e}(tt),it=function(t){function e(e){var i=t.call(this,e)||this;return i._blockLayout=!1,i._children=new Array,i}return n(e,t),Object.defineProperty(e.prototype,\"children\",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"blockLayout\",{get:function(){return this._blockLayout},set:function(t){this._blockLayout!==t&&(this._blockLayout=t,this._blockLayout||this._arrangeChildren())},enumerable:!0,configurable:!0}),e.prototype.updateLayout=function(){return this._arrangeChildren(),this},e.prototype.containsControl=function(t){return-1!==this._children.indexOf(t)},e.prototype.addControl=function(t){return-1!==this._children.indexOf(t)?this:(t.parent=this,t._host=this._host,this._children.push(t),this._host.utilityLayer&&(t._prepareNode(this._host.utilityLayer.utilityLayerScene),t.node&&(t.node.parent=this.node),this.blockLayout||this._arrangeChildren()),this)},e.prototype._arrangeChildren=function(){},e.prototype._createNode=function(t){return new s.TransformNode(\"ContainerNode\",t)},e.prototype.removeControl=function(t){var e=this._children.indexOf(t);return-1!==e&&(this._children.splice(e,1),t.parent=null,t._disposeNode()),this},e.prototype._getTypeName=function(){return\"Container3D\"},e.prototype.dispose=function(){for(var e=0,i=this._children;e<i.length;e++){i[e].dispose()}this._children=[],t.prototype.dispose.call(this)},e.UNSET_ORIENTATION=0,e.FACEORIGIN_ORIENTATION=1,e.FACEORIGINREVERSED_ORIENTATION=2,e.FACEFORWARD_ORIENTATION=3,e.FACEFORWARDREVERSED_ORIENTATION=4,e}($),rt=function(t){function e(){var e=t.call(this)||this;return e._columns=10,e._rows=0,e._rowThenColum=!0,e._orientation=it.FACEORIGIN_ORIENTATION,e.margin=0,e}return n(e,t),Object.defineProperty(e.prototype,\"orientation\",{get:function(){return this._orientation},set:function(t){var e=this;this._orientation!==t&&(this._orientation=t,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"columns\",{get:function(){return this._columns},set:function(t){var e=this;this._columns!==t&&(this._columns=t,this._rowThenColum=!0,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"rows\",{get:function(){return this._rows},set:function(t){var e=this;this._rows!==t&&(this._rows=t,this._rowThenColum=!1,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),e.prototype._arrangeChildren=function(){this._cellWidth=0,this._cellHeight=0;for(var t=0,e=0,i=0,r=s.Matrix.Invert(this.node.computeWorldMatrix(!0)),n=0,o=this._children;n<o.length;n++){if((m=o[n]).mesh){i++,m.mesh.computeWorldMatrix(!0);var a=m.mesh.getHierarchyBoundingVectors(),h=s.TmpVectors.Vector3[0],l=s.TmpVectors.Vector3[1];a.max.subtractToRef(a.min,l),l.scaleInPlace(.5),s.Vector3.TransformNormalToRef(l,r,h),this._cellWidth=Math.max(this._cellWidth,2*h.x),this._cellHeight=Math.max(this._cellHeight,2*h.y)}}this._cellWidth+=2*this.margin,this._cellHeight+=2*this.margin,this._rowThenColum?(e=this._columns,t=Math.ceil(i/this._columns)):(t=this._rows,e=Math.ceil(i/this._rows));var u=.5*e*this._cellWidth,c=.5*t*this._cellHeight,_=[],d=0;if(this._rowThenColum)for(var f=0;f<t;f++)for(var p=0;p<e&&(_.push(new s.Vector3(p*this._cellWidth-u+this._cellWidth/2,f*this._cellHeight-c+this._cellHeight/2,0)),!(++d>i));p++);else for(p=0;p<e;p++)for(f=0;f<t&&(_.push(new s.Vector3(p*this._cellWidth-u+this._cellWidth/2,f*this._cellHeight-c+this._cellHeight/2,0)),!(++d>i));f++);d=0;for(var g=0,b=this._children;g<b.length;g++){var m;(m=b[g]).mesh&&(this._mapGridNode(m,_[d]),d++)}this._finalProcessing()},e.prototype._finalProcessing=function(){},e}(it),nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._radius=5,e}return n(e,t),Object.defineProperty(e.prototype,\"radius\",{get:function(){return this._radius},set:function(t){var e=this;this._radius!==t&&(this._radius=t,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),e.prototype._mapGridNode=function(t,e){var i=t.mesh;if(i){var r=this._cylindricalMapping(e);switch(t.position=r,this.orientation){case it.FACEORIGIN_ORIENTATION:i.lookAt(new s.Vector3(2*r.x,r.y,2*r.z));break;case it.FACEORIGINREVERSED_ORIENTATION:i.lookAt(new s.Vector3(-r.x,r.y,-r.z));break;case it.FACEFORWARD_ORIENTATION:break;case it.FACEFORWARDREVERSED_ORIENTATION:i.rotate(s.Axis.Y,Math.PI,s.Space.LOCAL)}}},e.prototype._cylindricalMapping=function(t){var e=new s.Vector3(0,t.y,this._radius),i=t.x/this._radius;return s.Matrix.RotationYawPitchRollToRef(i,0,0,s.TmpVectors.Matrix[0]),s.Vector3.TransformNormal(e,s.TmpVectors.Matrix[0])},e}(rt),ot=\"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\nattribute vec2 uv;\\n\\nuniform mat4 world;\\nuniform mat4 viewProjection;\\nvarying vec2 vUV;\\n#ifdef BORDER\\nvarying vec2 scaleInfo;\\nuniform float borderWidth;\\nuniform vec3 scaleFactor;\\n#endif\\n#ifdef HOVERLIGHT\\nvarying vec3 worldPosition;\\n#endif\\nvoid main(void) {\\nvUV=uv;\\n#ifdef BORDER\\nvec3 scale=scaleFactor;\\nfloat minScale=min(min(scale.x,scale.y),scale.z);\\nfloat maxScale=max(max(scale.x,scale.y),scale.z);\\nfloat minOverMiddleScale=minScale/(scale.x+scale.y+scale.z-minScale-maxScale);\\nfloat areaYZ=scale.y*scale.z;\\nfloat areaXZ=scale.x*scale.z;\\nfloat areaXY=scale.x*scale.y;\\nfloat scaledBorderWidth=borderWidth;\\nif (abs(normal.x) == 1.0)\\n{\\nscale.x=scale.y;\\nscale.y=scale.z;\\nif (areaYZ>areaXZ && areaYZ>areaXY)\\n{\\nscaledBorderWidth*=minOverMiddleScale;\\n}\\n}\\nelse if (abs(normal.y) == 1.0)\\n{\\nscale.x=scale.z;\\nif (areaXZ>areaXY && areaXZ>areaYZ)\\n{\\nscaledBorderWidth*=minOverMiddleScale;\\n}\\n}\\nelse\\n{\\nif (areaXY>areaYZ && areaXY>areaXZ)\\n{\\nscaledBorderWidth*=minOverMiddleScale;\\n}\\n}\\nfloat scaleRatio=min(scale.x,scale.y)/max(scale.x,scale.y);\\nif (scale.x>scale.y)\\n{\\nscaleInfo.x=1.0-(scaledBorderWidth*scaleRatio);\\nscaleInfo.y=1.0-scaledBorderWidth;\\n}\\nelse\\n{\\nscaleInfo.x=1.0-scaledBorderWidth;\\nscaleInfo.y=1.0-(scaledBorderWidth*scaleRatio);\\n}\\n#endif\\nvec4 worldPos=world*vec4(position,1.0);\\n#ifdef HOVERLIGHT\\nworldPosition=worldPos.xyz;\\n#endif\\ngl_Position=viewProjection*worldPos;\\n}\\n\";s.Effect.ShadersStore.fluentVertexShader=ot;var st=\"precision highp float;\\nvarying vec2 vUV;\\nuniform vec4 albedoColor;\\n#ifdef INNERGLOW\\nuniform vec4 innerGlowColor;\\n#endif\\n#ifdef BORDER\\nvarying vec2 scaleInfo;\\nuniform float edgeSmoothingValue;\\nuniform float borderMinValue;\\n#endif\\n#ifdef HOVERLIGHT\\nvarying vec3 worldPosition;\\nuniform vec3 hoverPosition;\\nuniform vec4 hoverColor;\\nuniform float hoverRadius;\\n#endif\\n#ifdef TEXTURE\\nuniform sampler2D albedoSampler;\\n#endif\\nvoid main(void) {\\nvec3 albedo=albedoColor.rgb;\\nfloat alpha=albedoColor.a;\\n#ifdef TEXTURE\\nalbedo=texture2D(albedoSampler,vUV).rgb;\\n#endif\\n#ifdef HOVERLIGHT\\nfloat pointToHover=(1.0-clamp(length(hoverPosition-worldPosition)/hoverRadius,0.,1.))*hoverColor.a;\\nalbedo=clamp(albedo+hoverColor.rgb*pointToHover,0.,1.);\\n#else\\nfloat pointToHover=1.0;\\n#endif\\n#ifdef BORDER\\nfloat borderPower=10.0;\\nfloat inverseBorderPower=1.0/borderPower;\\nvec3 borderColor=albedo*borderPower;\\nvec2 distanceToEdge;\\ndistanceToEdge.x=abs(vUV.x-0.5)*2.0;\\ndistanceToEdge.y=abs(vUV.y-0.5)*2.0;\\nfloat borderValue=max(smoothstep(scaleInfo.x-edgeSmoothingValue,scaleInfo.x+edgeSmoothingValue,distanceToEdge.x),\\nsmoothstep(scaleInfo.y-edgeSmoothingValue,scaleInfo.y+edgeSmoothingValue,distanceToEdge.y));\\nborderColor=borderColor*borderValue*max(borderMinValue*inverseBorderPower,pointToHover);\\nalbedo+=borderColor;\\nalpha=max(alpha,borderValue);\\n#endif\\n#ifdef INNERGLOW\\n\\nvec2 uvGlow=(vUV-vec2(0.5,0.5))*(innerGlowColor.a*2.0);\\nuvGlow=uvGlow*uvGlow;\\nuvGlow=uvGlow*uvGlow;\\nalbedo+=mix(vec3(0.0,0.0,0.0),innerGlowColor.rgb,uvGlow.x+uvGlow.y);\\n#endif\\ngl_FragColor=vec4(albedo,alpha);\\n}\";s.Effect.ShadersStore.fluentPixelShader=st;var at=function(t){function e(){var e=t.call(this)||this;return e.INNERGLOW=!1,e.BORDER=!1,e.HOVERLIGHT=!1,e.TEXTURE=!1,e.rebuild(),e}return n(e,t),e}(s.MaterialDefines),ht=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.innerGlowColorIntensity=.5,r.innerGlowColor=new s.Color3(1,1,1),r.alpha=1,r.albedoColor=new s.Color3(.3,.35,.4),r.renderBorders=!1,r.borderWidth=.5,r.edgeSmoothingValue=.02,r.borderMinValue=.1,r.renderHoverLight=!1,r.hoverRadius=1,r.hoverColor=new s.Color4(.3,.3,.3,1),r.hoverPosition=s.Vector3.Zero(),r}return n(e,t),e.prototype.needAlphaBlending=function(){return 1!==this.alpha},e.prototype.needAlphaTesting=function(){return!1},e.prototype.getAlphaTestTexture=function(){return null},e.prototype.isReadyForSubMesh=function(t,e,i){if(this.isFrozen&&e.effect&&e.effect._wasPreviouslyReady)return!0;e._materialDefines||(e._materialDefines=new at);var r=this.getScene(),n=e._materialDefines;if(!this.checkReadyOnEveryCall&&e.effect&&n._renderId===r.getRenderId())return!0;if(n._areTexturesDirty)if(n.INNERGLOW=this.innerGlowColorIntensity>0,n.BORDER=this.renderBorders,n.HOVERLIGHT=this.renderHoverLight,this._albedoTexture){if(!this._albedoTexture.isReadyOrNotBlocking())return!1;n.TEXTURE=!0}else n.TEXTURE=!1;var o=r.getEngine();if(n.isDirty){n.markAsProcessed(),r.resetCachedMaterial();var a=[s.VertexBuffer.PositionKind];a.push(s.VertexBuffer.NormalKind),a.push(s.VertexBuffer.UVKind);var h=[\"world\",\"viewProjection\",\"innerGlowColor\",\"albedoColor\",\"borderWidth\",\"edgeSmoothingValue\",\"scaleFactor\",\"borderMinValue\",\"hoverColor\",\"hoverPosition\",\"hoverRadius\"],l=[\"albedoSampler\"],u=new Array;s.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:h,uniformBuffersNames:u,samplers:l,defines:n,maxSimultaneousLights:4});var c=n.toString();e.setEffect(r.getEngine().createEffect(\"fluent\",{attributes:a,uniformsNames:h,uniformBuffersNames:u,samplers:l,defines:c,fallbacks:null,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},o))}return!(!e.effect||!e.effect.isReady())&&(n._renderId=r.getRenderId(),e.effect._wasPreviouslyReady=!0,!0)},e.prototype.bindForSubMesh=function(t,e,i){var r=this.getScene(),n=i._materialDefines;if(n){var o=i.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(t),this._activeEffect.setMatrix(\"viewProjection\",r.getTransformMatrix()),this._mustRebind(r,o)&&(this._activeEffect.setColor4(\"albedoColor\",this.albedoColor,this.alpha),n.INNERGLOW&&this._activeEffect.setColor4(\"innerGlowColor\",this.innerGlowColor,this.innerGlowColorIntensity),n.BORDER&&(this._activeEffect.setFloat(\"borderWidth\",this.borderWidth),this._activeEffect.setFloat(\"edgeSmoothingValue\",this.edgeSmoothingValue),this._activeEffect.setFloat(\"borderMinValue\",this.borderMinValue),e.getBoundingInfo().boundingBox.extendSize.multiplyToRef(e.scaling,s.TmpVectors.Vector3[0]),this._activeEffect.setVector3(\"scaleFactor\",s.TmpVectors.Vector3[0])),n.HOVERLIGHT&&(this._activeEffect.setDirectColor4(\"hoverColor\",this.hoverColor),this._activeEffect.setFloat(\"hoverRadius\",this.hoverRadius),this._activeEffect.setVector3(\"hoverPosition\",this.hoverPosition)),n.TEXTURE&&this._activeEffect.setTexture(\"albedoSampler\",this._albedoTexture)),this._afterBind(e,this._activeEffect))}},e.prototype.getActiveTextures=function(){return t.prototype.getActiveTextures.call(this)},e.prototype.hasTexture=function(e){return!!t.prototype.hasTexture.call(this,e)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e)},e.prototype.clone=function(t){var i=this;return s.SerializationHelper.Clone((function(){return new e(t,i.getScene())}),this)},e.prototype.serialize=function(){var t=s.SerializationHelper.Serialize(this);return t.customType=\"BABYLON.GUI.FluentMaterial\",t},e.prototype.getClassName=function(){return\"FluentMaterial\"},e.Parse=function(t,i,r){return s.SerializationHelper.Parse((function(){return new e(t.name,i)}),t,i,r)},o([Object(s.serialize)(),Object(s.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],e.prototype,\"innerGlowColorIntensity\",void 0),o([Object(s.serializeAsColor3)()],e.prototype,\"innerGlowColor\",void 0),o([Object(s.serialize)()],e.prototype,\"alpha\",void 0),o([Object(s.serializeAsColor3)()],e.prototype,\"albedoColor\",void 0),o([Object(s.serialize)(),Object(s.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],e.prototype,\"renderBorders\",void 0),o([Object(s.serialize)()],e.prototype,\"borderWidth\",void 0),o([Object(s.serialize)()],e.prototype,\"edgeSmoothingValue\",void 0),o([Object(s.serialize)()],e.prototype,\"borderMinValue\",void 0),o([Object(s.serialize)(),Object(s.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],e.prototype,\"renderHoverLight\",void 0),o([Object(s.serialize)()],e.prototype,\"hoverRadius\",void 0),o([Object(s.serializeAsColor4)()],e.prototype,\"hoverColor\",void 0),o([Object(s.serializeAsVector3)()],e.prototype,\"hoverPosition\",void 0),o([Object(s.serializeAsTexture)(\"albedoTexture\")],e.prototype,\"_albedoTexture\",void 0),o([Object(s.expandToProperty)(\"_markAllSubMeshesAsTexturesAndMiscDirty\")],e.prototype,\"albedoTexture\",void 0),e}(s.PushMaterial);s._TypeStore.RegisteredTypes[\"BABYLON.GUI.FluentMaterial\"]=ht;var lt=function(t){function e(e,i){void 0===i&&(i=!0);var r=t.call(this,e)||this;return r._shareMaterials=!0,r._shareMaterials=i,r.pointerEnterAnimation=function(){r.mesh&&r._frontPlate.setEnabled(!0)},r.pointerOutAnimation=function(){r.mesh&&r._frontPlate.setEnabled(!1)},r}return n(e,t),e.prototype._disposeTooltip=function(){this._tooltipFade=null,this._tooltipTextBlock&&this._tooltipTextBlock.dispose(),this._tooltipTexture&&this._tooltipTexture.dispose(),this._tooltipMesh&&this._tooltipMesh.dispose(),this.onPointerEnterObservable.remove(this._tooltipHoverObserver),this.onPointerOutObservable.remove(this._tooltipOutObserver)},Object.defineProperty(e.prototype,\"renderingGroupId\",{get:function(){return this._backPlate.renderingGroupId},set:function(t){this._backPlate.renderingGroupId=t,this._textPlate.renderingGroupId=t,this._frontPlate.renderingGroupId=t,this._tooltipMesh&&(this._tooltipMesh.renderingGroupId=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"tooltipText\",{get:function(){return this._tooltipTextBlock?this._tooltipTextBlock.text:null},set:function(t){var e=this;if(t){if(!this._tooltipFade){this._tooltipMesh=s.PlaneBuilder.CreatePlane(\"\",{size:1},this._backPlate._scene);var i=s.PlaneBuilder.CreatePlane(\"\",{size:1,sideOrientation:s.Mesh.DOUBLESIDE},this._backPlate._scene),r=new s.StandardMaterial(\"\",this._backPlate._scene);r.diffuseColor=s.Color3.FromHexString(\"#212121\"),i.material=r,i.isPickable=!1,this._tooltipMesh.addChild(i),i.position.z=.05,this._tooltipMesh.scaling.y=1/3,this._tooltipMesh.position.y=.7,this._tooltipMesh.position.z=-.15,this._tooltipMesh.isPickable=!1,this._tooltipMesh.parent=this._backPlate,this._tooltipTexture=K.CreateForMesh(this._tooltipMesh),this._tooltipTextBlock=new y,this._tooltipTextBlock.scaleY=3,this._tooltipTextBlock.color=\"white\",this._tooltipTextBlock.fontSize=130,this._tooltipTexture.addControl(this._tooltipTextBlock),this._tooltipFade=new s.FadeInOutBehavior,this._tooltipFade.delay=500,this._tooltipMesh.addBehavior(this._tooltipFade),this._tooltipHoverObserver=this.onPointerEnterObservable.add((function(){e._tooltipFade&&e._tooltipFade.fadeIn(!0)})),this._tooltipOutObserver=this.onPointerOutObservable.add((function(){e._tooltipFade&&e._tooltipFade.fadeIn(!1)}))}this._tooltipTextBlock&&(this._tooltipTextBlock.text=t)}else this._disposeTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"text\",{get:function(){return this._text},set:function(t){this._text!==t&&(this._text=t,this._rebuildContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"imageUrl\",{get:function(){return this._imageUrl},set:function(t){this._imageUrl!==t&&(this._imageUrl=t,this._rebuildContent())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"backMaterial\",{get:function(){return this._backMaterial},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"frontMaterial\",{get:function(){return this._frontMaterial},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"plateMaterial\",{get:function(){return this._plateMaterial},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"shareMaterials\",{get:function(){return this._shareMaterials},enumerable:!0,configurable:!0}),e.prototype._getTypeName=function(){return\"HolographicButton\"},e.prototype._rebuildContent=function(){this._disposeFacadeTexture();var t=new C;if(t.isVertical=!0,this._imageUrl){var e=new v;e.source=this._imageUrl,e.paddingTop=\"40px\",e.height=\"180px\",e.width=\"100px\",e.paddingBottom=\"40px\",t.addControl(e)}if(this._text){var i=new y;i.text=this._text,i.color=\"white\",i.height=\"30px\",i.fontSize=24,t.addControl(i)}this._frontPlate&&(this.content=t)},e.prototype._createNode=function(e){return this._backPlate=s.BoxBuilder.CreateBox(this.name+\"BackMesh\",{width:1,height:1,depth:.08},e),this._frontPlate=s.BoxBuilder.CreateBox(this.name+\"FrontMesh\",{width:1,height:1,depth:.08},e),this._frontPlate.parent=this._backPlate,this._frontPlate.position.z=-.08,this._frontPlate.isPickable=!1,this._frontPlate.setEnabled(!1),this._textPlate=t.prototype._createNode.call(this,e),this._textPlate.parent=this._backPlate,this._textPlate.position.z=-.08,this._textPlate.isPickable=!1,this._backPlate},e.prototype._applyFacade=function(t){this._plateMaterial.emissiveTexture=t,this._plateMaterial.opacityTexture=t},e.prototype._createBackMaterial=function(t){var e=this;this._backMaterial=new ht(this.name+\"Back Material\",t.getScene()),this._backMaterial.renderHoverLight=!0,this._pickedPointObserver=this._host.onPickedPointChangedObservable.add((function(t){t?(e._backMaterial.hoverPosition=t,e._backMaterial.hoverColor.a=1):e._backMaterial.hoverColor.a=0}))},e.prototype._createFrontMaterial=function(t){this._frontMaterial=new ht(this.name+\"Front Material\",t.getScene()),this._frontMaterial.innerGlowColorIntensity=0,this._frontMaterial.alpha=.5,this._frontMaterial.renderBorders=!0},e.prototype._createPlateMaterial=function(t){this._plateMaterial=new s.StandardMaterial(this.name+\"Plate Material\",t.getScene()),this._plateMaterial.specularColor=s.Color3.Black()},e.prototype._affectMaterial=function(t){this._shareMaterials?(this._host._sharedMaterials.backFluentMaterial?this._backMaterial=this._host._sharedMaterials.backFluentMaterial:(this._createBackMaterial(t),this._host._sharedMaterials.backFluentMaterial=this._backMaterial),this._host._sharedMaterials.frontFluentMaterial?this._frontMaterial=this._host._sharedMaterials.frontFluentMaterial:(this._createFrontMaterial(t),this._host._sharedMaterials.frontFluentMaterial=this._frontMaterial)):(this._createBackMaterial(t),this._createFrontMaterial(t)),this._createPlateMaterial(t),this._backPlate.material=this._backMaterial,this._frontPlate.material=this._frontMaterial,this._textPlate.material=this._plateMaterial,this._rebuildContent()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeTooltip(),this.shareMaterials||(this._backMaterial.dispose(),this._frontMaterial.dispose(),this._plateMaterial.dispose(),this._pickedPointObserver&&(this._host.onPickedPointChangedObservable.remove(this._pickedPointObserver),this._pickedPointObserver=null))},e}(et),ut=function(t){function e(e,i){var r=t.call(this,i)||this;return r._currentMesh=e,r.pointerEnterAnimation=function(){r.mesh&&r.mesh.scaling.scaleInPlace(1.1)},r.pointerOutAnimation=function(){r.mesh&&r.mesh.scaling.scaleInPlace(1/1.1)},r.pointerDownAnimation=function(){r.mesh&&r.mesh.scaling.scaleInPlace(.95)},r.pointerUpAnimation=function(){r.mesh&&r.mesh.scaling.scaleInPlace(1/.95)},r}return n(e,t),e.prototype._getTypeName=function(){return\"MeshButton3D\"},e.prototype._createNode=function(t){var e=this;return this._currentMesh.getChildMeshes().forEach((function(t){t.metadata=e})),this._currentMesh},e.prototype._affectMaterial=function(t){},e}(et),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._mapGridNode=function(t,e){var i=t.mesh;if(i){t.position=e.clone();var r=s.TmpVectors.Vector3[0];switch(r.copyFrom(e),this.orientation){case it.FACEORIGIN_ORIENTATION:case it.FACEFORWARD_ORIENTATION:r.addInPlace(new s.Vector3(0,0,1)),i.lookAt(r);break;case it.FACEFORWARDREVERSED_ORIENTATION:case it.FACEORIGINREVERSED_ORIENTATION:r.addInPlace(new s.Vector3(0,0,-1)),i.lookAt(r)}}},e}(rt),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._iteration=100,e}return n(e,t),Object.defineProperty(e.prototype,\"iteration\",{get:function(){return this._iteration},set:function(t){var e=this;this._iteration!==t&&(this._iteration=t,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),e.prototype._mapGridNode=function(t,e){var i=t.mesh,r=this._scatterMapping(e);if(i){switch(this.orientation){case it.FACEORIGIN_ORIENTATION:case it.FACEFORWARD_ORIENTATION:i.lookAt(new s.Vector3(0,0,1));break;case it.FACEFORWARDREVERSED_ORIENTATION:case it.FACEORIGINREVERSED_ORIENTATION:i.lookAt(new s.Vector3(0,0,-1))}t.position=r}},e.prototype._scatterMapping=function(t){return t.x=(1-2*Math.random())*this._cellWidth,t.y=(1-2*Math.random())*this._cellHeight,t},e.prototype._finalProcessing=function(){for(var t=[],e=0,i=this._children;e<i.length;e++){var r=i[e];r.mesh&&t.push(r.mesh)}for(var n=0;n<this._iteration;n++){t.sort((function(t,e){var i=t.position.lengthSquared(),r=e.position.lengthSquared();return i<r?1:i>r?-1:0}));for(var o=Math.pow(this.margin,2),a=Math.max(this._cellWidth,this._cellHeight),h=s.TmpVectors.Vector2[0],l=s.TmpVectors.Vector3[0],u=0;u<t.length-1;u++)for(var c=u+1;c<t.length;c++)if(u!=c){t[c].position.subtractToRef(t[u].position,l),h.x=l.x,h.y=l.y;var _=a,d=h.lengthSquared()-o;(d-=Math.min(d,o))<Math.pow(_,2)&&(h.normalize(),l.scaleInPlace(.5*(_-Math.sqrt(d))),t[c].position.addInPlace(l),t[u].position.subtractInPlace(l))}}},e}(rt),dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._radius=5,e}return n(e,t),Object.defineProperty(e.prototype,\"radius\",{get:function(){return this._radius},set:function(t){var e=this;this._radius!==t&&(this._radius=t,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),e.prototype._mapGridNode=function(t,e){var i=t.mesh;if(i){var r=this._sphericalMapping(e);switch(t.position=r,this.orientation){case it.FACEORIGIN_ORIENTATION:i.lookAt(new s.Vector3(2*r.x,2*r.y,2*r.z));break;case it.FACEORIGINREVERSED_ORIENTATION:i.lookAt(new s.Vector3(-r.x,-r.y,-r.z));break;case it.FACEFORWARD_ORIENTATION:break;case it.FACEFORWARDREVERSED_ORIENTATION:i.rotate(s.Axis.Y,Math.PI,s.Space.LOCAL)}}},e.prototype._sphericalMapping=function(t){var e=new s.Vector3(0,0,this._radius),i=t.y/this._radius,r=-t.x/this._radius;return s.Matrix.RotationYawPitchRollToRef(r,i,0,s.TmpVectors.Matrix[0]),s.Vector3.TransformNormal(e,s.TmpVectors.Matrix[0])},e}(rt),ft=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._isVertical=!1,i.margin=.1,i._isVertical=e,i}return n(e,t),Object.defineProperty(e.prototype,\"isVertical\",{get:function(){return this._isVertical},set:function(t){var e=this;this._isVertical!==t&&(this._isVertical=t,s.Tools.SetImmediate((function(){e._arrangeChildren()})))},enumerable:!0,configurable:!0}),e.prototype._arrangeChildren=function(){for(var t,e=0,i=0,r=0,n=[],o=s.Matrix.Invert(this.node.computeWorldMatrix(!0)),a=0,h=this._children;a<h.length;a++){if((f=h[a]).mesh){r++,f.mesh.computeWorldMatrix(!0),f.mesh.getWorldMatrix().multiplyToRef(o,s.TmpVectors.Matrix[0]);var l=f.mesh.getBoundingInfo().boundingBox,u=s.Vector3.TransformNormal(l.extendSize,s.TmpVectors.Matrix[0]);n.push(u),this._isVertical?i+=u.y:e+=u.x}}this._isVertical?i+=(r-1)*this.margin/2:e+=(r-1)*this.margin/2,t=this._isVertical?-i:-e;for(var c=0,_=0,d=this._children;_<d.length;_++){var f;if((f=d[_]).mesh){r--;u=n[c++];this._isVertical?(f.position.y=t+u.y,f.position.x=0,t+=2*u.y):(f.position.x=t+u.x,f.position.y=0,t+=2*u.x),t+=r>0?this.margin:0}}},e}(it),pt=function(){function t(t){var e=this;this._lastControlOver={},this._lastControlDown={},this.onPickedPointChangedObservable=new s.Observable,this._sharedMaterials={},this._scene=t||s.EngineStore.LastCreatedScene,this._sceneDisposeObserver=this._scene.onDisposeObservable.add((function(){e._sceneDisposeObserver=null,e._utilityLayer=null,e.dispose()})),this._utilityLayer=new s.UtilityLayerRenderer(this._scene),this._utilityLayer.onlyCheckPointerDownEvents=!1,this._utilityLayer.pickUtilitySceneFirst=!1,this._utilityLayer.mainSceneTrackerPredicate=function(t){return t&&t.metadata&&t.metadata._node},this._rootContainer=new it(\"RootContainer\"),this._rootContainer._host=this;var i=this._utilityLayer.utilityLayerScene;this._pointerOutObserver=this._utilityLayer.onPointerOutObservable.add((function(t){e._handlePointerOut(t,!0)})),this._pointerObserver=i.onPointerObservable.add((function(t,i){e._doPicking(t)})),this._utilityLayer.utilityLayerScene.autoClear=!1,this._utilityLayer.utilityLayerScene.autoClearDepthAndStencil=!1,new s.HemisphericLight(\"hemi\",s.Vector3.Up(),this._utilityLayer.utilityLayerScene)}return Object.defineProperty(t.prototype,\"scene\",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"utilityLayer\",{get:function(){return this._utilityLayer},enumerable:!0,configurable:!0}),t.prototype._handlePointerOut=function(t,e){var i=this._lastControlOver[t];i&&(i._onPointerOut(i),delete this._lastControlOver[t]),e&&this._lastControlDown[t]&&(this._lastControlDown[t].forcePointerUp(),delete this._lastControlDown[t]),this.onPickedPointChangedObservable.notifyObservers(null)},t.prototype._doPicking=function(t){if(!this._utilityLayer||!this._utilityLayer.shouldRender||!this._utilityLayer.utilityLayerScene.activeCamera)return!1;var e=t.event,i=e.pointerId||0,r=e.button,n=t.pickInfo;if(!n||!n.hit)return this._handlePointerOut(i,t.type===s.PointerEventTypes.POINTERUP),!1;var o=n.pickedMesh.metadata;return n.pickedPoint&&this.onPickedPointChangedObservable.notifyObservers(n.pickedPoint),o._processObservables(t.type,n.pickedPoint,i,r)||t.type===s.PointerEventTypes.POINTERMOVE&&(this._lastControlOver[i]&&this._lastControlOver[i]._onPointerOut(this._lastControlOver[i]),delete this._lastControlOver[i]),t.type===s.PointerEventTypes.POINTERUP&&(this._lastControlDown[e.pointerId]&&(this._lastControlDown[e.pointerId].forcePointerUp(),delete this._lastControlDown[e.pointerId]),\"touch\"===e.pointerType&&this._handlePointerOut(i,!1)),!0},Object.defineProperty(t.prototype,\"rootContainer\",{get:function(){return this._rootContainer},enumerable:!0,configurable:!0}),t.prototype.containsControl=function(t){return this._rootContainer.containsControl(t)},t.prototype.addControl=function(t){return this._rootContainer.addControl(t),this},t.prototype.removeControl=function(t){return this._rootContainer.removeControl(t),this},t.prototype.dispose=function(){for(var t in this._rootContainer.dispose(),this._sharedMaterials)this._sharedMaterials.hasOwnProperty(t)&&this._sharedMaterials[t].dispose();this._sharedMaterials={},this._pointerOutObserver&&this._utilityLayer&&(this._utilityLayer.onPointerOutObservable.remove(this._pointerOutObserver),this._pointerOutObserver=null),this.onPickedPointChangedObservable.clear();var e=this._utilityLayer?this._utilityLayer.utilityLayerScene:null;e&&this._pointerObserver&&(e.onPointerObservable.remove(this._pointerObserver),this._pointerObserver=null),this._scene&&this._sceneDisposeObserver&&(this._scene.onDisposeObservable.remove(this._sceneDisposeObserver),this._sceneDisposeObserver=null),this._utilityLayer&&this._utilityLayer.dispose()},t}();i.d(e,\"AdvancedDynamicTexture\",(function(){return K})),i.d(e,\"AdvancedDynamicTextureInstrumentation\",(function(){return Z})),i.d(e,\"Vector2WithInfo\",(function(){return d})),i.d(e,\"Matrix2D\",(function(){return f})),i.d(e,\"Measure\",(function(){return _})),i.d(e,\"MultiLinePoint\",(function(){return A})),i.d(e,\"Style\",(function(){return q})),i.d(e,\"ValueAndUnit\",(function(){return a})),i.d(e,\"XmlLoader\",(function(){return J})),i.d(e,\"Button\",(function(){return O})),i.d(e,\"Checkbox\",(function(){return w})),i.d(e,\"ColorPicker\",(function(){return M})),i.d(e,\"Container\",(function(){return g})),i.d(e,\"Control\",(function(){return p})),i.d(e,\"Ellipse\",(function(){return P})),i.d(e,\"Grid\",(function(){return x})),i.d(e,\"Image\",(function(){return v})),i.d(e,\"InputText\",(function(){return T})),i.d(e,\"InputPassword\",(function(){return k})),i.d(e,\"Line\",(function(){return I})),i.d(e,\"MultiLine\",(function(){return S})),i.d(e,\"RadioButton\",(function(){return E})),i.d(e,\"StackPanel\",(function(){return C})),i.d(e,\"SelectorGroup\",(function(){return R})),i.d(e,\"CheckboxGroup\",(function(){return B})),i.d(e,\"RadioGroup\",(function(){return N})),i.d(e,\"SliderGroup\",(function(){return V})),i.d(e,\"SelectionPanel\",(function(){return H})),i.d(e,\"ScrollViewer\",(function(){return z})),i.d(e,\"TextWrapping\",(function(){return b})),i.d(e,\"TextBlock\",(function(){return y})),i.d(e,\"KeyPropertySet\",(function(){return G})),i.d(e,\"VirtualKeyboard\",(function(){return X})),i.d(e,\"Rectangle\",(function(){return m})),i.d(e,\"DisplayGrid\",(function(){return Y})),i.d(e,\"BaseSlider\",(function(){return L})),i.d(e,\"Slider\",(function(){return D})),i.d(e,\"ImageBasedSlider\",(function(){return U})),i.d(e,\"ScrollBar\",(function(){return j})),i.d(e,\"ImageScrollBar\",(function(){return W})),i.d(e,\"name\",(function(){return\"Statics\"})),i.d(e,\"GUI3DManager\",(function(){return pt})),i.d(e,\"Vector3WithInfo\",(function(){return Q})),i.d(e,\"AbstractButton3D\",(function(){return tt})),i.d(e,\"Button3D\",(function(){return et})),i.d(e,\"Container3D\",(function(){return it})),i.d(e,\"Control3D\",(function(){return $})),i.d(e,\"CylinderPanel\",(function(){return nt})),i.d(e,\"HolographicButton\",(function(){return lt})),i.d(e,\"MeshButton3D\",(function(){return ut})),i.d(e,\"PlanePanel\",(function(){return ct})),i.d(e,\"ScatterPanel\",(function(){return _t})),i.d(e,\"SpherePanel\",(function(){return dt})),i.d(e,\"StackPanel3D\",(function(){return ft})),i.d(e,\"VolumeBasedPanel\",(function(){return rt})),i.d(e,\"FluentMaterialDefines\",(function(){return at})),i.d(e,\"FluentMaterial\",(function(){return ht}))},function(t,e,i){\"use strict\";i.r(e),function(t){var r=i(1);i.d(e,\"AdvancedDynamicTexture\",(function(){return r.AdvancedDynamicTexture})),i.d(e,\"AdvancedDynamicTextureInstrumentation\",(function(){return r.AdvancedDynamicTextureInstrumentation})),i.d(e,\"Vector2WithInfo\",(function(){return r.Vector2WithInfo})),i.d(e,\"Matrix2D\",(function(){return r.Matrix2D})),i.d(e,\"Measure\",(function(){return r.Measure})),i.d(e,\"MultiLinePoint\",(function(){return r.MultiLinePoint})),i.d(e,\"Style\",(function(){return r.Style})),i.d(e,\"ValueAndUnit\",(function(){return r.ValueAndUnit})),i.d(e,\"XmlLoader\",(function(){return r.XmlLoader})),i.d(e,\"GUI3DManager\",(function(){return r.GUI3DManager})),i.d(e,\"Vector3WithInfo\",(function(){return r.Vector3WithInfo})),i.d(e,\"Button\",(function(){return r.Button})),i.d(e,\"Checkbox\",(function(){return r.Checkbox})),i.d(e,\"ColorPicker\",(function(){return r.ColorPicker})),i.d(e,\"Container\",(function(){return r.Container})),i.d(e,\"Control\",(function(){return r.Control})),i.d(e,\"Ellipse\",(function(){return r.Ellipse})),i.d(e,\"Grid\",(function(){return r.Grid})),i.d(e,\"Image\",(function(){return r.Image})),i.d(e,\"InputText\",(function(){return r.InputText})),i.d(e,\"InputPassword\",(function(){return r.InputPassword})),i.d(e,\"Line\",(function(){return r.Line})),i.d(e,\"MultiLine\",(function(){return r.MultiLine})),i.d(e,\"RadioButton\",(function(){return r.RadioButton})),i.d(e,\"StackPanel\",(function(){return r.StackPanel})),i.d(e,\"SelectorGroup\",(function(){return r.SelectorGroup})),i.d(e,\"CheckboxGroup\",(function(){return r.CheckboxGroup})),i.d(e,\"RadioGroup\",(function(){return r.RadioGroup})),i.d(e,\"SliderGroup\",(function(){return r.SliderGroup})),i.d(e,\"SelectionPanel\",(function(){return r.SelectionPanel})),i.d(e,\"ScrollViewer\",(function(){return r.ScrollViewer})),i.d(e,\"TextWrapping\",(function(){return r.TextWrapping})),i.d(e,\"TextBlock\",(function(){return r.TextBlock})),i.d(e,\"KeyPropertySet\",(function(){return r.KeyPropertySet})),i.d(e,\"VirtualKeyboard\",(function(){return r.VirtualKeyboard})),i.d(e,\"Rectangle\",(function(){return r.Rectangle})),i.d(e,\"DisplayGrid\",(function(){return r.DisplayGrid})),i.d(e,\"BaseSlider\",(function(){return r.BaseSlider})),i.d(e,\"Slider\",(function(){return r.Slider})),i.d(e,\"ImageBasedSlider\",(function(){return r.ImageBasedSlider})),i.d(e,\"ScrollBar\",(function(){return r.ScrollBar})),i.d(e,\"ImageScrollBar\",(function(){return r.ImageScrollBar})),i.d(e,\"name\",(function(){return r.name})),i.d(e,\"AbstractButton3D\",(function(){return r.AbstractButton3D})),i.d(e,\"Button3D\",(function(){return r.Button3D})),i.d(e,\"Container3D\",(function(){return r.Container3D})),i.d(e,\"Control3D\",(function(){return r.Control3D})),i.d(e,\"CylinderPanel\",(function(){return r.CylinderPanel})),i.d(e,\"HolographicButton\",(function(){return r.HolographicButton})),i.d(e,\"MeshButton3D\",(function(){return r.MeshButton3D})),i.d(e,\"PlanePanel\",(function(){return r.PlanePanel})),i.d(e,\"ScatterPanel\",(function(){return r.ScatterPanel})),i.d(e,\"SpherePanel\",(function(){return r.SpherePanel})),i.d(e,\"StackPanel3D\",(function(){return r.StackPanel3D})),i.d(e,\"VolumeBasedPanel\",(function(){return r.VolumeBasedPanel})),i.d(e,\"FluentMaterialDefines\",(function(){return r.FluentMaterialDefines})),i.d(e,\"FluentMaterial\",(function(){return r.FluentMaterial}));var n=void 0!==t?t:\"undefined\"!=typeof window?window:void 0;void 0!==n&&(n.BABYLON=n.BABYLON||{},n.BABYLON.GUI=r)}.call(this,i(3))},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i}])}));","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"babylonjs\")):\"function\"==typeof define&&define.amd?define(\"babylonjs-materials\",[\"babylonjs\"],t):\"object\"==typeof exports?exports[\"babylonjs-materials\"]=t(require(\"babylonjs\")):e.MATERIALS=t(e.BABYLON)}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof global?global:this,function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=19)}([function(t,i){t.exports=e},function(e,t,i){\"use strict\";i.d(t,\"b\",function(){return r}),i.d(t,\"a\",function(){return o});\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}},function(e,t){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(i=window)}e.exports=i},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"#ifdef LOGARITHMICDEPTH\\n#extension GL_EXT_frag_depth : enable\\n#endif\\nprecision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n#include<imageProcessingDeclaration>\\n#include<imageProcessingFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\nvarying vec2 vNormalUV2;\\nuniform sampler2D normalSampler;\\nuniform vec2 vNormalInfos;\\n#endif\\nuniform sampler2D refractionSampler;\\nuniform sampler2D reflectionSampler;\\n\\nconst float LOG2=1.442695;\\nuniform vec3 cameraPosition;\\nuniform vec4 waterColor;\\nuniform float colorBlendFactor;\\nuniform vec4 waterColor2;\\nuniform float colorBlendFactor2;\\nuniform float bumpHeight;\\nuniform float time;\\n\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvarying vec3 vPosition;\\n#include<clipPlaneFragmentDeclaration>\\n#include<logDepthDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef BUMP\\n#ifdef BUMPSUPERIMPOSE\\nbaseColor=0.6*texture2D(normalSampler,vNormalUV)+0.4*texture2D(normalSampler,vec2(vNormalUV2.x,vNormalUV2.y));\\n#else\\nbaseColor=texture2D(normalSampler,vNormalUV);\\n#endif\\nvec3 bumpColor=baseColor.rgb;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\nbaseColor.rgb*=vNormalInfos.y;\\n#else\\nvec3 bumpColor=vec3(1.0);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec2 perturbation=bumpHeight*(baseColor.rg-0.5);\\n#ifdef BUMPAFFECTSREFLECTION\\nvec3 normalW=normalize(vNormalW+vec3(perturbation.x*8.0,0.0,perturbation.y*8.0));\\nif (normalW.y<0.0) {\\nnormalW.y=-normalW.y;\\n}\\n#else\\nvec3 normalW=normalize(vNormalW);\\n#endif\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\nvec2 perturbation=bumpHeight*(vec2(1.0,1.0)-0.5);\\n#endif\\n#ifdef FRESNELSEPARATE\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation*0.5,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vec2(\\nvReflectionMapTexCoord.x/vReflectionMapTexCoord.z+perturbation.x*0.3,\\nvReflectionMapTexCoord.y/vReflectionMapTexCoord.z+perturbation.y\\n),0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=clamp(abs(pow(dot(viewDirectionW,upVector),3.0)),0.05,0.65);\\nfloat IfresnelTerm=1.0-fresnelTerm;\\nrefractiveColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*refractiveColor;\\nreflectiveColor=IfresnelTerm*colorBlendFactor2*waterColor+(1.0-colorBlendFactor2*IfresnelTerm)*reflectiveColor;\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*IfresnelTerm;\\nbaseColor=combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#else\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vReflectionMapTexCoord.xy/vReflectionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=max(dot(viewDirectionW,upVector),0.0);\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*(1.0-fresnelTerm);\\nbaseColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#endif\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<logDepthFragment>\\n#include<fogFragment>\\n\\n\\n#ifdef IMAGEPROCESSINGPOSTPROCESS\\ncolor.rgb=toLinearSpace(color.rgb);\\n#elif defined(IMAGEPROCESSING)\\ncolor.rgb=toLinearSpace(color.rgb);\\ncolor=applyImageProcessing(color);\\n#endif\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.waterPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\n#ifdef BUMPSUPERIMPOSE\\nvarying vec2 vNormalUV2;\\n#endif\\nuniform mat4 normalMatrix;\\nuniform vec2 vNormalInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<logDepthDeclaration>\\n\\nuniform mat4 worldReflectionViewProjection;\\nuniform vec2 windDirection;\\nuniform float waveLength;\\nuniform float time;\\nuniform float windForce;\\nuniform float waveHeight;\\nuniform float waveSpeed;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef BUMP\\nif (vNormalInfos.x == 0.)\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv*1.0)/waveLength+time*windForce*windDirection,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv*0.721)/waveLength+time*1.2*windForce*windDirection,1.0,0.0));\\n#endif\\n}\\nelse\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv2*1.0)/waveLength+time*windForce*windDirection ,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv2*0.721)/waveLength+time*1.2*windForce*windDirection ,1.0,0.0));\\n#endif\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\nvec3 p=position;\\nfloat newY=(sin(((p.x/0.05)+time*waveSpeed))*waveHeight*windDirection.x*5.0)\\n+(cos(((p.z/0.05)+time*waveSpeed))*waveHeight*windDirection.y*5.0);\\np.y+=abs(newY);\\ngl_Position=viewProjection*finalWorld*vec4(p,1.0);\\n#ifdef REFLECTION\\nworldPos=viewProjection*finalWorld*vec4(p,1.0);\\n\\nvPosition=position;\\nvRefractionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvRefractionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvRefractionMapTexCoord.z=worldPos.w;\\nworldPos=worldReflectionViewProjection*vec4(position,1.0);\\nvReflectionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvReflectionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvReflectionMapTexCoord.z=worldPos.w;\\n#endif\\n#include<logDepthVertex>\\n}\\n\";r.Effect.ShadersStore.waterVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.BUMP=!1,t.REFLECTION=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.SPECULARTERM=!1,t.LOGARITHMICDEPTH=!1,t.FRESNELSEPARATE=!1,t.BUMPSUPERIMPOSE=!1,t.BUMPAFFECTSREFLECTION=!1,t.IMAGEPROCESSING=!1,t.VIGNETTE=!1,t.VIGNETTEBLENDMODEMULTIPLY=!1,t.VIGNETTEBLENDMODEOPAQUE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.EXPOSURE=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=!1,t.SAMPLER3DBGRMAP=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i,n){void 0===n&&(n=new r.Vector2(512,512));var o=e.call(this,t,i)||this;return o.renderTargetSize=n,o.diffuseColor=new r.Color3(1,1,1),o.specularColor=new r.Color3(0,0,0),o.specularPower=64,o._disableLighting=!1,o._maxSimultaneousLights=4,o.windForce=6,o.windDirection=new r.Vector2(0,1),o.waveHeight=.4,o.bumpHeight=.4,o._bumpSuperimpose=!1,o._fresnelSeparate=!1,o._bumpAffectsReflection=!1,o.waterColor=new r.Color3(.1,.1,.6),o.colorBlendFactor=.2,o.waterColor2=new r.Color3(.1,.1,.6),o.colorBlendFactor2=.2,o.waveLength=.1,o.waveSpeed=1,o.disableClipPlane=!1,o._renderTargets=new r.SmartArray(16),o._mesh=null,o._reflectionTransform=r.Matrix.Zero(),o._lastTime=0,o._lastDeltaTime=0,o._createRenderTargets(i,n),o.getRenderTargetTextures=function(){return o._renderTargets.reset(),o._renderTargets.push(o._reflectionRTT),o._renderTargets.push(o._refractionRTT),o._renderTargets},o._imageProcessingConfiguration=o.getScene().imageProcessingConfiguration,o._imageProcessingConfiguration&&(o._imageProcessingObserver=o._imageProcessingConfiguration.onUpdateParameters.add(function(){o._markAllSubMeshesAsImageProcessingDirty()})),o}return Object(n.b)(t,e),Object.defineProperty(t.prototype,\"hasRenderTargetTextures\",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"useLogarithmicDepth\",{get:function(){return this._useLogarithmicDepth},set:function(e){this._useLogarithmicDepth=e&&this.getScene().getEngine().getCaps().fragmentDepthSupported,this._markAllSubMeshesAsMiscDirty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"refractionTexture\",{get:function(){return this._refractionRTT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"reflectionTexture\",{get:function(){return this._reflectionRTT},enumerable:!0,configurable:!0}),t.prototype.addToRenderList=function(e){this._refractionRTT&&this._refractionRTT.renderList&&this._refractionRTT.renderList.push(e),this._reflectionRTT&&this._reflectionRTT.renderList&&this._reflectionRTT.renderList.push(e)},t.prototype.enableRenderTargets=function(e){var t=e?1:0;this._refractionRTT&&(this._refractionRTT.refreshRate=t),this._reflectionRTT&&(this._reflectionRTT.refreshRate=t)},t.prototype.getRenderList=function(){return this._refractionRTT?this._refractionRTT.renderList:[]},Object.defineProperty(t.prototype,\"renderTargetsEnabled\",{get:function(){return!(this._refractionRTT&&0===this._refractionRTT.refreshRate)},enumerable:!0,configurable:!0}),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled)){if(this.bumpTexture&&r.MaterialFlags.BumpTextureEnabled){if(!this.bumpTexture.isReady())return!1;n._needUVs=!0,n.BUMP=!0}r.MaterialFlags.ReflectionTextureEnabled&&(n.REFLECTION=!0)}if(r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,o,this._useLogarithmicDepth,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._areMiscDirty&&(this._fresnelSeparate&&(n.FRESNELSEPARATE=!0),this._bumpSuperimpose&&(n.BUMPSUPERIMPOSE=!0),this._bumpAffectsReflection&&(n.BUMPAFFECTSREFLECTION=!0)),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!0,this._maxSimultaneousLights,this._disableLighting),n._areImageProcessingDirty&&this._imageProcessingConfiguration){if(!this._imageProcessingConfiguration.isReady())return!1;this._imageProcessingConfiguration.prepareDefines(n),n.IS_REFLECTION_LINEAR=null!=this.reflectionTexture&&!this.reflectionTexture.gammaSpace,n.IS_REFRACTION_LINEAR=null!=this.refractionTexture&&!this.refractionTexture.gammaSpace}if(r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),this._mesh=e,this._waitingRenderList){for(var f=0;f<this._waitingRenderList.length;f++)this.addToRenderList(o.getNodeByID(this._waitingRenderList[f]));this._waitingRenderList=null}if(n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var l=new r.EffectFallbacks;n.FOG&&l.addFallback(1,\"FOG\"),n.LOGARITHMICDEPTH&&l.addFallback(0,\"LOGARITHMICDEPTH\"),r.MaterialHelper.HandleFallbacksForShadows(n,l,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&l.addCPUSkinningFallback(0,e);var u=[r.VertexBuffer.PositionKind];n.NORMAL&&u.push(r.VertexBuffer.NormalKind),n.UV1&&u.push(r.VertexBuffer.UVKind),n.UV2&&u.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&u.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(u,e,n,l),r.MaterialHelper.PrepareAttributesForInstances(u,n);var c=n.toString(),d=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vNormalInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"normalMatrix\",\"logarithmicDepthConstant\",\"worldReflectionViewProjection\",\"windDirection\",\"waveLength\",\"time\",\"windForce\",\"cameraPosition\",\"bumpHeight\",\"waveHeight\",\"waterColor\",\"waterColor2\",\"colorBlendFactor\",\"colorBlendFactor2\",\"waveSpeed\"],p=[\"normalSampler\",\"refractionSampler\",\"reflectionSampler\"],h=new Array;r.ImageProcessingConfiguration&&(r.ImageProcessingConfiguration.PrepareUniforms(d,n),r.ImageProcessingConfiguration.PrepareSamplers(p,n)),r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:d,uniformBuffersNames:h,samplers:p,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"water\",{attributes:u,uniformsNames:d,uniformBuffersNames:h,samplers:p,defines:c,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;if(a&&this._mesh){this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.bumpTexture&&r.MaterialFlags.BumpTextureEnabled&&(this._activeEffect.setTexture(\"normalSampler\",this.bumpTexture),this._activeEffect.setFloat2(\"vNormalInfos\",this.bumpTexture.coordinatesIndex,this.bumpTexture.level),this._activeEffect.setMatrix(\"normalMatrix\",this.bumpTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),r.MaterialHelper.BindLogDepth(o,this._activeEffect,n),r.MaterialFlags.ReflectionTextureEnabled&&(this._activeEffect.setTexture(\"refractionSampler\",this._refractionRTT),this._activeEffect.setTexture(\"reflectionSampler\",this._reflectionRTT));var s=this._mesh.getWorldMatrix().multiply(this._reflectionTransform).multiply(n.getProjectionMatrix()),f=n.getEngine().getDeltaTime();f!==this._lastDeltaTime&&(this._lastDeltaTime=f,this._lastTime+=this._lastDeltaTime),this._activeEffect.setMatrix(\"worldReflectionViewProjection\",s),this._activeEffect.setVector2(\"windDirection\",this.windDirection),this._activeEffect.setFloat(\"waveLength\",this.waveLength),this._activeEffect.setFloat(\"time\",this._lastTime/1e5),this._activeEffect.setFloat(\"windForce\",this.windForce),this._activeEffect.setFloat(\"waveHeight\",this.waveHeight),this._activeEffect.setFloat(\"bumpHeight\",this.bumpHeight),this._activeEffect.setColor4(\"waterColor\",this.waterColor,1),this._activeEffect.setFloat(\"colorBlendFactor\",this.colorBlendFactor),this._activeEffect.setColor4(\"waterColor2\",this.waterColor2,1),this._activeEffect.setFloat(\"colorBlendFactor2\",this.colorBlendFactor2),this._activeEffect.setFloat(\"waveSpeed\",this.waveSpeed),this._imageProcessingConfiguration&&!this._imageProcessingConfiguration.applyByPostProcess&&this._imageProcessingConfiguration.bind(this._activeEffect),this._afterBind(t,this._activeEffect)}}},t.prototype._createRenderTargets=function(e,t){var i,n=this;this._refractionRTT=new r.RenderTargetTexture(name+\"_refraction\",{width:t.x,height:t.y},e,!1,!0),this._refractionRTT.wrapU=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._refractionRTT.wrapV=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._refractionRTT.ignoreCameraViewport=!0,this._reflectionRTT=new r.RenderTargetTexture(name+\"_reflection\",{width:t.x,height:t.y},e,!1,!0),this._reflectionRTT.wrapU=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._reflectionRTT.wrapV=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._reflectionRTT.ignoreCameraViewport=!0;var o,a=null,s=r.Matrix.Zero();this._refractionRTT.onBeforeRender=function(){if(n._mesh&&(i=n._mesh.isVisible,n._mesh.isVisible=!1),!n.disableClipPlane){a=e.clipPlane;var t=n._mesh?n._mesh.position.y:0;e.clipPlane=r.Plane.FromPositionAndNormal(new r.Vector3(0,t+.05,0),new r.Vector3(0,1,0))}},this._refractionRTT.onAfterRender=function(){n._mesh&&(n._mesh.isVisible=i),n.disableClipPlane||(e.clipPlane=a)},this._reflectionRTT.onBeforeRender=function(){if(n._mesh&&(i=n._mesh.isVisible,n._mesh.isVisible=!1),!n.disableClipPlane){a=e.clipPlane;var t=n._mesh?n._mesh.position.y:0;e.clipPlane=r.Plane.FromPositionAndNormal(new r.Vector3(0,t-.05,0),new r.Vector3(0,-1,0)),r.Matrix.ReflectionToRef(e.clipPlane,s)}o=e.getViewMatrix(),s.multiplyToRef(o,n._reflectionTransform),e.setTransformMatrix(n._reflectionTransform,e.getProjectionMatrix()),e.getEngine().cullBackFaces=!1,e._mirroredCameraPosition=r.Vector3.TransformCoordinates(e.activeCamera.position,s)},this._reflectionRTT.onAfterRender=function(){n._mesh&&(n._mesh.isVisible=i),e.clipPlane=a,e.setTransformMatrix(o,e.getProjectionMatrix()),e.getEngine().cullBackFaces=!0,e._mirroredCameraPosition=null}},t.prototype.getAnimatables=function(){var e=[];return this.bumpTexture&&this.bumpTexture.animations&&this.bumpTexture.animations.length>0&&e.push(this.bumpTexture),this._reflectionRTT&&this._reflectionRTT.animations&&this._reflectionRTT.animations.length>0&&e.push(this._reflectionRTT),this._refractionRTT&&this._refractionRTT.animations&&this._refractionRTT.animations.length>0&&e.push(this._refractionRTT),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._bumpTexture&&t.push(this._bumpTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this._bumpTexture===t},t.prototype.dispose=function(t){this.bumpTexture&&this.bumpTexture.dispose();var i=this.getScene().customRenderTargets.indexOf(this._refractionRTT);-1!=i&&this.getScene().customRenderTargets.splice(i,1),i=-1,-1!=(i=this.getScene().customRenderTargets.indexOf(this._reflectionRTT))&&this.getScene().customRenderTargets.splice(i,1),this._reflectionRTT&&this._reflectionRTT.dispose(),this._refractionRTT&&this._refractionRTT.dispose(),this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);if(e.customType=\"BABYLON.WaterMaterial\",e.renderList=[],this._refractionRTT&&this._refractionRTT.renderList)for(var t=0;t<this._refractionRTT.renderList.length;t++)e.renderList.push(this._refractionRTT.renderList[t].id);return e},t.prototype.getClassName=function(){return\"WaterMaterial\"},t.Parse=function(e,i,n){var o=r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n);return o._waitingRenderList=e.renderList,o},t.CreateDefaultMesh=function(e,t){return r.Mesh.CreateGround(e,512,512,32,t,!1)},Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture\")],t.prototype,\"_bumpTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"windForce\",void 0),Object(n.a)([Object(r.serializeAsVector2)()],t.prototype,\"windDirection\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveHeight\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"bumpHeight\",void 0),Object(n.a)([Object(r.serialize)(\"bumpSuperimpose\")],t.prototype,\"_bumpSuperimpose\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"bumpSuperimpose\",void 0),Object(n.a)([Object(r.serialize)(\"fresnelSeparate\")],t.prototype,\"_fresnelSeparate\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"fresnelSeparate\",void 0),Object(n.a)([Object(r.serialize)(\"bumpAffectsReflection\")],t.prototype,\"_bumpAffectsReflection\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"bumpAffectsReflection\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"waterColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"colorBlendFactor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"waterColor2\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"colorBlendFactor2\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveLength\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"disableClipPlane\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"useLogarithmicDepth\",null),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.WaterMaterial\"]=f,i.d(t,\"WaterMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\nuniform vec3 cameraPosition;\\nuniform vec3 cameraOffset;\\nuniform float luminance;\\nuniform float turbidity;\\nuniform float rayleigh;\\nuniform float mieCoefficient;\\nuniform float mieDirectionalG;\\nuniform vec3 sunPosition;\\n\\n#include<fogFragmentDeclaration>\\n\\nconst float e=2.71828182845904523536028747135266249775724709369995957;\\nconst float pi=3.141592653589793238462643383279502884197169;\\nconst float n=1.0003;\\nconst float N=2.545E25;\\nconst float pn=0.035;\\nconst vec3 lambda=vec3(680E-9,550E-9,450E-9);\\nconst vec3 K=vec3(0.686,0.678,0.666);\\nconst float v=4.0;\\nconst float rayleighZenithLength=8.4E3;\\nconst float mieZenithLength=1.25E3;\\nconst vec3 up=vec3(0.0,1.0,0.0);\\nconst float EE=1000.0;\\nconst float sunAngularDiameterCos=0.999956676946448443553574619906976478926848692873900859324;\\nconst float cutoffAngle=pi/1.95;\\nconst float steepness=1.5;\\nvec3 totalRayleigh(vec3 lambda)\\n{\\nreturn (8.0*pow(pi,3.0)*pow(pow(n,2.0)-1.0,2.0)*(6.0+3.0*pn))/(3.0*N*pow(lambda,vec3(4.0))*(6.0-7.0*pn));\\n}\\nvec3 simplifiedRayleigh()\\n{\\nreturn 0.0005/vec3(94,40,18);\\n}\\nfloat rayleighPhase(float cosTheta)\\n{\\nreturn (3.0/(16.0*pi))*(1.0+pow(cosTheta,2.0));\\n}\\nvec3 totalMie(vec3 lambda,vec3 K,float T)\\n{\\nfloat c=(0.2*T )*10E-18;\\nreturn 0.434*c*pi*pow((2.0*pi)/lambda,vec3(v-2.0))*K;\\n}\\nfloat hgPhase(float cosTheta,float g)\\n{\\nreturn (1.0/(4.0*pi))*((1.0-pow(g,2.0))/pow(1.0-2.0*g*cosTheta+pow(g,2.0),1.5));\\n}\\nfloat sunIntensity(float zenithAngleCos)\\n{\\nreturn EE*max(0.0,1.0-exp((-(cutoffAngle-acos(zenithAngleCos))/steepness)));\\n}\\nfloat A=0.15;\\nfloat B=0.50;\\nfloat C=0.10;\\nfloat D=0.20;\\nfloat EEE=0.02;\\nfloat F=0.30;\\nfloat W=1000.0;\\nvec3 Uncharted2Tonemap(vec3 x)\\n{\\nreturn ((x*(A*x+C*B)+D*EEE)/(x*(A*x+B)+D*F))-EEE/F;\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\n\\nfloat sunfade=1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);\\nfloat rayleighCoefficient=rayleigh-(1.0*(1.0-sunfade));\\nvec3 sunDirection=normalize(sunPosition);\\nfloat sunE=sunIntensity(dot(sunDirection,up));\\nvec3 betaR=simplifiedRayleigh()*rayleighCoefficient;\\nvec3 betaM=totalMie(lambda,K,turbidity)*mieCoefficient;\\nfloat zenithAngle=acos(max(0.0,dot(up,normalize(vPositionW-cameraPosition+cameraOffset))));\\nfloat sR=rayleighZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nfloat sM=mieZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nvec3 Fex=exp(-(betaR*sR+betaM*sM));\\nfloat cosTheta=dot(normalize(vPositionW-cameraPosition),sunDirection);\\nfloat rPhase=rayleighPhase(cosTheta*0.5+0.5);\\nvec3 betaRTheta=betaR*rPhase;\\nfloat mPhase=hgPhase(cosTheta,mieDirectionalG);\\nvec3 betaMTheta=betaM*mPhase;\\nvec3 Lin=pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*(1.0-Fex),vec3(1.5));\\nLin*=mix(vec3(1.0),pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up,sunDirection),5.0),0.0,1.0));\\nvec3 direction=normalize(vPositionW-cameraPosition);\\nfloat theta=acos(direction.y);\\nfloat phi=atan(direction.z,direction.x);\\nvec2 uv=vec2(phi,theta)/vec2(2.0*pi,pi)+vec2(0.5,0.0);\\nvec3 L0=vec3(0.1)*Fex;\\nfloat sundisk=smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);\\nL0+=(sunE*19000.0*Fex)*sundisk;\\nvec3 whiteScale=1.0/Uncharted2Tonemap(vec3(W));\\nvec3 texColor=(Lin+L0);\\ntexColor*=0.04 ;\\ntexColor+=vec3(0.0,0.001,0.0025)*0.3;\\nfloat g_fMaxLuminance=1.0;\\nfloat fLumScaled=0.1/luminance;\\nfloat fLumCompressed=(fLumScaled*(1.0+(fLumScaled/(g_fMaxLuminance*g_fMaxLuminance))))/(1.0+fLumScaled);\\nfloat ExposureBias=fLumCompressed;\\nvec3 curr=Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);\\n\\n\\n\\nvec3 retColor=curr*whiteScale;\\n\\n\\nfloat alpha=1.0;\\n#ifdef VERTEXCOLOR\\nretColor.rgb*=vColor.rgb;\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=clamp(vec4(retColor.rgb,alpha),0.0,1.0);\\n\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.skyPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n\\nuniform mat4 world;\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\nvoid main(void) {\\ngl_Position=viewProjection*world*vec4(position,1.0);\\nvec4 worldPos=world*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.skyVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.POINTSIZE=!1,t.FOG=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.luminance=1,n.turbidity=10,n.rayleigh=2,n.mieCoefficient=.005,n.mieDirectionalG=.8,n.distance=500,n.inclination=.49,n.azimuth=.25,n.sunPosition=new r.Vector3(0,100,0),n.useSunPosition=!1,n.cameraOffset=r.Vector3.Zero(),n._cameraPosition=r.Vector3.Zero(),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,!1,n),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!1),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var a=new r.EffectFallbacks;n.FOG&&a.addFallback(1,\"FOG\");var f=[r.VertexBuffer.PositionKind];n.VERTEXCOLOR&&f.push(r.VertexBuffer.ColorKind);var l=n.toString();t.setEffect(o.getEngine().createEffect(\"sky\",f,[\"world\",\"viewProjection\",\"view\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"luminance\",\"turbidity\",\"rayleigh\",\"mieCoefficient\",\"mieDirectionalG\",\"sunPosition\",\"cameraPosition\",\"cameraOffset\"],[],l,a,this.onCompiled,this.onError),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene();if(i._materialDefines){var o=i.effect;if(o){this._activeEffect=o,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),this._mustRebind(n,o)&&(r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize)),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect);var a=n.activeCamera;if(a){var s=a.getWorldMatrix();this._cameraPosition.x=s.m[12],this._cameraPosition.y=s.m[13],this._cameraPosition.z=s.m[14],this._activeEffect.setVector3(\"cameraPosition\",this._cameraPosition)}if(this._activeEffect.setVector3(\"cameraOffset\",this.cameraOffset),this.luminance>0&&this._activeEffect.setFloat(\"luminance\",this.luminance),this._activeEffect.setFloat(\"turbidity\",this.turbidity),this._activeEffect.setFloat(\"rayleigh\",this.rayleigh),this._activeEffect.setFloat(\"mieCoefficient\",this.mieCoefficient),this._activeEffect.setFloat(\"mieDirectionalG\",this.mieDirectionalG),!this.useSunPosition){var f=Math.PI*(this.inclination-.5),l=2*Math.PI*(this.azimuth-.5);this.sunPosition.x=this.distance*Math.cos(l),this.sunPosition.y=this.distance*Math.sin(l)*Math.sin(f),this.sunPosition.z=this.distance*Math.sin(l)*Math.cos(f)}this._activeEffect.setVector3(\"sunPosition\",this.sunPosition),this._afterBind(t,this._activeEffect)}}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.SkyMaterial\",e},t.prototype.getClassName=function(){return\"SkyMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serialize)()],t.prototype,\"luminance\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"turbidity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"rayleigh\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"mieCoefficient\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"mieDirectionalG\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"distance\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"inclination\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"azimuth\",void 0),Object(n.a)([Object(r.serializeAsVector3)()],t.prototype,\"sunPosition\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"useSunPosition\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"cameraOffset\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.SkyMaterial\"]=f,i.d(t,\"SkyMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\nuniform sampler2D distortionSampler;\\nuniform sampler2D opacitySampler;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvec4 bx2(vec4 x)\\n{\\nreturn vec4(2.0)*x-vec4(1.0);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\n\\nfloat alpha=1.0;\\n#ifdef DIFFUSE\\n\\nconst float distortionAmount0=0.092;\\nconst float distortionAmount1=0.092;\\nconst float distortionAmount2=0.092;\\nvec2 heightAttenuation=vec2(0.3,0.39);\\nvec4 noise0=texture2D(distortionSampler,vDistortionCoords1);\\nvec4 noise1=texture2D(distortionSampler,vDistortionCoords2);\\nvec4 noise2=texture2D(distortionSampler,vDistortionCoords3);\\nvec4 noiseSum=bx2(noise0)*distortionAmount0+bx2(noise1)*distortionAmount1+bx2(noise2)*distortionAmount2;\\nvec4 perturbedBaseCoords=vec4(vDiffuseUV,0.0,1.0)+noiseSum*(vDiffuseUV.y*heightAttenuation.x+heightAttenuation.y);\\nvec4 opacityColor=texture2D(opacitySampler,perturbedBaseCoords.xy);\\n#ifdef ALPHATEST\\nif (opacityColor.r<0.1)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor=texture2D(diffuseSampler,perturbedBaseCoords.xy)*2.0;\\nbaseColor*=opacityColor;\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(1.0,1.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=vec4(baseColor.rgb,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.firePixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n\\nuniform float time;\\nuniform float speed;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n\\n#ifdef DIFFUSE\\nvDiffuseUV=uv;\\nvDiffuseUV.y-=0.2;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n#ifdef DIFFUSE\\n\\nvec3 layerSpeed=vec3(-0.2,-0.52,-0.1)*speed;\\nvDistortionCoords1.x=uv.x;\\nvDistortionCoords1.y=uv.y+layerSpeed.x*time/1000.0;\\nvDistortionCoords2.x=uv.x;\\nvDistortionCoords2.y=uv.y+layerSpeed.y*time/1000.0;\\nvDistortionCoords3.x=uv.x;\\nvDistortionCoords3.y=uv.y+layerSpeed.z*time/1000.0;\\n#endif\\n}\\n\";r.Effect.ShadersStore.fireVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.UV1=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.BonesPerMesh=0,t.NUM_BONE_INFLUENCERS=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.speed=1,n._scaledDiffuse=new r.Color3,n._lastTime=0,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!0},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(n.ALPHATEST=!!this._opacityTexture,n._areMiscDirty&&(n.POINTSIZE=this.pointsCloud||o.forcePointsCloud,n.FOG=o.fogEnabled&&e.applyFog&&o.fogMode!==r.Scene.FOGMODE_NONE&&this.fogEnabled),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.UV1&&l.push(r.VertexBuffer.UVKind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString();t.setEffect(o.getEngine().createEffect(\"fire\",{attributes:l,uniformsNames:[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"time\",\"speed\"],uniformBuffersNames:[],samplers:[\"diffuseSampler\",\"distortionSampler\",\"opacitySampler\"],defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:null,maxSimultaneousLights:4,transformFeedbackVaryings:null},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene();if(i._materialDefines){var o=i.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,o)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix()),this._activeEffect.setTexture(\"distortionSampler\",this._distortionTexture),this._activeEffect.setTexture(\"opacitySampler\",this._opacityTexture)),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(o,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this._scaledDiffuse,this.alpha*t.visibility),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._lastTime+=n.getEngine().getDeltaTime(),this._activeEffect.setFloat(\"time\",this._lastTime),this._activeEffect.setFloat(\"speed\",this.speed),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),this._distortionTexture&&this._distortionTexture.animations&&this._distortionTexture.animations.length>0&&e.push(this._distortionTexture),this._opacityTexture&&this._opacityTexture.animations&&this._opacityTexture.animations.length>0&&e.push(this._opacityTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),this._distortionTexture&&t.push(this._distortionTexture),this._opacityTexture&&t.push(this._opacityTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._diffuseTexture===t||(this._distortionTexture===t||this._opacityTexture===t))},t.prototype.getClassName=function(){return\"FireMaterial\"},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),this._distortionTexture&&this._distortionTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType=\"BABYLON.FireMaterial\",t.diffuseColor=this.diffuseColor.asArray(),t.speed=this.speed,this._diffuseTexture&&(t._diffuseTexture=this._diffuseTexture.serialize()),this._distortionTexture&&(t._distortionTexture=this._distortionTexture.serialize()),this._opacityTexture&&(t._opacityTexture=this._opacityTexture.serialize()),t},t.Parse=function(e,i,n){var o=new t(e.name,i);return o.diffuseColor=r.Color3.FromArray(e.diffuseColor),o.speed=e.speed,o.alpha=e.alpha,o.id=e.id,r.Tags.AddTagsTo(o,e.tags),o.backFaceCulling=e.backFaceCulling,o.wireframe=e.wireframe,e._diffuseTexture&&(o._diffuseTexture=r.Texture.Parse(e._diffuseTexture,i,n)),e._distortionTexture&&(o._distortionTexture=r.Texture.Parse(e._distortionTexture,i,n)),e._opacityTexture&&(o._opacityTexture=r.Texture.Parse(e._opacityTexture,i,n)),o},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"distortionTexture\")],t.prototype,\"_distortionTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"distortionTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")],t.prototype,\"_opacityTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"opacityTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"speed\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.FireMaterial\"]=f,i.d(t,\"FireMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\nuniform sampler2D diffuseSamplerX;\\n#ifdef BUMPX\\nuniform sampler2D normalSamplerX;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\nuniform sampler2D diffuseSamplerY;\\n#ifdef BUMPY\\nuniform sampler2D normalSamplerY;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\nuniform sampler2D diffuseSamplerZ;\\n#ifdef BUMPZ\\nuniform sampler2D normalSamplerZ;\\n#endif\\n#endif\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(0.,0.,0.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=tangentSpace[2];\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\nvec4 baseNormal=vec4(0.0,0.0,0.0,1.0);\\nnormalW*=normalW;\\n#ifdef DIFFUSEX\\nbaseColor+=texture2D(diffuseSamplerX,vTextureUVX)*normalW.x;\\n#ifdef BUMPX\\nbaseNormal+=texture2D(normalSamplerX,vTextureUVX)*normalW.x;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nbaseColor+=texture2D(diffuseSamplerY,vTextureUVY)*normalW.y;\\n#ifdef BUMPY\\nbaseNormal+=texture2D(normalSamplerY,vTextureUVY)*normalW.y;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nbaseColor+=texture2D(diffuseSamplerZ,vTextureUVZ)*normalW.z;\\n#ifdef BUMPZ\\nbaseNormal+=texture2D(normalSamplerZ,vTextureUVZ)*normalW.z;\\n#endif\\n#endif\\n#ifdef NORMAL\\nnormalW=normalize((2.0*baseNormal.xyz-1.0)*tangentSpace);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.triplanarPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\n#endif\\nuniform float tileSize;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void)\\n{\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef DIFFUSEX\\nvTextureUVX=worldPos.zy/tileSize;\\n#endif\\n#ifdef DIFFUSEY\\nvTextureUVY=worldPos.xz/tileSize;\\n#endif\\n#ifdef DIFFUSEZ\\nvTextureUVZ=worldPos.xy/tileSize;\\n#endif\\n#ifdef NORMAL\\n\\nvec3 xtan=vec3(0,0,1);\\nvec3 xbin=vec3(0,1,0);\\nvec3 ytan=vec3(1,0,0);\\nvec3 ybin=vec3(0,0,1);\\nvec3 ztan=vec3(1,0,0);\\nvec3 zbin=vec3(0,1,0);\\nvec3 normalizedNormal=normalize(normal);\\nnormalizedNormal*=normalizedNormal;\\nvec3 worldBinormal=normalize(xbin*normalizedNormal.x+ybin*normalizedNormal.y+zbin*normalizedNormal.z);\\nvec3 worldTangent=normalize(xtan*normalizedNormal.x+ytan*normalizedNormal.y+ztan*normalizedNormal.z);\\nworldTangent=(world*vec4(worldTangent,1.0)).xyz;\\nworldBinormal=(world*vec4(worldBinormal,1.0)).xyz;\\nvec3 worldNormal=normalize(cross(worldTangent,worldBinormal));\\ntangentSpace[0]=worldTangent;\\ntangentSpace[1]=worldBinormal;\\ntangentSpace[2]=worldNormal;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.triplanarVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSEX=!1,t.DIFFUSEY=!1,t.DIFFUSEZ=!1,t.BUMPX=!1,t.BUMPY=!1,t.BUMPZ=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.tileSize=1,n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(.2,.2,.2),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&o.texturesEnabled){if(r.MaterialFlags.DiffuseTextureEnabled)for(var f=[this.diffuseTextureX,this.diffuseTextureY,this.diffuseTextureZ],l=[\"DIFFUSEX\",\"DIFFUSEY\",\"DIFFUSEZ\"],u=0;u<f.length;u++)if(f[u]){if(!f[u].isReady())return!1;n[l[u]]=!0}if(r.MaterialFlags.BumpTextureEnabled)for(f=[this.normalTextureX,this.normalTextureY,this.normalTextureZ],l=[\"BUMPX\",\"BUMPY\",\"BUMPZ\"],u=0;u<f.length;u++)if(f[u]){if(!f[u].isReady())return!1;n[l[u]]=!0}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var c=new r.EffectFallbacks;n.FOG&&c.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,c,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&c.addCPUSkinningFallback(0,e);var d=[r.VertexBuffer.PositionKind];n.NORMAL&&d.push(r.VertexBuffer.NormalKind),n.VERTEXCOLOR&&d.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(d,e,n,c),r.MaterialHelper.PrepareAttributesForInstances(d,n);var p=n.toString(),h=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"tileSize\"],v=[\"diffuseSamplerX\",\"diffuseSamplerY\",\"diffuseSamplerZ\",\"normalSamplerX\",\"normalSamplerY\",\"normalSamplerZ\"],m=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:h,uniformBuffersNames:m,samplers:v,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"triplanar\",{attributes:d,uniformsNames:h,uniformBuffersNames:m,samplers:v,defines:p,fallbacks:c,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._activeEffect.setFloat(\"tileSize\",this.tileSize),n.getCachedMaterial()!==this&&(this.diffuseTextureX&&this._activeEffect.setTexture(\"diffuseSamplerX\",this.diffuseTextureX),this.diffuseTextureY&&this._activeEffect.setTexture(\"diffuseSamplerY\",this.diffuseTextureY),this.diffuseTextureZ&&this._activeEffect.setTexture(\"diffuseSamplerZ\",this.diffuseTextureZ),this.normalTextureX&&this._activeEffect.setTexture(\"normalSamplerX\",this.normalTextureX),this.normalTextureY&&this._activeEffect.setTexture(\"normalSamplerY\",this.normalTextureY),this.normalTextureZ&&this._activeEffect.setTexture(\"normalSamplerZ\",this.normalTextureZ),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.mixTexture&&this.mixTexture.animations&&this.mixTexture.animations.length>0&&e.push(this.mixTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTextureX&&t.push(this._diffuseTextureX),this._diffuseTextureY&&t.push(this._diffuseTextureY),this._diffuseTextureZ&&t.push(this._diffuseTextureZ),this._normalTextureX&&t.push(this._normalTextureX),this._normalTextureY&&t.push(this._normalTextureY),this._normalTextureZ&&t.push(this._normalTextureZ),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._diffuseTextureX===t||(this._diffuseTextureY===t||(this._diffuseTextureZ===t||(this._normalTextureX===t||(this._normalTextureY===t||this._normalTextureZ===t)))))},t.prototype.dispose=function(t){this.mixTexture&&this.mixTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.TriPlanarMaterial\",e},t.prototype.getClassName=function(){return\"TriPlanarMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)()],t.prototype,\"mixTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureX\")],t.prototype,\"_diffuseTextureX\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureX\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexturY\")],t.prototype,\"_diffuseTextureY\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureY\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureZ\")],t.prototype,\"_diffuseTextureZ\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureZ\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureX\")],t.prototype,\"_normalTextureX\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureX\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureY\")],t.prototype,\"_normalTextureY\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureY\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureZ\")],t.prototype,\"_normalTextureZ\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureZ\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"tileSize\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.TriPlanarMaterial\"]=f,i.d(t,\"TriPlanarMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nuniform vec4 furColor;\\nuniform float furLength;\\nvarying vec3 vPositionW;\\nvarying float vfur_length;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform float furOcclusion;\\nuniform sampler2D furTexture;\\nvarying vec2 vFurUV;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<fogFragmentDeclaration>\\n#include<clipPlaneFragmentDeclaration>\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=furColor;\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor*=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef HIGHLEVEL\\n\\nvec4 furTextureColor=texture2D(furTexture,vec2(vFurUV.x,vFurUV.y));\\nif (furTextureColor.a<=0.0 || furTextureColor.g<furOffset) {\\ndiscard;\\n}\\nfloat occlusion=mix(0.0,furTextureColor.b*1.2,furOffset);\\nbaseColor=vec4(baseColor.xyz*max(occlusion,furOcclusion),1.1-furOffset);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase.rgb*baseColor.rgb,0.0,1.0);\\n\\n#ifdef HIGHLEVEL\\nvec4 color=vec4(finalDiffuse,alpha);\\n#else\\nfloat r=vfur_length/furLength*0.5;\\nvec4 color=vec4(finalDiffuse*(0.5+r),alpha);\\n#endif\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.furPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\nuniform float furLength;\\nuniform float furAngle;\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform vec3 furGravity;\\nuniform float furTime;\\nuniform float furSpacing;\\nuniform float furDensity;\\n#endif\\n#ifdef HEIGHTMAP\\nuniform sampler2D heightTexture;\\n#endif\\n#ifdef HIGHLEVEL\\nvarying vec2 vFurUV;\\n#endif\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\nvarying float vfur_length;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n\\nfloat r=Rand(position);\\n#ifdef HEIGHTMAP\\n#if __VERSION__>100\\nvfur_length=furLength*texture(heightTexture,uv).x;\\n#else\\nvfur_length=furLength*texture2D(heightTexture,uv).r;\\n#endif\\n#else\\nvfur_length=(furLength*r);\\n#endif\\nvec3 tangent1=vec3(normal.y,-normal.x,0);\\nvec3 tangent2=vec3(-normal.z,0,normal.x);\\nr=Rand(tangent1*r);\\nfloat J=(2.0+4.0*r);\\nr=Rand(tangent2*r);\\nfloat K=(2.0+2.0*r);\\ntangent1=tangent1*J+tangent2*K;\\ntangent1=normalize(tangent1);\\nvec3 newPosition=position+normal*vfur_length*cos(furAngle)+tangent1*vfur_length*sin(furAngle);\\n#ifdef HIGHLEVEL\\n\\nvec3 forceDirection=vec3(0.0,0.0,0.0);\\nforceDirection.x=sin(furTime+position.x*0.05)*0.2;\\nforceDirection.y=cos(furTime*0.7+position.y*0.04)*0.2;\\nforceDirection.z=sin(furTime*0.7+position.z*0.04)*0.2;\\nvec3 displacement=vec3(0.0,0.0,0.0);\\ndisplacement=furGravity+forceDirection;\\nfloat displacementFactor=pow(furOffset,3.0);\\nvec3 aNormal=normal;\\naNormal.xyz+=displacement*displacementFactor;\\nnewPosition=vec3(newPosition.x,newPosition.y,newPosition.z)+(normalize(aNormal)*furOffset*furSpacing);\\n#endif\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\ngl_Position=viewProjection*finalWorld*vec4(newPosition,1.0);\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#ifdef HIGHLEVEL\\nvFurUV=vDiffuseUV*furDensity;\\n#endif\\n#else\\n#ifdef HIGHLEVEL\\nvFurUV=uv*furDensity;\\n#endif\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.furVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.HEIGHTMAP=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.HIGHLEVEL=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.furLength=1,n.furAngle=0,n.furColor=new r.Color3(.44,.21,.02),n.furOffset=0,n.furSpacing=12,n.furGravity=new r.Vector3(0,0,0),n.furSpeed=100,n.furDensity=20,n.furOcclusion=0,n._disableLighting=!1,n._maxSimultaneousLights=4,n.highLevelFur=!0,n._furTime=0,n}return Object(n.b)(t,e),Object.defineProperty(t.prototype,\"furTime\",{get:function(){return this._furTime},set:function(e){this._furTime=e},enumerable:!0,configurable:!0}),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.updateFur=function(){for(var e=1;e<this._meshes.length;e++){var t=this._meshes[e].material;t.furLength=this.furLength,t.furAngle=this.furAngle,t.furGravity=this.furGravity,t.furSpacing=this.furSpacing,t.furSpeed=this.furSpeed,t.furColor=this.furColor,t.diffuseTexture=this.diffuseTexture,t.furTexture=this.furTexture,t.highLevelFur=this.highLevelFur,t.furTime=this.furTime,t.furDensity=this.furDensity}},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&o.texturesEnabled){if(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled){if(!this.diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(this.heightTexture&&a.getCaps().maxVertexTextureImageUnits){if(!this.heightTexture.isReady())return!1;n._needUVs=!0,n.HEIGHTMAP=!0}}if(this.highLevelFur!==n.HIGHLEVEL&&(n.HIGHLEVEL=!0,n.markAsUnprocessed()),r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"furLength\",\"furAngle\",\"furColor\",\"furOffset\",\"furGravity\",\"furTime\",\"furSpacing\",\"furDensity\",\"furOcclusion\"],d=[\"diffuseSampler\",\"heightTexture\",\"furTexture\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"fur\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),n.getCachedMaterial()!==this&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),this._heightTexture&&this._activeEffect.setTexture(\"heightTexture\",this._heightTexture),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._activeEffect.setFloat(\"furLength\",this.furLength),this._activeEffect.setFloat(\"furAngle\",this.furAngle),this._activeEffect.setColor4(\"furColor\",this.furColor,1),this.highLevelFur&&(this._activeEffect.setVector3(\"furGravity\",this.furGravity),this._activeEffect.setFloat(\"furOffset\",this.furOffset),this._activeEffect.setFloat(\"furSpacing\",this.furSpacing),this._activeEffect.setFloat(\"furDensity\",this.furDensity),this._activeEffect.setFloat(\"furOcclusion\",this.furOcclusion),this._furTime+=this.getScene().getEngine().getDeltaTime()/this.furSpeed,this._activeEffect.setFloat(\"furTime\",this._furTime),this._activeEffect.setTexture(\"furTexture\",this.furTexture)),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),this.heightTexture&&this.heightTexture.animations&&this.heightTexture.animations.length>0&&e.push(this.heightTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),this._heightTexture&&t.push(this._heightTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this.diffuseTexture===t||this._heightTexture===t)},t.prototype.dispose=function(t){if(this.diffuseTexture&&this.diffuseTexture.dispose(),this._meshes)for(var i=1;i<this._meshes.length;i++){var n=this._meshes[i].material;n&&n.dispose(t),this._meshes[i].dispose()}e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.FurMaterial\",this._meshes&&(e.sourceMeshName=this._meshes[0].name,e.quality=this._meshes.length),e},t.prototype.getClassName=function(){return\"FurMaterial\"},t.Parse=function(e,i,n){var o=r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n);return e.sourceMeshName&&o.highLevelFur&&i.executeWhenReady(function(){var n=i.getMeshByName(e.sourceMeshName);if(n){var r=t.GenerateTexture(\"Fur Texture\",i);o.furTexture=r,t.FurifyMesh(n,e.quality)}}),o},t.GenerateTexture=function(e,t){for(var i=new r.DynamicTexture(\"FurTexture \"+e,256,t,!0),n=i.getContext(),o=0;o<2e4;++o)n.fillStyle=\"rgba(255, \"+Math.floor(255*Math.random())+\", \"+Math.floor(255*Math.random())+\", 1)\",n.fillRect(Math.random()*i.getSize().width,Math.random()*i.getSize().height,2,2);return i.update(!1),i.wrapU=r.Texture.WRAP_ADDRESSMODE,i.wrapV=r.Texture.WRAP_ADDRESSMODE,i},t.FurifyMesh=function(e,i){var n,o=[e],a=e.material;if(!(a instanceof t))throw\"The material of the source mesh must be a Fur Material\";for(n=1;n<i;n++){var s=new t(a.name+n,e.getScene());e.getScene().materials.pop(),r.Tags.EnableFor(s),r.Tags.AddTagsTo(s,\"furShellMaterial\"),s.furLength=a.furLength,s.furAngle=a.furAngle,s.furGravity=a.furGravity,s.furSpacing=a.furSpacing,s.furSpeed=a.furSpeed,s.furColor=a.furColor,s.diffuseTexture=a.diffuseTexture,s.furOffset=n/i,s.furTexture=a.furTexture,s.highLevelFur=a.highLevelFur,s.furTime=a.furTime,s.furDensity=a.furDensity;var f=e.clone(e.name+n);f.material=s,f.skeleton=e.skeleton,f.position=r.Vector3.Zero(),o.push(f)}for(n=1;n<o.length;n++)o[n].parent=e;return e.material._meshes=o,o},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"heightTexture\")],t.prototype,\"_heightTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"heightTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furLength\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furAngle\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"furColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furOffset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furSpacing\",void 0),Object(n.a)([Object(r.serializeAsVector3)()],t.prototype,\"furGravity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furDensity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furOcclusion\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"highLevelFur\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furTime\",null),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.FurMaterial\"]=f,i.d(t,\"FurMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D textureSampler;\\nuniform vec2 vTextureInfos;\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\n#endif\\n#ifdef BUMP\\nuniform sampler2D bump1Sampler;\\nuniform sampler2D bump2Sampler;\\nuniform sampler2D bump3Sampler;\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\n#ifdef BUMP\\n#extension GL_OES_standard_derivatives : enable\\n\\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv)\\n{\\n\\nvec3 dp1=dFdx(p);\\nvec3 dp2=dFdy(p);\\nvec2 duv1=dFdx(uv);\\nvec2 duv2=dFdy(uv);\\n\\nvec3 dp2perp=cross(dp2,normal);\\nvec3 dp1perp=cross(normal,dp1);\\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\\nvec3 binormal=dp2perp*duv1.y+dp1perp*duv2.y;\\n\\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(binormal,binormal)));\\nreturn mat3(tangent*invmax,binormal*invmax,normal);\\n}\\nvec3 perturbNormal(vec3 viewDir,vec3 mixColor)\\n{\\nvec3 bump1Color=texture2D(bump1Sampler,vTextureUV*diffuse1Infos).xyz;\\nvec3 bump2Color=texture2D(bump2Sampler,vTextureUV*diffuse2Infos).xyz;\\nvec3 bump3Color=texture2D(bump3Sampler,vTextureUV*diffuse3Infos).xyz;\\nbump1Color.rgb*=mixColor.r;\\nbump2Color.rgb=mix(bump1Color.rgb,bump2Color.rgb,mixColor.g);\\nvec3 map=mix(bump2Color.rgb,bump3Color.rgb,mixColor.b);\\nmap=map*255./127.-128./127.;\\nmat3 TBN=cotangent_frame(vNormalW*vTextureInfos.y,-viewDir,vTextureUV);\\nreturn normalize(TBN*map);\\n}\\n#endif\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nbaseColor=texture2D(textureSampler,vTextureUV);\\n#if defined(BUMP) && defined(DIFFUSE)\\nnormalW=perturbNormal(viewDirectionW,baseColor.rgb);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\ndiffuse1Color.rgb*=baseColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,baseColor.g);\\nbaseColor.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,baseColor.b);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*baseColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.terrainPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.terrainVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.BUMP=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(0,0,0),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(o.texturesEnabled){if(!this.mixTexture||!this.mixTexture.isReady())return!1;if(n._needUVs=!0,r.MaterialFlags.DiffuseTextureEnabled){if(!this.diffuseTexture1||!this.diffuseTexture1.isReady())return!1;if(!this.diffuseTexture2||!this.diffuseTexture2.isReady())return!1;if(!this.diffuseTexture3||!this.diffuseTexture3.isReady())return!1;n.DIFFUSE=!0}if(this.bumpTexture1&&this.bumpTexture2&&this.bumpTexture3&&r.MaterialFlags.BumpTextureEnabled){if(!this.bumpTexture1.isReady())return!1;if(!this.bumpTexture2.isReady())return!1;if(!this.bumpTexture3.isReady())return!1;n._needNormals=!0,n.BUMP=!0}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vTextureInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"textureMatrix\",\"diffuse1Infos\",\"diffuse2Infos\",\"diffuse3Infos\"],d=[\"textureSampler\",\"diffuse1Sampler\",\"diffuse2Sampler\",\"diffuse3Sampler\",\"bump1Sampler\",\"bump2Sampler\",\"bump3Sampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"terrain\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.mixTexture&&(this._activeEffect.setTexture(\"textureSampler\",this._mixTexture),this._activeEffect.setFloat2(\"vTextureInfos\",this._mixTexture.coordinatesIndex,this._mixTexture.level),this._activeEffect.setMatrix(\"textureMatrix\",this._mixTexture.getTextureMatrix()),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture1&&(this._activeEffect.setTexture(\"diffuse1Sampler\",this._diffuseTexture1),this._activeEffect.setFloat2(\"diffuse1Infos\",this._diffuseTexture1.uScale,this._diffuseTexture1.vScale)),this._diffuseTexture2&&(this._activeEffect.setTexture(\"diffuse2Sampler\",this._diffuseTexture2),this._activeEffect.setFloat2(\"diffuse2Infos\",this._diffuseTexture2.uScale,this._diffuseTexture2.vScale)),this._diffuseTexture3&&(this._activeEffect.setTexture(\"diffuse3Sampler\",this._diffuseTexture3),this._activeEffect.setFloat2(\"diffuse3Infos\",this._diffuseTexture3.uScale,this._diffuseTexture3.vScale))),r.MaterialFlags.BumpTextureEnabled&&n.getEngine().getCaps().standardDerivatives&&(this._bumpTexture1&&this._activeEffect.setTexture(\"bump1Sampler\",this._bumpTexture1),this._bumpTexture2&&this._activeEffect.setTexture(\"bump2Sampler\",this._bumpTexture2),this._bumpTexture3&&this._activeEffect.setTexture(\"bump3Sampler\",this._bumpTexture3))),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.mixTexture&&this.mixTexture.animations&&this.mixTexture.animations.length>0&&e.push(this.mixTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._mixTexture&&t.push(this._mixTexture),this._diffuseTexture1&&t.push(this._diffuseTexture1),this._diffuseTexture2&&t.push(this._diffuseTexture2),this._diffuseTexture3&&t.push(this._diffuseTexture3),this._bumpTexture1&&t.push(this._bumpTexture1),this._bumpTexture2&&t.push(this._bumpTexture2),this._bumpTexture3&&t.push(this._bumpTexture3),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._mixTexture===t||(this._diffuseTexture1===t||(this._diffuseTexture2===t||(this._diffuseTexture3===t||(this._bumpTexture1===t||(this._bumpTexture2===t||this._bumpTexture3===t))))))},t.prototype.dispose=function(t){this.mixTexture&&this.mixTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.TerrainMaterial\",e},t.prototype.getClassName=function(){return\"TerrainMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture\")],t.prototype,\"_mixTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture3\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture1\")],t.prototype,\"_bumpTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture2\")],t.prototype,\"_bumpTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture3\")],t.prototype,\"_bumpTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture3\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.TerrainMaterial\"]=f,i.d(t,\"TerrainMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nuniform vec4 topColor;\\nuniform vec4 bottomColor;\\nuniform float offset;\\nuniform float scale;\\nuniform float smoothness;\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\nfloat h=vPosition.y*scale+offset;\\nfloat mysmoothness=clamp(smoothness,0.01,max(smoothness,10.));\\nvec4 baseColor=mix(bottomColor,topColor,max(pow(max(h,0.0),mysmoothness),0.0));\\n\\nvec3 diffuseColor=baseColor.rgb;\\n\\nfloat alpha=baseColor.a;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef EMISSIVE\\nvec3 diffuseBase=baseColor.rgb;\\n#else\\nvec3 diffuseBase=vec3(0.,0.,0.);\\n#endif\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.gradientPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\nvPosition=position;\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.gradientVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.EMISSIVE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._maxSimultaneousLights=4,n.topColor=new r.Color3(1,0,0),n.topColorAlpha=1,n.bottomColor=new r.Color3(0,0,1),n.bottomColorAlpha=1,n.offset=0,n.scale=1,n.smoothness=1,n._disableLighting=!1,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1||this.topColorAlpha<1||this.bottomColorAlpha<1},t.prototype.needAlphaTesting=function(){return!0},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),n.EMISSIVE=this._disableLighting,r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"topColor\",\"bottomColor\",\"offset\",\"smoothness\",\"scale\"],d=[],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(\"gradient\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,a),this._mustRebind(n,a)&&(r.MaterialHelper.BindClipPlane(a,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._activeEffect.setColor4(\"topColor\",this.topColor,this.topColorAlpha),this._activeEffect.setColor4(\"bottomColor\",this.bottomColor,this.bottomColorAlpha),this._activeEffect.setFloat(\"offset\",this.offset),this._activeEffect.setFloat(\"scale\",this.scale),this._activeEffect.setFloat(\"smoothness\",this.smoothness),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.GradientMaterial\",e},t.prototype.getClassName=function(){return\"GradientMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"topColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"topColorAlpha\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"bottomColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"bottomColorAlpha\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"offset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"scale\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"smoothness\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.GradientMaterial\"]=f,i.d(t,\"GradientMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\nvec3 computeCustomDiffuseLighting(lightingInfo info,vec3 diffuseBase,float shadow)\\n{\\ndiffuseBase=info.diffuse*shadow;\\n#ifdef CELLBASIC\\nfloat level=1.0;\\nif (info.ndl<0.5)\\nlevel=0.5;\\ndiffuseBase.rgb*vec3(level,level,level);\\n#else\\nfloat ToonThresholds[4];\\nToonThresholds[0]=0.95;\\nToonThresholds[1]=0.5;\\nToonThresholds[2]=0.2;\\nToonThresholds[3]=0.03;\\nfloat ToonBrightnessLevels[5];\\nToonBrightnessLevels[0]=1.0;\\nToonBrightnessLevels[1]=0.8;\\nToonBrightnessLevels[2]=0.6;\\nToonBrightnessLevels[3]=0.35;\\nToonBrightnessLevels[4]=0.2;\\nif (info.ndl>ToonThresholds[0])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[0];\\n}\\nelse if (info.ndl>ToonThresholds[1])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[1];\\n}\\nelse if (info.ndl>ToonThresholds[2])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[2];\\n}\\nelse if (info.ndl>ToonThresholds[3])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[3];\\n}\\nelse\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[4];\\n}\\n#endif\\nreturn max(diffuseBase,vec3(0.2));\\n}\\nvoid main(void)\\n{\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nlightingInfo info;\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.cellPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.cellVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.NDOTL=!0,t.CUSTOMUSERLIGHTING=!0,t.CELLBASIC=!0,t.DEPTHPREPASS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._computeHighLevel=!1,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(n.CELLBASIC=!this.computeHighLevel,r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"cell\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights-1}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this._maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this._diffuseTexture===t},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.getClassName=function(){return\"CellMaterial\"},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.CellMaterial\",e},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"computeHighLevel\")],t.prototype,\"_computeHighLevel\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"computeHighLevel\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.CellMaterial\"]=f,i.d(t,\"CellMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"#extension GL_OES_standard_derivatives : enable\\n#define SQRT2 1.41421356\\n#define PI 3.14159\\nprecision highp float;\\nuniform vec3 mainColor;\\nuniform vec3 lineColor;\\nuniform vec4 gridControl;\\nuniform vec3 gridOffset;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogFragmentDeclaration>\\n\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform sampler2D opacitySampler;\\nuniform vec2 vOpacityInfos;\\n#endif\\nfloat getVisibility(float position) {\\n\\nfloat majorGridFrequency=gridControl.y;\\nif (floor(position+0.5) == floor(position/majorGridFrequency+0.5)*majorGridFrequency)\\n{\\nreturn 1.0;\\n}\\nreturn gridControl.z;\\n}\\nfloat getAnisotropicAttenuation(float differentialLength) {\\nconst float maxNumberOfLines=10.0;\\nreturn clamp(1.0/(differentialLength+1.0)-1.0/maxNumberOfLines,0.0,1.0);\\n}\\nfloat isPointOnLine(float position,float differentialLength) {\\nfloat fractionPartOfPosition=position-floor(position+0.5);\\nfractionPartOfPosition/=differentialLength;\\nfractionPartOfPosition=clamp(fractionPartOfPosition,-1.,1.);\\nfloat result=0.5+0.5*cos(fractionPartOfPosition*PI);\\nreturn result;\\n}\\nfloat contributionOnAxis(float position) {\\nfloat differentialLength=length(vec2(dFdx(position),dFdy(position)));\\ndifferentialLength*=SQRT2;\\n\\nfloat result=isPointOnLine(position,differentialLength);\\n\\nfloat visibility=getVisibility(position);\\nresult*=visibility;\\n\\nfloat anisotropicAttenuation=getAnisotropicAttenuation(differentialLength);\\nresult*=anisotropicAttenuation;\\nreturn result;\\n}\\nfloat normalImpactOnAxis(float x) {\\nfloat normalImpact=clamp(1.0-3.0*abs(x*x*x),0.0,1.0);\\nreturn normalImpact;\\n}\\nvoid main(void) {\\n\\nfloat gridRatio=gridControl.x;\\nvec3 gridPos=(vPosition+gridOffset.xyz)/gridRatio;\\n\\nfloat x=contributionOnAxis(gridPos.x);\\nfloat y=contributionOnAxis(gridPos.y);\\nfloat z=contributionOnAxis(gridPos.z);\\n\\nvec3 normal=normalize(vNormal);\\nx*=normalImpactOnAxis(normal.x);\\ny*=normalImpactOnAxis(normal.y);\\nz*=normalImpactOnAxis(normal.z);\\n\\nfloat grid=clamp(x+y+z,0.,1.);\\n\\nvec3 color=mix(mainColor,lineColor,grid);\\n#ifdef FOG\\n#include<fogFragment>\\n#endif\\nfloat opacity=1.0;\\n#ifdef TRANSPARENT\\nopacity=clamp(grid,0.08,gridControl.w*grid);\\n#endif\\n#ifdef OPACITY\\nopacity*=texture2D(opacitySampler,vOpacityUV).a;\\n#endif\\n\\ngl_FragColor=vec4(color.rgb,opacity);\\n#ifdef TRANSPARENT\\n#ifdef PREMULTIPLYALPHA\\ngl_FragColor.rgb*=opacity;\\n#endif\\n#else\\n#endif\\n}\";r.Effect.ShadersStore.gridPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#include<instancesDeclaration>\\n\\nuniform mat4 projection;\\nuniform mat4 view;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogVertexDeclaration>\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform mat4 opacityMatrix;\\nuniform vec2 vOpacityInfos;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\n#include<fogVertex>\\nvec4 cameraSpacePosition=view*worldPos;\\ngl_Position=projection*cameraSpacePosition;\\n#ifdef OPACITY\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\nif (vOpacityInfos.x == 0.)\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\nvPosition=position;\\nvNormal=normal;\\n}\";r.Effect.ShadersStore.gridVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.OPACITY=!1,t.TRANSPARENT=!1,t.FOG=!1,t.PREMULTIPLYALPHA=!1,t.UV1=!1,t.UV2=!1,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.mainColor=r.Color3.Black(),n.lineColor=r.Color3.Teal(),n.gridRatio=1,n.gridOffset=r.Vector3.Zero(),n.majorUnitFrequency=10,n.minorUnitVisibility=.33,n.opacity=1,n.preMultiplyAlpha=!1,n._gridControl=new r.Vector4(n.gridRatio,n.majorUnitFrequency,n.minorUnitVisibility,n.opacity),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.opacity<1||this._opacityTexture&&this._opacityTexture.isReady()},t.prototype.needAlphaBlendingForMesh=function(e){return this.needAlphaBlending()},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;if(n.TRANSPARENT!==this.opacity<1&&(n.TRANSPARENT=!n.TRANSPARENT,n.markAsUnprocessed()),n.PREMULTIPLYALPHA!=this.preMultiplyAlpha&&(n.PREMULTIPLYALPHA=!n.PREMULTIPLYALPHA,n.markAsUnprocessed()),n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._opacityTexture&&r.MaterialFlags.OpacityTextureEnabled)){if(!this._opacityTexture.isReady())return!1;n._needUVs=!0,n.OPACITY=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,!1,this.fogEnabled,!1,n),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,o.getEngine(),n,!!i),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial(),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!1);var a=[r.VertexBuffer.PositionKind,r.VertexBuffer.NormalKind];n.UV1&&a.push(r.VertexBuffer.UVKind),n.UV2&&a.push(r.VertexBuffer.UV2Kind),r.MaterialHelper.PrepareAttributesForInstances(a,n);var f=n.toString();t.setEffect(o.getEngine().createEffect(\"grid\",a,[\"projection\",\"mainColor\",\"lineColor\",\"gridControl\",\"gridOffset\",\"vFogInfos\",\"vFogColor\",\"world\",\"view\",\"opacityMatrix\",\"vOpacityInfos\"],[\"opacitySampler\"],f,void 0,this.onCompiled,this.onError),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,o.INSTANCES||this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),this._activeEffect.setMatrix(\"projection\",n.getProjectionMatrix()),this._mustRebind(n,a)&&(this._activeEffect.setColor3(\"mainColor\",this.mainColor),this._activeEffect.setColor3(\"lineColor\",this.lineColor),this._activeEffect.setVector3(\"gridOffset\",this.gridOffset),this._gridControl.x=this.gridRatio,this._gridControl.y=Math.round(this.majorUnitFrequency),this._gridControl.z=this.minorUnitVisibility,this._gridControl.w=this.opacity,this._activeEffect.setVector4(\"gridControl\",this._gridControl),this._opacityTexture&&r.MaterialFlags.OpacityTextureEnabled&&(this._activeEffect.setTexture(\"opacitySampler\",this._opacityTexture),this._activeEffect.setFloat2(\"vOpacityInfos\",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),this._activeEffect.setMatrix(\"opacityMatrix\",this._opacityTexture.getTextureMatrix()))),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.GridMaterial\",e},t.prototype.getClassName=function(){return\"GridMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"mainColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"lineColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"gridRatio\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"gridOffset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"majorUnitFrequency\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"minorUnitVisibility\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"opacity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"preMultiplyAlpha\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")],t.prototype,\"_opacityTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"opacityTexture\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.GridMaterial\"]=f,i.d(t,\"GridMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.simplePixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.simpleVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"simple\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights-1}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.SimpleMaterial\",e},t.prototype.getClassName=function(){return\"SimpleMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.SimpleMaterial\"]=f,i.d(t,\"SimpleMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n\\nuniform float time;\\nuniform float speed;\\nuniform float movingSpeed;\\nuniform vec3 fogColor;\\nuniform sampler2D noiseTexture;\\nuniform float fogDensity;\\n\\nvarying float noise;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nfloat random( vec3 scale,float seed ){\\nreturn fract( sin( dot( gl_FragCoord.xyz+seed,scale ) )*43758.5453+seed ) ;\\n}\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\n\\nvec4 noiseTex=texture2D( noiseTexture,vDiffuseUV );\\nvec2 T1=vDiffuseUV+vec2( 1.5,-1.5 )*time*0.02;\\nvec2 T2=vDiffuseUV+vec2( -0.5,2.0 )*time*0.01*speed;\\nT1.x+=noiseTex.x*2.0;\\nT1.y+=noiseTex.y*2.0;\\nT2.x-=noiseTex.y*0.2+time*0.001*movingSpeed;\\nT2.y+=noiseTex.z*0.2+time*0.002*movingSpeed;\\nfloat p=texture2D( noiseTexture,T1*3.0 ).a;\\nvec4 lavaColor=texture2D( diffuseSampler,T2*4.0);\\nvec4 temp=lavaColor*( vec4( p,p,p,p )*2. )+( lavaColor*lavaColor-0.1 );\\nbaseColor=temp;\\nfloat depth=gl_FragCoord.z*4.0;\\nconst float LOG2=1.442695;\\nfloat fogFactor=exp2(-fogDensity*fogDensity*depth*depth*LOG2 );\\nfogFactor=1.0-clamp( fogFactor,0.0,1.0 );\\nbaseColor=mix( baseColor,vec4( fogColor,baseColor.w ),fogFactor );\\ndiffuseColor=baseColor.rgb;\\n\\n\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef UNLIT\\nvec3 diffuseBase=vec3(1.,1.,1.);\\n#else\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.lavaPixelShader=o;var a=\"precision highp float;\\n\\nuniform float time;\\nuniform float lowFrequencySpeed;\\n\\nvarying float noise;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n\\n\\nvec3 mod289(vec3 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 mod289(vec4 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 permute(vec4 x)\\n{\\nreturn mod289(((x*34.0)+1.0)*x);\\n}\\nvec4 taylorInvSqrt(vec4 r)\\n{\\nreturn 1.79284291400159-0.85373472095314*r;\\n}\\nvec3 fade(vec3 t) {\\nreturn t*t*t*(t*(t*6.0-15.0)+10.0);\\n}\\n\\nfloat pnoise(vec3 P,vec3 rep)\\n{\\nvec3 Pi0=mod(floor(P),rep);\\nvec3 Pi1=mod(Pi0+vec3(1.0),rep);\\nPi0=mod289(Pi0);\\nPi1=mod289(Pi1);\\nvec3 Pf0=fract(P);\\nvec3 Pf1=Pf0-vec3(1.0);\\nvec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);\\nvec4 iy=vec4(Pi0.yy,Pi1.yy);\\nvec4 iz0=Pi0.zzzz;\\nvec4 iz1=Pi1.zzzz;\\nvec4 ixy=permute(permute(ix)+iy);\\nvec4 ixy0=permute(ixy+iz0);\\nvec4 ixy1=permute(ixy+iz1);\\nvec4 gx0=ixy0*(1.0/7.0);\\nvec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;\\ngx0=fract(gx0);\\nvec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);\\nvec4 sz0=step(gz0,vec4(0.0));\\ngx0-=sz0*(step(0.0,gx0)-0.5);\\ngy0-=sz0*(step(0.0,gy0)-0.5);\\nvec4 gx1=ixy1*(1.0/7.0);\\nvec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;\\ngx1=fract(gx1);\\nvec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);\\nvec4 sz1=step(gz1,vec4(0.0));\\ngx1-=sz1*(step(0.0,gx1)-0.5);\\ngy1-=sz1*(step(0.0,gy1)-0.5);\\nvec3 g000=vec3(gx0.x,gy0.x,gz0.x);\\nvec3 g100=vec3(gx0.y,gy0.y,gz0.y);\\nvec3 g010=vec3(gx0.z,gy0.z,gz0.z);\\nvec3 g110=vec3(gx0.w,gy0.w,gz0.w);\\nvec3 g001=vec3(gx1.x,gy1.x,gz1.x);\\nvec3 g101=vec3(gx1.y,gy1.y,gz1.y);\\nvec3 g011=vec3(gx1.z,gy1.z,gz1.z);\\nvec3 g111=vec3(gx1.w,gy1.w,gz1.w);\\nvec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));\\ng000*=norm0.x;\\ng010*=norm0.y;\\ng100*=norm0.z;\\ng110*=norm0.w;\\nvec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));\\ng001*=norm1.x;\\ng011*=norm1.y;\\ng101*=norm1.z;\\ng111*=norm1.w;\\nfloat n000=dot(g000,Pf0);\\nfloat n100=dot(g100,vec3(Pf1.x,Pf0.yz));\\nfloat n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));\\nfloat n110=dot(g110,vec3(Pf1.xy,Pf0.z));\\nfloat n001=dot(g001,vec3(Pf0.xy,Pf1.z));\\nfloat n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));\\nfloat n011=dot(g011,vec3(Pf0.x,Pf1.yz));\\nfloat n111=dot(g111,Pf1);\\nvec3 fade_xyz=fade(Pf0);\\nvec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);\\nvec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);\\nfloat n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);\\nreturn 2.2*n_xyz;\\n}\\n\\nfloat turbulence( vec3 p ) {\\nfloat w=100.0;\\nfloat t=-.5;\\nfor (float f=1.0 ; f<=10.0 ; f++ ){\\nfloat power=pow( 2.0,f );\\nt+=abs( pnoise( vec3( power*p ),vec3( 10.0,10.0,10.0 ) )/power );\\n}\\nreturn t;\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#ifdef NORMAL\\n\\nnoise=10.0*-.10*turbulence( .5*normal+time*1.15 );\\n\\nfloat b=lowFrequencySpeed*5.0*pnoise( 0.05*position +vec3(time*1.025),vec3( 100.0 ) );\\n\\nfloat displacement =-1.5*noise+b;\\n\\nvec3 newPosition=position+normal*displacement;\\ngl_Position=viewProjection*finalWorld*vec4( newPosition,1.0 );\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\";r.Effect.ShadersStore.lavaVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.LIGHT0=!1,t.LIGHT1=!1,t.LIGHT2=!1,t.LIGHT3=!1,t.SPOTLIGHT0=!1,t.SPOTLIGHT1=!1,t.SPOTLIGHT2=!1,t.SPOTLIGHT3=!1,t.HEMILIGHT0=!1,t.HEMILIGHT1=!1,t.HEMILIGHT2=!1,t.HEMILIGHT3=!1,t.DIRLIGHT0=!1,t.DIRLIGHT1=!1,t.DIRLIGHT2=!1,t.DIRLIGHT3=!1,t.POINTLIGHT0=!1,t.POINTLIGHT1=!1,t.POINTLIGHT2=!1,t.POINTLIGHT3=!1,t.SHADOW0=!1,t.SHADOW1=!1,t.SHADOW2=!1,t.SHADOW3=!1,t.SHADOWS=!1,t.SHADOWESM0=!1,t.SHADOWESM1=!1,t.SHADOWESM2=!1,t.SHADOWESM3=!1,t.SHADOWPOISSON0=!1,t.SHADOWPOISSON1=!1,t.SHADOWPOISSON2=!1,t.SHADOWPOISSON3=!1,t.SHADOWPCF0=!1,t.SHADOWPCF1=!1,t.SHADOWPCF2=!1,t.SHADOWPCF3=!1,t.SHADOWPCSS0=!1,t.SHADOWPCSS1=!1,t.SHADOWPCSS2=!1,t.SHADOWPCSS3=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.UNLIT=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.speed=1,n.movingSpeed=1,n.lowFrequencySpeed=1,n.fogDensity=.15,n._lastTime=0,n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._unlit=!1,n._maxSimultaneousLights=4,n._scaledDiffuse=new r.Color3,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=!0,r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"time\",\"speed\",\"movingSpeed\",\"fogColor\",\"fogDensity\",\"lowFrequencySpeed\"],d=[\"diffuseSampler\",\"noiseTexture\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"lava\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,o.UNLIT=this._unlit,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this.diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this.diffuseTexture.coordinatesIndex,this.diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this.diffuseTexture.getTextureMatrix())),this.noiseTexture&&this._activeEffect.setTexture(\"noiseTexture\",this.noiseTexture),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this._scaledDiffuse,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._lastTime+=n.getEngine().getDeltaTime(),this._activeEffect.setFloat(\"time\",this._lastTime*this.speed/1e3),this.fogColor||(this.fogColor=r.Color3.Black()),this._activeEffect.setColor3(\"fogColor\",this.fogColor),this._activeEffect.setFloat(\"fogDensity\",this.fogDensity),this._activeEffect.setFloat(\"lowFrequencySpeed\",this.lowFrequencySpeed),this._activeEffect.setFloat(\"movingSpeed\",this.movingSpeed),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),this.noiseTexture&&this.noiseTexture.animations&&this.noiseTexture.animations.length>0&&e.push(this.noiseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this.diffuseTexture&&this.diffuseTexture.dispose(),this.noiseTexture&&this.noiseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.LavaMaterial\",e},t.prototype.getClassName=function(){return\"LavaMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)()],t.prototype,\"noiseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"fogColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"speed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"movingSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"lowFrequencySpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"fogDensity\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"unlit\")],t.prototype,\"_unlit\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"unlit\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.LavaMaterial\"]=f,i.d(t,\"LavaMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform float alpha;\\nuniform vec3 shadowColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..1]\\n\\nvec4 color=vec4(shadowColor,(1.0-clamp(shadow,0.,1.))*alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.shadowOnlyPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.shadowOnlyVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.shadowColor=r.Color3.Black(),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return!0},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},Object.defineProperty(t.prototype,\"activeLight\",{get:function(){return this._activeLight},set:function(e){this._activeLight=e},enumerable:!0,configurable:!0}),t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(this._activeLight)for(var f=0,l=e.lightSources;f<l.length;f++){var u=l[f];if(u.shadowEnabled){if(this._activeLight===u)break;var c=e.lightSources.indexOf(this._activeLight);-1!==c&&(e.lightSources.splice(c,1),e.lightSources.splice(0,0,this._activeLight));break}}if(r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,1),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var d=new r.EffectFallbacks;n.FOG&&d.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,d,1),n.NUM_BONE_INFLUENCERS>0&&d.addCPUSkinningFallback(0,e);var p=[r.VertexBuffer.PositionKind];n.NORMAL&&p.push(r.VertexBuffer.NormalKind),r.MaterialHelper.PrepareAttributesForBones(p,e,n,d),r.MaterialHelper.PrepareAttributesForInstances(p,n);var h=n.toString(),v=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"alpha\",\"shadowColor\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\"],m=new Array,g=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:v,uniformBuffersNames:g,samplers:m,defines:n,maxSimultaneousLights:1}),t.setEffect(o.getEngine().createEffect(\"shadowOnly\",{attributes:p,uniformsNames:v,uniformBuffersNames:g,samplers:m,defines:h,fallbacks:d,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:1}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),this._activeEffect.setFloat(\"alpha\",this.alpha),this._activeEffect.setColor3(\"shadowColor\",this.shadowColor),r.MaterialHelper.BindEyePosition(a,n)),n.lightsEnabled&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,1),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.ShadowOnlyMaterial\",e},t.prototype.getClassName=function(){return\"ShadowOnlyMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.ShadowOnlyMaterial\"]=f,i.d(t,\"ShadowOnlyMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D mixMap1Sampler;\\nuniform vec2 vTextureInfos;\\n#ifdef MIXMAP2\\nuniform sampler2D mixMap2Sampler;\\n#endif\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform sampler2D diffuse4Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\nuniform vec2 diffuse4Infos;\\n#ifdef MIXMAP2\\nuniform sampler2D diffuse5Sampler;\\nuniform sampler2D diffuse6Sampler;\\nuniform sampler2D diffuse7Sampler;\\nuniform sampler2D diffuse8Sampler;\\nuniform vec2 diffuse5Infos;\\nuniform vec2 diffuse6Infos;\\nuniform vec2 diffuse7Infos;\\nuniform vec2 diffuse8Infos;\\n#endif\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 finalMixColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef MIXMAP2\\nvec4 mixColor2=vec4(1.,1.,1.,1.);\\n#endif\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nvec4 mixColor=texture2D(mixMap1Sampler,vTextureUV);\\n#include<depthPrePass>\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\nvec4 diffuse4Color=texture2D(diffuse4Sampler,vTextureUV*diffuse4Infos);\\ndiffuse1Color.rgb*=mixColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,mixColor.g);\\ndiffuse3Color.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse3Color.rgb,diffuse4Color.rgb,1.0-mixColor.a);\\n#ifdef MIXMAP2\\nmixColor=texture2D(mixMap2Sampler,vTextureUV);\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse5Color=texture2D(diffuse5Sampler,vTextureUV*diffuse5Infos);\\nvec4 diffuse6Color=texture2D(diffuse6Sampler,vTextureUV*diffuse6Infos);\\nvec4 diffuse7Color=texture2D(diffuse7Sampler,vTextureUV*diffuse7Infos);\\nvec4 diffuse8Color=texture2D(diffuse8Sampler,vTextureUV*diffuse8Infos);\\ndiffuse5Color.rgb=mix(finalMixColor.rgb,diffuse5Color.rgb,mixColor.r);\\ndiffuse6Color.rgb=mix(diffuse5Color.rgb,diffuse6Color.rgb,mixColor.g);\\ndiffuse7Color.rgb=mix(diffuse6Color.rgb,diffuse7Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse7Color.rgb,diffuse8Color.rgb,1.0-mixColor.a);\\n#endif\\n#endif\\n#ifdef VERTEXCOLOR\\nfinalMixColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*finalMixColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.mixPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.mixVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.MIXMAP2=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(0,0,0),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(o.texturesEnabled){if(!this._mixTexture1||!this._mixTexture1.isReady())return!1;if(n._needUVs=!0,r.MaterialFlags.DiffuseTextureEnabled){if(!this._diffuseTexture1||!this._diffuseTexture1.isReady())return!1;if(n.DIFFUSE=!0,!this._diffuseTexture2||!this._diffuseTexture2.isReady())return!1;if(!this._diffuseTexture3||!this._diffuseTexture3.isReady())return!1;if(!this._diffuseTexture4||!this._diffuseTexture4.isReady())return!1;if(this._mixTexture2){if(!this._mixTexture2.isReady())return!1;if(n.MIXMAP2=!0,!this._diffuseTexture5||!this._diffuseTexture5.isReady())return!1;if(!this._diffuseTexture6||!this._diffuseTexture6.isReady())return!1;if(!this._diffuseTexture7||!this._diffuseTexture7.isReady())return!1;if(!this._diffuseTexture8||!this._diffuseTexture8.isReady())return!1}}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vTextureInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"textureMatrix\",\"diffuse1Infos\",\"diffuse2Infos\",\"diffuse3Infos\",\"diffuse4Infos\",\"diffuse5Infos\",\"diffuse6Infos\",\"diffuse7Infos\",\"diffuse8Infos\"],d=[\"mixMap1Sampler\",\"mixMap2Sampler\",\"diffuse1Sampler\",\"diffuse2Sampler\",\"diffuse3Sampler\",\"diffuse4Sampler\",\"diffuse5Sampler\",\"diffuse6Sampler\",\"diffuse7Sampler\",\"diffuse8Sampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"mix\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._mixTexture1&&(this._activeEffect.setTexture(\"mixMap1Sampler\",this._mixTexture1),this._activeEffect.setFloat2(\"vTextureInfos\",this._mixTexture1.coordinatesIndex,this._mixTexture1.level),this._activeEffect.setMatrix(\"textureMatrix\",this._mixTexture1.getTextureMatrix()),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture1&&(this._activeEffect.setTexture(\"diffuse1Sampler\",this._diffuseTexture1),this._activeEffect.setFloat2(\"diffuse1Infos\",this._diffuseTexture1.uScale,this._diffuseTexture1.vScale)),this._diffuseTexture2&&(this._activeEffect.setTexture(\"diffuse2Sampler\",this._diffuseTexture2),this._activeEffect.setFloat2(\"diffuse2Infos\",this._diffuseTexture2.uScale,this._diffuseTexture2.vScale)),this._diffuseTexture3&&(this._activeEffect.setTexture(\"diffuse3Sampler\",this._diffuseTexture3),this._activeEffect.setFloat2(\"diffuse3Infos\",this._diffuseTexture3.uScale,this._diffuseTexture3.vScale)),this._diffuseTexture4&&(this._activeEffect.setTexture(\"diffuse4Sampler\",this._diffuseTexture4),this._activeEffect.setFloat2(\"diffuse4Infos\",this._diffuseTexture4.uScale,this._diffuseTexture4.vScale)))),this._mixTexture2&&(this._activeEffect.setTexture(\"mixMap2Sampler\",this._mixTexture2),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture5&&(this._activeEffect.setTexture(\"diffuse5Sampler\",this._diffuseTexture5),this._activeEffect.setFloat2(\"diffuse5Infos\",this._diffuseTexture5.uScale,this._diffuseTexture5.vScale)),this._diffuseTexture6&&(this._activeEffect.setTexture(\"diffuse6Sampler\",this._diffuseTexture6),this._activeEffect.setFloat2(\"diffuse6Infos\",this._diffuseTexture6.uScale,this._diffuseTexture6.vScale)),this._diffuseTexture7&&(this._activeEffect.setTexture(\"diffuse7Sampler\",this._diffuseTexture7),this._activeEffect.setFloat2(\"diffuse7Infos\",this._diffuseTexture7.uScale,this._diffuseTexture7.vScale)),this._diffuseTexture8&&(this._activeEffect.setTexture(\"diffuse8Sampler\",this._diffuseTexture8),this._activeEffect.setFloat2(\"diffuse8Infos\",this._diffuseTexture8.uScale,this._diffuseTexture8.vScale)))),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._mixTexture1&&this._mixTexture1.animations&&this._mixTexture1.animations.length>0&&e.push(this._mixTexture1),this._mixTexture2&&this._mixTexture2.animations&&this._mixTexture2.animations.length>0&&e.push(this._mixTexture2),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._mixTexture1&&t.push(this._mixTexture1),this._diffuseTexture1&&t.push(this._diffuseTexture1),this._diffuseTexture2&&t.push(this._diffuseTexture2),this._diffuseTexture3&&t.push(this._diffuseTexture3),this._diffuseTexture4&&t.push(this._diffuseTexture4),this._mixTexture2&&t.push(this._mixTexture2),this._diffuseTexture5&&t.push(this._diffuseTexture5),this._diffuseTexture6&&t.push(this._diffuseTexture6),this._diffuseTexture7&&t.push(this._diffuseTexture7),this._diffuseTexture8&&t.push(this._diffuseTexture8),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._mixTexture1===t||(this._diffuseTexture1===t||(this._diffuseTexture2===t||(this._diffuseTexture3===t||(this._diffuseTexture4===t||(this._mixTexture2===t||(this._diffuseTexture5===t||(this._diffuseTexture6===t||(this._diffuseTexture7===t||this._diffuseTexture8===t)))))))))},t.prototype.dispose=function(t){this._mixTexture1&&this._mixTexture1.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.MixMaterial\",e},t.prototype.getClassName=function(){return\"MixMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture1\")],t.prototype,\"_mixTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture2\")],t.prototype,\"_mixTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture3\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")],t.prototype,\"_diffuseTexture4\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture4\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture5\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture5\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture6\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture6\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture7\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture7\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")],t.prototype,\"_diffuseTexture8\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture8\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.MixMaterial\"]=f,i.d(t,\"MixMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef LIGHTING\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef NORMAL\\nbaseColor=mix(baseColor,vec4(vNormalW,1.0),0.5);\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef LIGHTING\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n#else\\nvec3 finalDiffuse=baseColor.rgb;\\n#endif\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n}\";r.Effect.ShadersStore.normalPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.normalVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.LIGHT0=!1,t.LIGHT1=!1,t.LIGHT2=!1,t.LIGHT3=!1,t.SPOTLIGHT0=!1,t.SPOTLIGHT1=!1,t.SPOTLIGHT2=!1,t.SPOTLIGHT3=!1,t.HEMILIGHT0=!1,t.HEMILIGHT1=!1,t.HEMILIGHT2=!1,t.HEMILIGHT3=!1,t.DIRLIGHT0=!1,t.DIRLIGHT1=!1,t.DIRLIGHT2=!1,t.DIRLIGHT3=!1,t.POINTLIGHT0=!1,t.POINTLIGHT1=!1,t.POINTLIGHT2=!1,t.POINTLIGHT3=!1,t.SHADOW0=!1,t.SHADOW1=!1,t.SHADOW2=!1,t.SHADOW3=!1,t.SHADOWS=!1,t.SHADOWESM0=!1,t.SHADOWESM1=!1,t.SHADOWESM2=!1,t.SHADOWESM3=!1,t.SHADOWPOISSON0=!1,t.SHADOWPOISSON1=!1,t.SHADOWPOISSON2=!1,t.SHADOWPOISSON3=!1,t.SHADOWPCF0=!1,t.SHADOWPCF1=!1,t.SHADOWPCF2=!1,t.SHADOWPCF3=!1,t.SHADOWPCSS0=!1,t.SHADOWPCSS1=!1,t.SHADOWPCSS2=!1,t.SHADOWPCSS3=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.LIGHTING=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaBlendingForMesh=function(e){return this.needAlphaBlending()||e.visibility<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(!this.checkReadyOnEveryCall&&t.effect&&this._renderId===o.getRenderId())return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=!0,r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),n.LIGHTING=!this._disableLighting,r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e);var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(\"normal\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},a),n)}return!(!t.effect||!t.effect.isReady())&&(this._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this.diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this.diffuseTexture.coordinatesIndex,this.diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this.diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this.diffuseTexture&&this.diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone(function(){return new t(e,i.getScene())},this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.NormalMaterial\",e},t.prototype.getClassName=function(){return\"NormalMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse(function(){return new t(e.name,i)},e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.NormalMaterial\"]=f,i.d(t,\"NormalMaterial\",function(){return f})},function(e,t,i){\"use strict\";i.r(t);var n=i(1),r=i(0),o=function(){},a=function(){},s=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.CustomParts=new a,n.customShaderNameResolve=n.Builder,n.FragmentShader=r.Effect.ShadersStore.defaultPixelShader,n.VertexShader=r.Effect.ShadersStore.defaultVertexShader,n}return Object(n.b)(t,e),t.prototype.AttachAfterBind=function(e,t){for(var i in this._newUniformInstances){\"vec2\"==(n=i.toString().split(\"-\"))[0]?t.setVector2(n[1],this._newUniformInstances[i]):\"vec3\"==n[0]?t.setVector3(n[1],this._newUniformInstances[i]):\"vec4\"==n[0]?t.setVector4(n[1],this._newUniformInstances[i]):\"mat4\"==n[0]?t.setMatrix(n[1],this._newUniformInstances[i]):\"float\"==n[0]&&t.setFloat(n[1],this._newUniformInstances[i])}for(var i in this._newSamplerInstances){var n;\"sampler2D\"==(n=i.toString().split(\"-\"))[0]&&this._newSamplerInstances[i].isReady&&this._newSamplerInstances[i].isReady()&&t.setTexture(n[1],this._newSamplerInstances[i])}},t.prototype.ReviewUniform=function(e,t){if(\"uniform\"==e)for(var i in this._newUniforms)-1==this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);if(\"sampler\"==e)for(var i in this._newUniforms)-1!=this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);return t},t.prototype.Builder=function(e,i,n,o,a){var s=this;if(this._isCreatedShader)return this._createdShaderName;this._isCreatedShader=!1,t.ShaderIndexer++;var f=\"custom_\"+t.ShaderIndexer;this.ReviewUniform(\"uniform\",i),this.ReviewUniform(\"sampler\",o);var l=this._afterBind.bind(this);return this._afterBind=function(e,t){if(t){s.AttachAfterBind(e,t);try{l(e,t)}catch(t){}}},r.Effect.ShadersStore[f+\"VertexShader\"]=this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\",this.CustomParts.Vertex_Begin?this.CustomParts.Vertex_Begin:\"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Vertex_Definitions?this.CustomParts.Vertex_Definitions:\"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\",this.CustomParts.Vertex_MainBegin?this.CustomParts.Vertex_MainBegin:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\",this.CustomParts.Vertex_Before_PositionUpdated?this.CustomParts.Vertex_Before_PositionUpdated:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\",this.CustomParts.Vertex_Before_NormalUpdated?this.CustomParts.Vertex_Before_NormalUpdated:\"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\",this.CustomParts.Vertex_MainEnd?this.CustomParts.Vertex_MainEnd:\"\"),r.Effect.ShadersStore[f+\"PixelShader\"]=this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\",this.CustomParts.Fragment_Begin?this.CustomParts.Fragment_Begin:\"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\",this.CustomParts.Fragment_MainBegin?this.CustomParts.Fragment_MainBegin:\"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Fragment_Definitions?this.CustomParts.Fragment_Definitions:\"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\",this.CustomParts.Fragment_Custom_Diffuse?this.CustomParts.Fragment_Custom_Diffuse:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\",this.CustomParts.Fragment_Custom_Alpha?this.CustomParts.Fragment_Custom_Alpha:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\",this.CustomParts.Fragment_Before_Lights?this.CustomParts.Fragment_Before_Lights:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\",this.CustomParts.Fragment_Before_Fog?this.CustomParts.Fragment_Before_Fog:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\",this.CustomParts.Fragment_Before_FragColor?this.CustomParts.Fragment_Before_FragColor:\"\"),this._isCreatedShader=!0,this._createdShaderName=f,f},t.prototype.AddUniform=function(e,t,i){return this._customUniform||(this._customUniform=new Array,this._newUniforms=new Array,this._newSamplerInstances=new Array,this._newUniformInstances=new Array),i&&(t.indexOf(\"sampler\"),this._newUniformInstances[t+\"-\"+e]=i),this._customUniform.push(\"uniform \"+t+\" \"+e+\";\"),this._newUniforms.push(e),this},t.prototype.Fragment_Begin=function(e){return this.CustomParts.Fragment_Begin=e,this},t.prototype.Fragment_Definitions=function(e){return this.CustomParts.Fragment_Definitions=e,this},t.prototype.Fragment_MainBegin=function(e){return this.CustomParts.Fragment_MainBegin=e,this},t.prototype.Fragment_Custom_Diffuse=function(e){return this.CustomParts.Fragment_Custom_Diffuse=e.replace(\"result\",\"diffuseColor\"),this},t.prototype.Fragment_Custom_Alpha=function(e){return this.CustomParts.Fragment_Custom_Alpha=e.replace(\"result\",\"alpha\"),this},t.prototype.Fragment_Before_Lights=function(e){return this.CustomParts.Fragment_Before_Lights=e,this},t.prototype.Fragment_Before_Fog=function(e){return this.CustomParts.Fragment_Before_Fog=e,this},t.prototype.Fragment_Before_FragColor=function(e){return this.CustomParts.Fragment_Before_FragColor=e.replace(\"result\",\"color\"),this},t.prototype.Vertex_Begin=function(e){return this.CustomParts.Vertex_Begin=e,this},t.prototype.Vertex_Definitions=function(e){return this.CustomParts.Vertex_Definitions=e,this},t.prototype.Vertex_MainBegin=function(e){return this.CustomParts.Vertex_MainBegin=e,this},t.prototype.Vertex_Before_PositionUpdated=function(e){return this.CustomParts.Vertex_Before_PositionUpdated=e.replace(\"result\",\"positionUpdated\"),this},t.prototype.Vertex_Before_NormalUpdated=function(e){return this.CustomParts.Vertex_Before_NormalUpdated=e.replace(\"result\",\"normalUpdated\"),this},t.prototype.Vertex_MainEnd=function(e){return this.CustomParts.Vertex_MainEnd=e,this},t.ShaderIndexer=1,t}(r.StandardMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.CustomMaterial\"]=s;var f=function(){},l=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.CustomParts=new f,n.customShaderNameResolve=n.Builder,n.FragmentShader=r.Effect.ShadersStore.pbrPixelShader,n.VertexShader=r.Effect.ShadersStore.pbrVertexShader,n}return Object(n.b)(t,e),t.prototype.AttachAfterBind=function(e,t){for(var i in this._newUniformInstances){\"vec2\"==(n=i.toString().split(\"-\"))[0]?t.setVector2(n[1],this._newUniformInstances[i]):\"vec3\"==n[0]?t.setVector3(n[1],this._newUniformInstances[i]):\"vec4\"==n[0]?t.setVector4(n[1],this._newUniformInstances[i]):\"mat4\"==n[0]?t.setMatrix(n[1],this._newUniformInstances[i]):\"float\"==n[0]&&t.setFloat(n[1],this._newUniformInstances[i])}for(var i in this._newSamplerInstances){var n;\"sampler2D\"==(n=i.toString().split(\"-\"))[0]&&this._newSamplerInstances[i].isReady&&this._newSamplerInstances[i].isReady()&&t.setTexture(n[1],this._newSamplerInstances[i])}},t.prototype.ReviewUniform=function(e,t){if(\"uniform\"==e)for(var i in this._newUniforms)-1==this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);if(\"sampler\"==e)for(var i in this._newUniforms)-1!=this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);return t},t.prototype.Builder=function(e,i,n,o,a){var s=this;if(this._isCreatedShader)return this._createdShaderName;this._isCreatedShader=!1,t.ShaderIndexer++;var f=\"custom_\"+t.ShaderIndexer;this.ReviewUniform(\"uniform\",i),this.ReviewUniform(\"sampler\",o);var l=this._afterBind.bind(this);return this._afterBind=function(e,t){if(t){s.AttachAfterBind(e,t);try{l(e,t)}catch(t){}}},r.Effect.ShadersStore[f+\"VertexShader\"]=this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\",this.CustomParts.Vertex_Begin?this.CustomParts.Vertex_Begin:\"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Vertex_Definitions?this.CustomParts.Vertex_Definitions:\"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\",this.CustomParts.Vertex_MainBegin?this.CustomParts.Vertex_MainBegin:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\",this.CustomParts.Vertex_Before_PositionUpdated?this.CustomParts.Vertex_Before_PositionUpdated:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\",this.CustomParts.Vertex_Before_NormalUpdated?this.CustomParts.Vertex_Before_NormalUpdated:\"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\",this.CustomParts.Vertex_MainEnd?this.CustomParts.Vertex_MainEnd:\"\"),r.Effect.ShadersStore[f+\"PixelShader\"]=this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\",this.CustomParts.Fragment_Begin?this.CustomParts.Fragment_Begin:\"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\",this.CustomParts.Fragment_MainBegin?this.CustomParts.Fragment_MainBegin:\"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Fragment_Definitions?this.CustomParts.Fragment_Definitions:\"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALBEDO\",this.CustomParts.Fragment_Custom_Albedo?this.CustomParts.Fragment_Custom_Albedo:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\",this.CustomParts.Fragment_Custom_Alpha?this.CustomParts.Fragment_Custom_Alpha:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\",this.CustomParts.Fragment_Before_Lights?this.CustomParts.Fragment_Before_Lights:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_METALLICROUGHNESS\",this.CustomParts.Fragment_Custom_MetallicRoughness?this.CustomParts.Fragment_Custom_MetallicRoughness:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_MICROSURFACE\",this.CustomParts.Fragment_Custom_MicroSurface?this.CustomParts.Fragment_Custom_MicroSurface:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\",this.CustomParts.Fragment_Before_Fog?this.CustomParts.Fragment_Before_Fog:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\",this.CustomParts.Fragment_Before_FragColor?this.CustomParts.Fragment_Before_FragColor:\"\"),this._isCreatedShader=!0,this._createdShaderName=f,f},t.prototype.AddUniform=function(e,t,i){return this._customUniform||(this._customUniform=new Array,this._newUniforms=new Array,this._newSamplerInstances=new Array,this._newUniformInstances=new Array),i&&(t.indexOf(\"sampler\"),this._newUniformInstances[t+\"-\"+e]=i),this._customUniform.push(\"uniform \"+t+\" \"+e+\";\"),this._newUniforms.push(e),this},t.prototype.Fragment_Begin=function(e){return this.CustomParts.Fragment_Begin=e,this},t.prototype.Fragment_Definitions=function(e){return this.CustomParts.Fragment_Definitions=e,this},t.prototype.Fragment_MainBegin=function(e){return this.CustomParts.Fragment_MainBegin=e,this},t.prototype.Fragment_Custom_Albedo=function(e){return this.CustomParts.Fragment_Custom_Albedo=e.replace(\"result\",\"surfaceAlbedo\"),this},t.prototype.Fragment_Custom_Alpha=function(e){return this.CustomParts.Fragment_Custom_Alpha=e.replace(\"result\",\"alpha\"),this},t.prototype.Fragment_Before_Lights=function(e){return this.CustomParts.Fragment_Before_Lights=e,this},t.prototype.Fragment_Custom_MetallicRoughness=function(e){return this.CustomParts.Fragment_Custom_MetallicRoughness=e,this},t.prototype.Fragment_Custom_MicroSurface=function(e){return this.CustomParts.Fragment_Custom_MicroSurface=e,this},t.prototype.Fragment_Before_Fog=function(e){return this.CustomParts.Fragment_Before_Fog=e,this},t.prototype.Fragment_Before_FragColor=function(e){return this.CustomParts.Fragment_Before_FragColor=e.replace(\"result\",\"color\"),this},t.prototype.Vertex_Begin=function(e){return this.CustomParts.Vertex_Begin=e,this},t.prototype.Vertex_Definitions=function(e){return this.CustomParts.Vertex_Definitions=e,this},t.prototype.Vertex_MainBegin=function(e){return this.CustomParts.Vertex_MainBegin=e,this},t.prototype.Vertex_Before_PositionUpdated=function(e){return this.CustomParts.Vertex_Before_PositionUpdated=e.replace(\"result\",\"positionUpdated\"),this},t.prototype.Vertex_Before_NormalUpdated=function(e){return this.CustomParts.Vertex_Before_NormalUpdated=e.replace(\"result\",\"normalUpdated\"),this},t.prototype.Vertex_MainEnd=function(e){return this.CustomParts.Vertex_MainEnd=e,this},t.ShaderIndexer=1,t}(r.PBRMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.PBRCustomMaterial\"]=l,i.d(t,\"CustomShaderStructure\",function(){return o}),i.d(t,\"ShaderSpecialParts\",function(){return a}),i.d(t,\"CustomMaterial\",function(){return s}),i.d(t,\"ShaderAlebdoParts\",function(){return f}),i.d(t,\"PBRCustomMaterial\",function(){return l})},function(e,t,i){\"use strict\";i.r(t);var n=i(10);i.d(t,\"CellMaterial\",function(){return n.CellMaterial});var r=i(17);i.d(t,\"CustomShaderStructure\",function(){return r.CustomShaderStructure}),i.d(t,\"ShaderSpecialParts\",function(){return r.ShaderSpecialParts}),i.d(t,\"CustomMaterial\",function(){return r.CustomMaterial}),i.d(t,\"ShaderAlebdoParts\",function(){return r.ShaderAlebdoParts}),i.d(t,\"PBRCustomMaterial\",function(){return r.PBRCustomMaterial});var o=i(5);i.d(t,\"FireMaterial\",function(){return o.FireMaterial});var a=i(7);i.d(t,\"FurMaterial\",function(){return a.FurMaterial});var s=i(9);i.d(t,\"GradientMaterial\",function(){return s.GradientMaterial});var f=i(11);i.d(t,\"GridMaterial\",function(){return f.GridMaterial});var l=i(13);i.d(t,\"LavaMaterial\",function(){return l.LavaMaterial});var u=i(15);i.d(t,\"MixMaterial\",function(){return u.MixMaterial});var c=i(16);i.d(t,\"NormalMaterial\",function(){return c.NormalMaterial});var d=i(14);i.d(t,\"ShadowOnlyMaterial\",function(){return d.ShadowOnlyMaterial});var p=i(12);i.d(t,\"SimpleMaterial\",function(){return p.SimpleMaterial});var h=i(4);i.d(t,\"SkyMaterial\",function(){return h.SkyMaterial});var v=i(8);i.d(t,\"TerrainMaterial\",function(){return v.TerrainMaterial});var m=i(6);i.d(t,\"TriPlanarMaterial\",function(){return m.TriPlanarMaterial});var g=i(3);i.d(t,\"WaterMaterial\",function(){return g.WaterMaterial})},function(e,t,i){\"use strict\";i.r(t),function(e){var n=i(18);i.d(t,\"CellMaterial\",function(){return n.CellMaterial}),i.d(t,\"CustomShaderStructure\",function(){return n.CustomShaderStructure}),i.d(t,\"ShaderSpecialParts\",function(){return n.ShaderSpecialParts}),i.d(t,\"CustomMaterial\",function(){return n.CustomMaterial}),i.d(t,\"ShaderAlebdoParts\",function(){return n.ShaderAlebdoParts}),i.d(t,\"PBRCustomMaterial\",function(){return n.PBRCustomMaterial}),i.d(t,\"FireMaterial\",function(){return n.FireMaterial}),i.d(t,\"FurMaterial\",function(){return n.FurMaterial}),i.d(t,\"GradientMaterial\",function(){return n.GradientMaterial}),i.d(t,\"GridMaterial\",function(){return n.GridMaterial}),i.d(t,\"LavaMaterial\",function(){return n.LavaMaterial}),i.d(t,\"MixMaterial\",function(){return n.MixMaterial}),i.d(t,\"NormalMaterial\",function(){return n.NormalMaterial}),i.d(t,\"ShadowOnlyMaterial\",function(){return n.ShadowOnlyMaterial}),i.d(t,\"SimpleMaterial\",function(){return n.SimpleMaterial}),i.d(t,\"SkyMaterial\",function(){return n.SkyMaterial}),i.d(t,\"TerrainMaterial\",function(){return n.TerrainMaterial}),i.d(t,\"TriPlanarMaterial\",function(){return n.TriPlanarMaterial}),i.d(t,\"WaterMaterial\",function(){return n.WaterMaterial});var r=void 0!==e?e:\"undefined\"!=typeof window?window:void 0;if(void 0!==r)for(var o in r.BABYLON=r.BABYLON||{},n)r.BABYLON[o]=n[o]}.call(this,i(2))}])});","//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar memoize = _interopDefault(require('fast-memoize'));\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar styles = {\r\n    top: {\r\n        width: '100%',\r\n        height: '10px',\r\n        top: '-5px',\r\n        left: '0px',\r\n        cursor: 'row-resize',\r\n    },\r\n    right: {\r\n        width: '10px',\r\n        height: '100%',\r\n        top: '0px',\r\n        right: '-5px',\r\n        cursor: 'col-resize',\r\n    },\r\n    bottom: {\r\n        width: '100%',\r\n        height: '10px',\r\n        bottom: '-5px',\r\n        left: '0px',\r\n        cursor: 'row-resize',\r\n    },\r\n    left: {\r\n        width: '10px',\r\n        height: '100%',\r\n        top: '0px',\r\n        left: '-5px',\r\n        cursor: 'col-resize',\r\n    },\r\n    topRight: {\r\n        width: '20px',\r\n        height: '20px',\r\n        position: 'absolute',\r\n        right: '-10px',\r\n        top: '-10px',\r\n        cursor: 'ne-resize',\r\n    },\r\n    bottomRight: {\r\n        width: '20px',\r\n        height: '20px',\r\n        position: 'absolute',\r\n        right: '-10px',\r\n        bottom: '-10px',\r\n        cursor: 'se-resize',\r\n    },\r\n    bottomLeft: {\r\n        width: '20px',\r\n        height: '20px',\r\n        position: 'absolute',\r\n        left: '-10px',\r\n        bottom: '-10px',\r\n        cursor: 'sw-resize',\r\n    },\r\n    topLeft: {\r\n        width: '20px',\r\n        height: '20px',\r\n        position: 'absolute',\r\n        left: '-10px',\r\n        top: '-10px',\r\n        cursor: 'nw-resize',\r\n    },\r\n};\r\nfunction Resizer(props) {\r\n    return (React.createElement(\"div\", { className: props.className || '', style: __assign({ position: 'absolute', userSelect: 'none' }, styles[props.direction], (props.replaceStyles || {})), onMouseDown: function (e) {\r\n            props.onResizeStart(e, props.direction);\r\n        }, onTouchStart: function (e) {\r\n            props.onResizeStart(e, props.direction);\r\n        } }, props.children));\r\n}\n\nvar DEFAULT_SIZE = {\r\n    width: 'auto',\r\n    height: 'auto',\r\n};\r\nvar clamp = memoize(function (n, min, max) { return Math.max(Math.min(n, max), min); });\r\nvar snap = memoize(function (n, size) { return Math.round(n / size) * size; });\r\nvar hasDirection = memoize(function (dir, target) { return new RegExp(dir, 'i').test(target); });\r\nvar findClosestSnap = memoize(function (n, snapArray, snapGap) {\r\n    if (snapGap === void 0) { snapGap = 0; }\r\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\r\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\r\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\r\n});\r\nvar endsWith = memoize(function (str, searchStr) {\r\n    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\r\n});\r\nvar getStringSize = memoize(function (n) {\r\n    n = n.toString();\r\n    if (n === 'auto') {\r\n        return n;\r\n    }\r\n    if (endsWith(n, 'px')) {\r\n        return n;\r\n    }\r\n    if (endsWith(n, '%')) {\r\n        return n;\r\n    }\r\n    if (endsWith(n, 'vh')) {\r\n        return n;\r\n    }\r\n    if (endsWith(n, 'vw')) {\r\n        return n;\r\n    }\r\n    if (endsWith(n, 'vmax')) {\r\n        return n;\r\n    }\r\n    if (endsWith(n, 'vmin')) {\r\n        return n;\r\n    }\r\n    return n + \"px\";\r\n});\r\nvar getPixelSize = function (size, parentSize) {\r\n    if (size && typeof size === 'string') {\r\n        if (endsWith(size, '%')) {\r\n            var ratio = Number(size.replace('%', '')) / 100;\r\n            return parentSize * ratio;\r\n        }\r\n        else if (endsWith(size, 'vw')) {\r\n            var ratio = Number(size.replace('vw', '')) / 100;\r\n            return window.innerWidth * ratio;\r\n        }\r\n        else if (endsWith(size, 'vh')) {\r\n            var ratio = Number(size.replace('vh', '')) / 100;\r\n            return window.innerHeight * ratio;\r\n        }\r\n    }\r\n    return size;\r\n};\r\nvar calculateNewMax = memoize(function (parentSize, maxWidth, maxHeight, minWidth, minHeight) {\r\n    maxWidth = getPixelSize(maxWidth, parentSize.width);\r\n    maxHeight = getPixelSize(maxHeight, parentSize.height);\r\n    minWidth = getPixelSize(minWidth, parentSize.width);\r\n    minHeight = getPixelSize(minHeight, parentSize.height);\r\n    return {\r\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\r\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\r\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\r\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\r\n    };\r\n});\r\nvar definedProps = [\r\n    'style',\r\n    'className',\r\n    'grid',\r\n    'snap',\r\n    'bounds',\r\n    'size',\r\n    'defaultSize',\r\n    'minWidth',\r\n    'minHeight',\r\n    'maxWidth',\r\n    'maxHeight',\r\n    'lockAspectRatio',\r\n    'lockAspectRatioExtraWidth',\r\n    'lockAspectRatioExtraHeight',\r\n    'enable',\r\n    'handleStyles',\r\n    'handleClasses',\r\n    'handleWrapperStyle',\r\n    'handleWrapperClass',\r\n    'children',\r\n    'onResizeStart',\r\n    'onResize',\r\n    'onResizeStop',\r\n    'handleComponent',\r\n    'scale',\r\n    'resizeRatio',\r\n    'snapGap',\r\n];\r\n// HACK: This class is used to calculate % size.\r\nvar baseClassName = '__resizable_base__';\r\nvar Resizable = /** @class */ (function (_super) {\r\n    __extends(Resizable, _super);\r\n    function Resizable(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.ratio = 1;\r\n        _this.resizable = null;\r\n        // For parent boundary\r\n        _this.parentLeft = 0;\r\n        _this.parentTop = 0;\r\n        // For boundary\r\n        _this.resizableLeft = 0;\r\n        _this.resizableTop = 0;\r\n        // For target boundary\r\n        _this.targetLeft = 0;\r\n        _this.targetTop = 0;\r\n        _this.state = {\r\n            isResizing: false,\r\n            resizeCursor: 'auto',\r\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\r\n                ? 'auto'\r\n                : _this.propsSize && _this.propsSize.width,\r\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\r\n                ? 'auto'\r\n                : _this.propsSize && _this.propsSize.height,\r\n            direction: 'right',\r\n            original: {\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0,\r\n            },\r\n        };\r\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\r\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\r\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\r\n        get: function () {\r\n            if (!this.resizable) {\r\n                return null;\r\n            }\r\n            return this.resizable.parentNode;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\r\n        get: function () {\r\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Resizable.prototype, \"base\", {\r\n        get: function () {\r\n            var parent = this.parentNode;\r\n            if (!parent) {\r\n                return undefined;\r\n            }\r\n            var children = [].slice.call(parent.children);\r\n            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\r\n                var n = children_1[_i];\r\n                if (n instanceof HTMLElement) {\r\n                    if (n.classList.contains(baseClassName)) {\r\n                        return n;\r\n                    }\r\n                }\r\n            }\r\n            return undefined;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Resizable.prototype, \"size\", {\r\n        get: function () {\r\n            var width = 0;\r\n            var height = 0;\r\n            if (typeof window !== 'undefined' && this.resizable) {\r\n                var orgWidth = this.resizable.offsetWidth;\r\n                var orgHeight = this.resizable.offsetHeight;\r\n                // HACK: Set position `relative` to get parent size.\r\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\r\n                var orgPosition = this.resizable.style.position;\r\n                if (orgPosition !== 'relative') {\r\n                    this.resizable.style.position = 'relative';\r\n                }\r\n                // INFO: Use original width or height if set auto.\r\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\r\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\r\n                // Restore original position\r\n                this.resizable.style.position = orgPosition;\r\n            }\r\n            return { width: width, height: height };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\r\n        get: function () {\r\n            var _this = this;\r\n            var size = this.props.size;\r\n            var getSize = function (key) {\r\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\r\n                    return 'auto';\r\n                }\r\n                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {\r\n                    if (endsWith(_this.state[key].toString(), '%')) {\r\n                        return _this.state[key].toString();\r\n                    }\r\n                    var parentSize = _this.getParentSize();\r\n                    var value = Number(_this.state[key].toString().replace('px', ''));\r\n                    var percent = (value / parentSize[key]) * 100;\r\n                    return percent + \"%\";\r\n                }\r\n                return getStringSize(_this.state[key]);\r\n            };\r\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\r\n                ? getStringSize(size.width)\r\n                : getSize('width');\r\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\r\n                ? getStringSize(size.height)\r\n                : getSize('height');\r\n            return { width: width, height: height };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Resizable.prototype.getParentSize = function () {\r\n        if (!this.base || !this.parentNode) {\r\n            return { width: window.innerWidth, height: window.innerHeight };\r\n        }\r\n        // INFO: To calculate parent width with flex layout\r\n        var wrapChanged = false;\r\n        var wrap = this.parentNode.style.flexWrap;\r\n        var minWidth = this.base.style.minWidth;\r\n        if (wrap !== 'wrap') {\r\n            wrapChanged = true;\r\n            this.parentNode.style.flexWrap = 'wrap';\r\n            // HACK: Use relative to get parent padding size\r\n        }\r\n        this.base.style.position = 'relative';\r\n        this.base.style.minWidth = '100%';\r\n        var size = {\r\n            width: this.base.offsetWidth,\r\n            height: this.base.offsetHeight,\r\n        };\r\n        this.base.style.position = 'absolute';\r\n        if (wrapChanged) {\r\n            this.parentNode.style.flexWrap = wrap;\r\n        }\r\n        this.base.style.minWidth = minWidth;\r\n        return size;\r\n    };\r\n    Resizable.prototype.bindEvents = function () {\r\n        if (typeof window !== 'undefined') {\r\n            window.addEventListener('mouseup', this.onMouseUp);\r\n            window.addEventListener('mousemove', this.onMouseMove);\r\n            window.addEventListener('mouseleave', this.onMouseUp);\r\n            window.addEventListener('touchmove', this.onMouseMove);\r\n            window.addEventListener('touchend', this.onMouseUp);\r\n        }\r\n    };\r\n    Resizable.prototype.unbindEvents = function () {\r\n        if (typeof window !== 'undefined') {\r\n            window.removeEventListener('mouseup', this.onMouseUp);\r\n            window.removeEventListener('mousemove', this.onMouseMove);\r\n            window.removeEventListener('mouseleave', this.onMouseUp);\r\n            window.removeEventListener('touchmove', this.onMouseMove);\r\n            window.removeEventListener('touchend', this.onMouseUp);\r\n        }\r\n    };\r\n    Resizable.prototype.componentDidMount = function () {\r\n        this.setState({\r\n            width: this.state.width || this.size.width,\r\n            height: this.state.height || this.size.height,\r\n        });\r\n        var parent = this.parentNode;\r\n        if (!(parent instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n        if (this.base) {\r\n            return;\r\n        }\r\n        var element = document.createElement('div');\r\n        element.style.width = '100%';\r\n        element.style.height = '100%';\r\n        element.style.position = 'absolute';\r\n        element.style.transform = 'scale(0, 0)';\r\n        element.style.left = '0';\r\n        element.style.flex = '0';\r\n        if (element.classList) {\r\n            element.classList.add(baseClassName);\r\n        }\r\n        else {\r\n            element.className += baseClassName;\r\n        }\r\n        parent.appendChild(element);\r\n    };\r\n    Resizable.prototype.componentWillUnmount = function () {\r\n        if (typeof window !== 'undefined') {\r\n            this.unbindEvents();\r\n            var parent_1 = this.parentNode;\r\n            if (!this.base || !parent_1) {\r\n                return;\r\n            }\r\n            if (!(parent_1 instanceof HTMLElement) || !(this.base instanceof Node)) {\r\n                return;\r\n            }\r\n            parent_1.removeChild(this.base);\r\n        }\r\n    };\r\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\r\n        var propsSize = this.propsSize && this.propsSize[kind];\r\n        return this.state[kind] === 'auto' &&\r\n            this.state.original[kind] === newSize &&\r\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\r\n            ? 'auto'\r\n            : newSize;\r\n    };\r\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\r\n        if (this.props.bounds === 'parent') {\r\n            var parent_2 = this.parentNode;\r\n            if (parent_2 instanceof HTMLElement) {\r\n                var boundWidth = parent_2.offsetWidth + (this.parentLeft - this.resizableLeft);\r\n                var boundHeight = parent_2.offsetHeight + (this.parentTop - this.resizableTop);\r\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\r\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\r\n            }\r\n        }\r\n        else if (this.props.bounds === 'window') {\r\n            if (typeof window !== 'undefined') {\r\n                var boundWidth = window.innerWidth - this.resizableLeft;\r\n                var boundHeight = window.innerHeight - this.resizableTop;\r\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\r\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\r\n            }\r\n        }\r\n        else if (this.props.bounds instanceof HTMLElement) {\r\n            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\r\n            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\r\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\r\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\r\n        }\r\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\r\n    };\r\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\r\n        var scale = this.props.scale || 1;\r\n        var resizeRatio = this.props.resizeRatio || 1;\r\n        var _a = this.state, direction = _a.direction, original = _a.original;\r\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\r\n        var newWidth = original.width;\r\n        var newHeight = original.height;\r\n        var extraHeight = lockAspectRatioExtraHeight || 0;\r\n        var extraWidth = lockAspectRatioExtraWidth || 0;\r\n        if (hasDirection('right', direction)) {\r\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\r\n            if (lockAspectRatio) {\r\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\r\n            }\r\n        }\r\n        if (hasDirection('left', direction)) {\r\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\r\n            if (lockAspectRatio) {\r\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\r\n            }\r\n        }\r\n        if (hasDirection('bottom', direction)) {\r\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\r\n            if (lockAspectRatio) {\r\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\r\n            }\r\n        }\r\n        if (hasDirection('top', direction)) {\r\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\r\n            if (lockAspectRatio) {\r\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\r\n            }\r\n        }\r\n        return { newWidth: newWidth, newHeight: newHeight };\r\n    };\r\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\r\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\r\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\r\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\r\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\r\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\r\n        var extraHeight = lockAspectRatioExtraHeight || 0;\r\n        var extraWidth = lockAspectRatioExtraWidth || 0;\r\n        if (lockAspectRatio) {\r\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\r\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\r\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\r\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\r\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\r\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\r\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\r\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\r\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\r\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\r\n        }\r\n        else {\r\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\r\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\r\n        }\r\n        return { newWidth: newWidth, newHeight: newHeight };\r\n    };\r\n    Resizable.prototype.setBoundingClientRect = function () {\r\n        // For parent boundary\r\n        if (this.props.bounds === 'parent') {\r\n            var parent_3 = this.parentNode;\r\n            if (parent_3 instanceof HTMLElement) {\r\n                var parentRect = parent_3.getBoundingClientRect();\r\n                this.parentLeft = parentRect.left;\r\n                this.parentTop = parentRect.top;\r\n            }\r\n        }\r\n        // For target(html element) boundary\r\n        if (this.props.bounds instanceof HTMLElement) {\r\n            var targetRect = this.props.bounds.getBoundingClientRect();\r\n            this.targetLeft = targetRect.left;\r\n            this.targetTop = targetRect.top;\r\n        }\r\n        // For boundary\r\n        if (this.resizable) {\r\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;\r\n            this.resizableLeft = left;\r\n            this.resizableTop = top_1;\r\n        }\r\n    };\r\n    Resizable.prototype.onResizeStart = function (event, direction) {\r\n        var clientX = 0;\r\n        var clientY = 0;\r\n        if (event.nativeEvent instanceof MouseEvent) {\r\n            clientX = event.nativeEvent.clientX;\r\n            clientY = event.nativeEvent.clientY;\r\n            // When user click with right button the resize is stuck in resizing mode\r\n            // until users clicks again, dont continue if right click is used.\r\n            // HACK: MouseEvent does not have `which` from flow-bin v0.68.\r\n            if (event.nativeEvent.which === 3) {\r\n                return;\r\n            }\r\n        }\r\n        else if (event.nativeEvent instanceof TouchEvent) {\r\n            clientX = event.nativeEvent.touches[0].clientX;\r\n            clientY = event.nativeEvent.touches[0].clientY;\r\n        }\r\n        if (this.props.onResizeStart) {\r\n            if (this.resizable) {\r\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\r\n                if (startResize === false) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        // Fix #168\r\n        if (this.props.size) {\r\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\r\n                this.setState({ height: this.props.size.height });\r\n            }\r\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\r\n                this.setState({ width: this.props.size.width });\r\n            }\r\n        }\r\n        // For lockAspectRatio case\r\n        this.ratio =\r\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\r\n        // For boundary\r\n        this.setBoundingClientRect();\r\n        this.bindEvents();\r\n        this.setState({\r\n            original: {\r\n                x: clientX,\r\n                y: clientY,\r\n                width: this.size.width,\r\n                height: this.size.height,\r\n            },\r\n            isResizing: true,\r\n            resizeCursor: window.getComputedStyle(event.target).cursor || 'auto',\r\n            direction: direction,\r\n        });\r\n    };\r\n    Resizable.prototype.onMouseMove = function (event) {\r\n        if (!this.state.isResizing || !this.resizable) {\r\n            return;\r\n        }\r\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\r\n        var clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\r\n        var clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\r\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\r\n        var parentSize = this.getParentSize();\r\n        var max = calculateNewMax(parentSize, maxWidth, maxHeight, minWidth, minHeight);\r\n        maxWidth = max.maxWidth;\r\n        maxHeight = max.maxHeight;\r\n        minWidth = max.minWidth;\r\n        minHeight = max.minHeight;\r\n        // Calculate new size\r\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\r\n        // Calculate max size from boundary settings\r\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\r\n        // Calculate new size from aspect ratio\r\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\r\n        newWidth = newSize.newWidth;\r\n        newHeight = newSize.newHeight;\r\n        if (this.props.grid) {\r\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\r\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\r\n            var gap = this.props.snapGap || 0;\r\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\r\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\r\n        }\r\n        if (this.props.snap && this.props.snap.x) {\r\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\r\n        }\r\n        if (this.props.snap && this.props.snap.y) {\r\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\r\n        }\r\n        var delta = {\r\n            width: newWidth - original.width,\r\n            height: newHeight - original.height,\r\n        };\r\n        if (width && typeof width === 'string') {\r\n            if (endsWith(width, '%')) {\r\n                var percent = (newWidth / parentSize.width) * 100;\r\n                newWidth = percent + \"%\";\r\n            }\r\n            else if (endsWith(width, 'vw')) {\r\n                var vw = (newWidth / window.innerWidth) * 100;\r\n                newWidth = vw + \"vw\";\r\n            }\r\n            else if (endsWith(width, 'vh')) {\r\n                var vh = (newWidth / window.innerHeight) * 100;\r\n                newWidth = vh + \"vh\";\r\n            }\r\n        }\r\n        if (height && typeof height === 'string') {\r\n            if (endsWith(height, '%')) {\r\n                var percent = (newHeight / parentSize.height) * 100;\r\n                newHeight = percent + \"%\";\r\n            }\r\n            else if (endsWith(height, 'vw')) {\r\n                var vw = (newHeight / window.innerWidth) * 100;\r\n                newHeight = vw + \"vw\";\r\n            }\r\n            else if (endsWith(height, 'vh')) {\r\n                var vh = (newHeight / window.innerHeight) * 100;\r\n                newHeight = vh + \"vh\";\r\n            }\r\n        }\r\n        this.setState({\r\n            width: this.createSizeForCssProperty(newWidth, 'width'),\r\n            height: this.createSizeForCssProperty(newHeight, 'height'),\r\n        });\r\n        if (this.props.onResize) {\r\n            this.props.onResize(event, direction, this.resizable, delta);\r\n        }\r\n    };\r\n    Resizable.prototype.onMouseUp = function (event) {\r\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\r\n        if (!isResizing || !this.resizable) {\r\n            return;\r\n        }\r\n        var delta = {\r\n            width: this.size.width - original.width,\r\n            height: this.size.height - original.height,\r\n        };\r\n        if (this.props.onResizeStop) {\r\n            this.props.onResizeStop(event, direction, this.resizable, delta);\r\n        }\r\n        if (this.props.size) {\r\n            this.setState(this.props.size);\r\n        }\r\n        this.unbindEvents();\r\n        this.setState({ isResizing: false, resizeCursor: 'auto' });\r\n    };\r\n    Resizable.prototype.updateSize = function (size) {\r\n        this.setState({ width: size.width, height: size.height });\r\n    };\r\n    Resizable.prototype.renderResizer = function () {\r\n        var _this = this;\r\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\r\n        if (!enable) {\r\n            return null;\r\n        }\r\n        var resizers = Object.keys(enable).map(function (dir) {\r\n            if (enable[dir] !== false) {\r\n                return (React.createElement(Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\r\n            }\r\n            return null;\r\n        });\r\n        // #93 Wrap the resize box in span (will not break 100% width/height)\r\n        return (React.createElement(\"span\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\r\n    };\r\n    Resizable.prototype.render = function () {\r\n        var _this = this;\r\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\r\n            if (definedProps.indexOf(key) !== -1) {\r\n                return acc;\r\n            }\r\n            acc[key] = _this.props[key];\r\n            return acc;\r\n        }, {});\r\n        return (React.createElement(\"div\", __assign({ ref: function (c) {\r\n                if (c) {\r\n                    _this.resizable = c;\r\n                }\r\n            }, style: __assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style, this.sizeStyle, { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 }), className: this.props.className }, extendsProps),\r\n            this.state.isResizing && (React.createElement(\"div\", { style: {\r\n                    height: '100%',\r\n                    width: '100%',\r\n                    backgroundColor: 'rgba(0,0,0,0)',\r\n                    cursor: \"\" + (this.state.resizeCursor || 'auto'),\r\n                    opacity: 0,\r\n                    position: 'fixed',\r\n                    zIndex: 9999,\r\n                    top: '0',\r\n                    left: '0',\r\n                    bottom: '0',\r\n                    right: '0',\r\n                } })),\r\n            this.props.children,\r\n            this.renderResizer()));\r\n    };\r\n    Resizable.defaultProps = {\r\n        onResizeStart: function () { },\r\n        onResize: function () { },\r\n        onResizeStop: function () { },\r\n        enable: {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n            topRight: true,\r\n            bottomRight: true,\r\n            bottomLeft: true,\r\n            topLeft: true,\r\n        },\r\n        style: {},\r\n        grid: [1, 1],\r\n        lockAspectRatio: false,\r\n        lockAspectRatioExtraWidth: 0,\r\n        lockAspectRatioExtraHeight: 0,\r\n        scale: 1,\r\n        resizeRatio: 1,\r\n        snapGap: 0,\r\n    };\r\n    return Resizable;\r\n}(React.PureComponent));\n\nexports.Resizable = Resizable;\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"react\"),require(\"react-dom\")):\"function\"==typeof define&&define.amd?define([\"react\",\"react-dom\"],e):\"object\"==typeof exports?exports.ReactDraggable=e(require(\"react\"),require(\"react-dom\")):t.ReactDraggable=e(t.React,t.ReactDOM)}(window,function(t,e){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=4)}([function(t,e,n){t.exports=n(5)()},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){var r;\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var a=typeof r;if(\"string\"===a||\"number\"===a)t.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&t.push(i)}else if(\"object\"===a)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(\" \")}t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){var r=n(7),o=r.default,a=r.DraggableCore;t.exports=o,t.exports.default=o,t.exports.DraggableCore=a},function(t,e,n){\"use strict\";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,a,i){if(i!==r){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){\"use strict\";t.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(t,e,n){\"use strict\";n.r(e);var r=n(1),o=n.n(r),a=n(0),i=n.n(a),s=n(2),u=n.n(s),c=n(3),l=n.n(c);function f(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function p(t){return\"function\"==typeof t||\"[object Function]\"===Object.prototype.toString.call(t)}function d(t){return\"number\"==typeof t&&!isNaN(t)}function g(t){return parseInt(t,10)}function y(t,e,n){if(t[e])return new Error(\"Invalid prop \".concat(e,\" passed to \").concat(n,\" - do not set this, set it on the child.\"))}var h=[\"Moz\",\"Webkit\",\"O\",\"ms\"];function b(t,e){return e?\"\".concat(e).concat(function(t){for(var e=\"\",n=!0,r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):\"-\"===t[r]?n=!0:e+=t[r];return e}(t)):t}var m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"transform\";if(\"undefined\"==typeof window||void 0===window.document)return\"\";var e=window.document.documentElement.style;if(t in e)return\"\";for(var n=0;n<h.length;n++)if(b(t,h[n])in e)return h[n];return\"\"}();function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=\"\";function S(t,e){return O||(O=f([\"matches\",\"webkitMatchesSelector\",\"mozMatchesSelector\",\"msMatchesSelector\",\"oMatchesSelector\"],function(e){return p(t[e])})),!!p(t[O])&&t[O](e)}function D(t,e,n){var r=t;do{if(S(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function x(t,e,n){t&&(t.attachEvent?t.attachEvent(\"on\"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t[\"on\"+e]=n)}function P(t,e,n){t&&(t.detachEvent?t.detachEvent(\"on\"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t[\"on\"+e]=null)}function j(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=g(n.borderTopWidth),e+=g(n.borderBottomWidth)}function E(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=g(n.borderLeftWidth),e+=g(n.borderRightWidth)}function T(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=g(n.paddingTop),e-=g(n.paddingBottom)}function N(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=g(n.paddingLeft),e-=g(n.paddingRight)}function C(t,e,n){var r=t.x,o=t.y,a=\"translate(\".concat(r).concat(n,\",\").concat(o).concat(n,\")\");if(e){var i=\"\".concat(\"string\"==typeof e.x?e.x:e.x+n),s=\"\".concat(\"string\"==typeof e.y?e.y:e.y+n);a=\"translate(\".concat(i,\", \").concat(s,\")\")+a}return a}function M(t){if(t){var e,n,r=t.getElementById(\"react-draggable-style-el\");r||((r=t.createElement(\"style\")).type=\"text/css\",r.id=\"react-draggable-style-el\",r.innerHTML=\".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n\",r.innerHTML+=\".react-draggable-transparent-selection *::selection {all: inherit;}\\n\",t.getElementsByTagName(\"head\")[0].appendChild(r)),t.body&&(e=t.body,n=\"react-draggable-transparent-selection\",e.classList?e.classList.add(n):e.className.match(new RegExp(\"(?:^|\\\\s)\".concat(n,\"(?!\\\\S)\")))||(e.className+=\" \".concat(n)))}}function k(t){try{t&&t.body&&(e=t.body,n=\"react-draggable-transparent-selection\",e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(n,\"(?!\\\\S)\"),\"g\"),\"\")),t.selection?t.selection.empty():window.getSelection().removeAllRanges()}catch(t){}var e,n}function _(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(n,!0).forEach(function(e){w(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({touchAction:\"none\"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function X(t){return\"both\"===t.props.axis||\"x\"===t.props.axis}function Y(t){return\"both\"===t.props.axis||\"y\"===t.props.axis}function L(t,e,n){var r=\"number\"==typeof e?function(t,e){return t.targetTouches&&f(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&f(t.changedTouches,function(t){return e===t.identifier})}(t,e):null;if(\"number\"==typeof e&&!r)return null;var o=I(n);return function(t,e,n){var r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect();return{x:(t.clientX+e.scrollLeft-r.left)/n,y:(t.clientY+e.scrollTop-r.top)/n}}(r||t,n.props.offsetParent||o.offsetParent||o.ownerDocument.body,n.props.scale)}function R(t,e,n){var r=t.state,o=!d(r.lastX),a=I(t);return o?{node:a,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:a,deltaX:e-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:e,y:n}}function A(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function I(t){var e=u.a.findDOMNode(t);if(!e)throw new Error(\"<DraggableCore>: Unmounted during event!\");return e}function U(t){return(U=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z={touch:{start:\"touchstart\",move:\"touchmove\",stop:\"touchend\"},mouse:{start:\"mousedown\",move:\"mousemove\",stop:\"mouseup\"}},F=z.mouse,J=function(t){function e(){var t,n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(t=B(e)).call.apply(t,[this].concat(i)),n=!o||\"object\"!==U(o)&&\"function\"!=typeof o?H(r):o,G(H(n),\"state\",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),G(H(n),\"handleDragStart\",function(t){if(n.props.onMouseDown(t),!n.props.allowAnyClick&&\"number\"==typeof t.button&&0!==t.button)return!1;var e=u.a.findDOMNode(H(n));if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error(\"<DraggableCore> not mounted on DragStart!\");var r=e.ownerDocument;if(!(n.props.disabled||!(t.target instanceof r.defaultView.Node)||n.props.handle&&!D(t.target,n.props.handle,e)||n.props.cancel&&D(t.target,n.props.cancel,e))){var o=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}(t);n.setState({touchIdentifier:o});var a=L(t,o,H(n));if(null!=a){var i=a.x,s=a.y,c=R(H(n),i,s);n.props.onStart,!1!==n.props.onStart(t,c)&&(n.props.enableUserSelectHack&&M(r),n.setState({dragging:!0,lastX:i,lastY:s}),x(r,F.move,n.handleDrag),x(r,F.stop,n.handleDragStop))}}}),G(H(n),\"handleDrag\",function(t){\"touchmove\"===t.type&&t.preventDefault();var e=L(t,n.state.touchIdentifier,H(n));if(null!=e){var r,o,a,i=e.x,s=e.y;if(Array.isArray(n.props.grid)){var u=i-n.state.lastX,c=s-n.state.lastY,l=V((r=n.props.grid,o=u,a=c,[Math.round(o/r[0])*r[0],Math.round(a/r[1])*r[1]]),2);if(u=l[0],c=l[1],!u&&!c)return;i=n.state.lastX+u,s=n.state.lastY+c}var f=R(H(n),i,s);if(!1!==n.props.onDrag(t,f))n.setState({lastX:i,lastY:s});else try{n.handleDragStop(new MouseEvent(\"mouseup\"))}catch(t){var p=document.createEvent(\"MouseEvents\");p.initMouseEvent(\"mouseup\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(p)}}}),G(H(n),\"handleDragStop\",function(t){if(n.state.dragging){var e=L(t,n.state.touchIdentifier,H(n));if(null!=e){var r=e.x,o=e.y,a=R(H(n),r,o),i=u.a.findDOMNode(H(n));i&&n.props.enableUserSelectHack&&k(i.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(t,a),i&&(P(i.ownerDocument,F.move,n.handleDrag),P(i.ownerDocument,F.stop,n.handleDragStop))}}}),G(H(n),\"onMouseDown\",function(t){return F=z.mouse,n.handleDragStart(t)}),G(H(n),\"onMouseUp\",function(t){return F=z.mouse,n.handleDragStop(t)}),G(H(n),\"onTouchStart\",function(t){return F=z.touch,n.handleDragStart(t)}),G(H(n),\"onTouchEnd\",function(t){return F=z.touch,n.handleDragStop(t)}),n}var n,r,a;return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,o.a.Component),n=e,(r=[{key:\"componentWillUnmount\",value:function(){var t=u.a.findDOMNode(this);if(t){var e=t.ownerDocument;P(e,z.mouse.move,this.handleDrag),P(e,z.touch.move,this.handleDrag),P(e,z.mouse.stop,this.handleDragStop),P(e,z.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&k(e)}}},{key:\"render\",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:_(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&W(n.prototype,r),a&&W(n,a),e}();function K(t){return(K=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Z(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(n,!0).forEach(function(e){st(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),t}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}G(J,\"displayName\",\"DraggableCore\"),G(J,\"propTypes\",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error(\"Draggable's offsetParent must be a DOM Node.\")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,scale:i.a.number,className:y,style:y,transform:y}),G(J,\"defaultProps\",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(e,\"default\",function(){return ut}),n.d(e,\"DraggableCore\",function(){return J});var ut=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=this,o=nt(e).call(this,t),n=!o||\"object\"!==K(o)&&\"function\"!=typeof o?rt(r):o,st(rt(n),\"onDragStart\",function(t,e){if(!1===n.props.onStart(t,A(rt(n),e)))return!1;n.setState({dragging:!0,dragged:!0})}),st(rt(n),\"onDrag\",function(t,e){if(!n.state.dragging)return!1;var r=A(rt(n),e),o={x:r.x,y:r.y};if(n.props.bounds){var a=o.x,i=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=$(function(t,e,n){if(!t.props.bounds)return[e,n];var r=t.props.bounds;r=\"string\"==typeof r?r:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(r);var o=I(t);if(\"string\"==typeof r){var a,i=o.ownerDocument,s=i.defaultView;if(!((a=\"parent\"===r?o.parentNode:i.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector \"'+r+'\" could not find an element.');var u=s.getComputedStyle(o),c=s.getComputedStyle(a);r={left:-o.offsetLeft+g(c.paddingLeft)+g(u.marginLeft),top:-o.offsetTop+g(c.paddingTop)+g(u.marginTop),right:N(a)-E(o)-o.offsetLeft+g(c.paddingRight)-g(u.marginRight),bottom:T(a)-j(o)-o.offsetTop+g(c.paddingBottom)-g(u.marginBottom)}}return d(r.right)&&(e=Math.min(e,r.right)),d(r.bottom)&&(n=Math.min(n,r.bottom)),d(r.left)&&(e=Math.max(e,r.left)),d(r.top)&&(n=Math.max(n,r.top)),[e,n]}(rt(n),o.x,o.y),2),u=s[0],c=s[1];o.x=u,o.y=c,o.slackX=n.state.slackX+(a-o.x),o.slackY=n.state.slackY+(i-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(t,r))return!1;n.setState(o)}),st(rt(n),\"onDragStop\",function(t,e){if(!n.state.dragging)return!1;if(!1===n.props.onStop(t,A(rt(n),e)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,a=o.x,i=o.y;r.x=a,r.y=i}n.setState(r)}),n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,prevPropsPosition:et({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn(\"A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.\"),n}return function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,o.a.Component),at(e,null,[{key:\"getDerivedStateFromProps\",value:function(t,e){var n=t.position,r=e.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:et({},n)}}}]),at(e,[{key:\"componentDidMount\",value:function(){void 0!==window.SVGElement&&u.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:\"componentWillUnmount\",value:function(){this.setState({dragging:!1})}},{key:\"render\",value:function(){var t,e=this.props,n=(e.axis,e.bounds,e.children),r=e.defaultPosition,a=e.defaultClassName,i=e.defaultClassNameDragging,s=e.defaultClassNameDragged,u=e.position,c=e.positionOffset,f=(e.scale,Z(e,[\"axis\",\"bounds\",\"children\",\"defaultPosition\",\"defaultClassName\",\"defaultClassNameDragging\",\"defaultClassNameDragged\",\"position\",\"positionOffset\",\"scale\"])),p={},d=null,g=!Boolean(u)||this.state.dragging,y=u||r,h={x:X(this)&&g?this.state.x:y.x,y:Y(this)&&g?this.state.y:y.y};this.state.isElementSVG?d=function(t,e){return C(t,e,\"\")}(h,c):p=function(t,e){var n=C(t,e,\"px\");return w({},b(\"transform\",m),n)}(h,c);var v=l()(n.props.className||\"\",a,(st(t={},i,this.state.dragging),st(t,s,this.state.dragged),t));return o.a.createElement(J,Q({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:v,style:et({},n.props.style,{},p),transform:d}))}}]),e}();st(ut,\"displayName\",\"Draggable\"),st(ut,\"propTypes\",et({},J.propTypes,{axis:i.a.oneOf([\"both\",\"x\",\"y\",\"none\"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:y,style:y,transform:y})),st(ut,\"defaultProps\",et({},J.defaultProps,{axis:\"both\",bounds:!1,defaultClassName:\"react-draggable\",defaultClassNameDragging:\"react-draggable-dragging\",defaultClassNameDragged:\"react-draggable-dragged\",defaultPosition:{x:0,y:0},position:null,scale:1}))}])});\n//# sourceMappingURL=react-draggable.min.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","export default class Browser {\n\n    public static _qs: any = null;\n\n    protected static _AudioContext: any = null;\n\n    public static get AudioContext(): any {\n        if (Browser._AudioContext === null) {\n            Browser._AudioContext =\n                typeof(AudioContext) != 'undefined' ? new AudioContext() :\n                typeof((window as any).webkitAudioContext) != 'undefined' ? new (window as any).webkitAudioContext() :\n                typeof((window as any).mozAudioContext) != 'undefined' ? new (window as any).mozAudioContext() : null;\n        }\n        return Browser._AudioContext;\n    }\n\n    public static bindRequestPointerLock(domElement: Element): void {\n        domElement.requestPointerLock =\n            domElement.requestPointerLock    ||\n            (domElement as any).mozRequestPointerLock ||\n            (domElement as any).webkitRequestPointerLock;\n    }\n\n    public static bindRequestFullscreen(domElement: Element): void {\n        domElement.requestFullscreen =\n            domElement.requestFullscreen    ||\n            (domElement as any).mozRequestFullScreen ||\n            (domElement as any).webkitRequestFullscreen ||\n            (domElement as any).webkitRequestFullScreen;\n    }\n\n    public static get QueryString(): any {\n        const query_string: any = {},\n              query = window.location.search.substring(1),\n              vars = query.split(\"&\");\n\n        for (let i = 0; i < vars.length; i++) {\n            const pair = vars[i].split(\"=\");\n\n            // If first entry with this name\n            if (typeof query_string[decodeURIComponent(pair[0])] === \"undefined\") {\n                query_string[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n            // If second entry with this name\n            } else if (typeof query_string[decodeURIComponent(pair[0])] === \"string\") {\n                var arr = [ query_string[decodeURIComponent(pair[0])], decodeURIComponent(pair[1]) ];\n                query_string[decodeURIComponent(pair[0])] = arr;\n            // If third or later entry with this name\n            } else {\n                query_string[decodeURIComponent(pair[0])].push(decodeURIComponent(pair[1]));\n            }\n        }\n\n        Browser._qs = query_string;\n\n        return Browser._qs;\n    }\n}\n","import {\r\n    //CSMShadowGenerator,\r\n    Scene,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport StandardShadow from \"./StandardShadow\";\r\nimport CSMGUI from \"./CSMGUI\";\r\nimport { CSMShadowGenerator } from \"./csmShadowGenerator\";\r\n\r\nexport default class CSM extends StandardShadow {\r\n\r\n    public static className: string = \"CSM\";\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        (window as any).csm = this;\r\n        //this._shadowMapPlane.rotate(new Vector3(0, 0, 1), -Math.PI / 2);\r\n        //this._shadowMapPlane.bakeCurrentTransformIntoVertices();\r\n    }\r\n\r\n    protected getCSMGenerator(): CSMShadowGenerator {\r\n        return (this._shadowGenerator as unknown as CSMShadowGenerator);\r\n    }\r\n\r\n    public get cameraNearPlane(): number {\r\n        return this._cameraNearPlane;\r\n    }\r\n\r\n    public set cameraNearPlane(cnp: number) {\r\n        this._cameraNearPlane = cnp;\r\n        this.camera.minZ = cnp;\r\n        this.getCSMGenerator().setDistanceSplit();\r\n    }\r\n\r\n    public get cameraFarPlane(): number {\r\n        return this._cameraFarPlane;\r\n    }\r\n\r\n    public set cameraFarPlane(cfp: number) {\r\n        this._cameraFarPlane = cfp;\r\n        this.camera.maxZ = cfp;\r\n        this.getCSMGenerator().setDistanceSplit();\r\n    }\r\n\r\n    public get csmNumCascades(): number {\r\n        return this._csmNumCascades;\r\n    }\r\n\r\n    public set csmNumCascades(num: number) {\r\n        this._csmNumCascades = num;\r\n        this.getCSMGenerator().dispose();\r\n        this._csmActiveCascade = 0;\r\n        this.createShadowGenerator();\r\n    }\r\n\r\n    public get csmActiveCascade(): number {\r\n        return this._csmActiveCascade;\r\n    }\r\n\r\n    public set csmActiveCascade(cac: number) {\r\n        this._csmActiveCascade = cac;\r\n        this.getCSMGenerator().activeCascade = cac;\r\n\r\n        this._shadowMapFilter = this.getCSMGenerator().filter;\r\n        this._shadowMapBias = this.getCSMGenerator().bias;\r\n        this._shadowMapNormalBias = this.getCSMGenerator().normalBias;\r\n        this._shadowMapDarkness = this.getCSMGenerator().darkness;\r\n        this._shadowMapQuality = this.getCSMGenerator().filteringQuality;\r\n        this._shadowMapDepthScale = this.getCSMGenerator().depthScale;\r\n        this._shadowMapBlurScale = this.getCSMGenerator().blurScale;\r\n        this._shadowMapUseKernelBlur = this.getCSMGenerator().useKernelBlur;\r\n        this._shadowMapBlurKernel = this.getCSMGenerator().blurKernel;\r\n        this._shadowMapBlurBoxOffset = this.getCSMGenerator().blurBoxOffset;\r\n        this._shadowMapLightSizeUVRatio = this.getCSMGenerator().contactHardeningLightSizeUVRatio;\r\n\r\n        this.setShadowMapViewerTexture();\r\n    }\r\n\r\n    public get csmVisualizeCascades(): boolean {\r\n        return this._csmVisualizeCascades;\r\n    }\r\n\r\n    public set csmVisualizeCascades(cvc: boolean) {\r\n        this._csmVisualizeCascades = cvc;\r\n        this.getCSMGenerator().debug = cvc;\r\n    }\r\n\r\n    public get csmStabilizeCascades(): boolean {\r\n        return this._csmStabilizeCascades;\r\n    }\r\n\r\n    public set csmStabilizeCascades(ssc: boolean) {\r\n        this._csmStabilizeCascades = ssc;\r\n        this.getCSMGenerator().stabilizeCascades = ssc;\r\n    }\r\n\r\n    public get csmDepthClamp(): boolean {\r\n        return this._csmDepthClamp;\r\n    }\r\n\r\n    public set csmDepthClamp(cdc: boolean) {\r\n        this._csmDepthClamp = cdc;\r\n        this.getCSMGenerator().depthClamp = cdc;\r\n    }\r\n\r\n    public get csmLambda(): number {\r\n        return this._csmLambda;\r\n    }\r\n\r\n    public set csmLambda(cl: number) {\r\n        this._csmLambda = cl;\r\n        this.getCSMGenerator().lambda = cl;\r\n    }\r\n\r\n    public get csmUseRightDirectionAsUpForOrthoProj(): boolean {\r\n        return this._csmUseRightDirectionAsUpForOrthoProj;\r\n    }\r\n\r\n    public set csmUseRightDirectionAsUpForOrthoProj(curdfop: boolean) {\r\n        this._csmUseRightDirectionAsUpForOrthoProj = curdfop;\r\n        this.getCSMGenerator().useRightDirectionAsUpForOrthoProj = curdfop;\r\n    }\r\n\r\n    protected getLightExtents(): { min: Vector3, max: Vector3 } | null {\r\n        const cascade = this.getCSMGenerator().cascade;\r\n\r\n        if (!cascade) {\r\n            return null;\r\n        }\r\n\r\n        const csmSM = cascade.generator;\r\n\r\n        return {\r\n            \"min\": csmSM.lightMinExtents,\r\n            \"max\": csmSM.lightMaxExtents,\r\n        }\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this.gui = new CSMGUI(this.name, this.scene.getEngine(), this._container, this);\r\n\r\n        this.gui.createGUI();\r\n    }\r\n\r\n    protected createGenerator(): ShadowGenerator {\r\n        const generator = new CSMShadowGenerator(this.shadowMapSize, this.sun, this._csmNumCascades);;\r\n\r\n        generator.activeCascade = CSMShadowGenerator.CASCADE_ALL;\r\n\r\n        return generator as unknown as ShadowGenerator;\r\n    }\r\n\r\n    protected setShadowMapViewerTexture(): void {\r\n        (this._shadowMapPlane.material as StandardMaterial).diffuseTexture = \r\n            this._csmActiveCascade !== CSMShadowGenerator.CASCADE_ALL && this._shadowMapFilter !== ShadowGenerator.FILTER_PCF ? this.getCSMGenerator().getShadowMaps()[this._csmActiveCascade] : null;\r\n    }\r\n\r\n    protected createShadowGenerator(): void {\r\n        super.createShadowGenerator();\r\n\r\n        const shadowGenerator = this.getCSMGenerator();\r\n\r\n        shadowGenerator.stabilizeCascades = this._csmStabilizeCascades;\r\n        shadowGenerator.depthClamp = this._csmDepthClamp;\r\n        shadowGenerator.lambda = this._csmLambda;\r\n        shadowGenerator.freezeShadowCastersBoundingInfo = true;\r\n\r\n        shadowGenerator.activeCascade = this._csmActiveCascade;\r\n\r\n        this.setShadowMapViewerTexture();\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Button,\r\n    Checkbox,\r\n    ExpansionPanel,\r\n    ExpansionPanelDetails,\r\n    ExpansionPanelSummary,\r\n    Grid,\r\n    Icon,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n    Switch,\r\n    Typography,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    Engine,\r\n} from 'babylonjs';\r\n\r\nimport SplitBaseGUI from \"./SplitBaseGUI\";\r\nimport Sample from \"../Sample\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nexport default class CSMGUI extends SplitBaseGUI {\r\n\r\n    constructor(name: string, engine: Engine, container: Sample, parent: ISampleSplit) {\r\n        super(name, engine, container, parent);\r\n\r\n        this._showAutoCalcPlanes = false;\r\n        this._showCSM = true;\r\n        this.dimensions.height = 860;\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const Properties = () => {\r\n\r\n            return (\r\n                <>\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Grid,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    Vector3,\r\n    Color3,\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport MainGUI from \"../MainGUI\";\r\nimport Sample from \"../Sample\";\r\n\r\nexport interface ISceneDescription {\r\n    dname: string;\r\n    path: string;\r\n    name: string;\r\n    backfaceCulling: boolean;\r\n    camera: {\r\n        position: Vector3,\r\n        target: Vector3,\r\n    };\r\n    scaling: number;\r\n    sunColor: Color3;\r\n    light: {\r\n        nearPlane: number,\r\n        farPlane: number,\r\n    };\r\n}\r\n\r\nexport default class GlobalGUI extends MainGUI {\r\n\r\n    public scenes:  Array<ISceneDescription>;\r\n\r\n    protected _selectedScene:   number;\r\n\r\n    public get selectedScene(): number {\r\n        return this._selectedScene;\r\n    }\r\n\r\n    constructor(name: string, engine: Engine, parent: Sample) {\r\n        super(name, engine, parent);\r\n\r\n        this._selectedScene = 0;\r\n        this.scenes = [\r\n            {\r\n                \"dname\": \"Power Plant\",\r\n                \"path\": \"./resources/3d/powerplant/\",\r\n                \"name\": \"powerplant.obj\",\r\n                \"backfaceCulling\": false,  // Some meshes have incorrect winding orders... use no backface culling for now\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 0, 5),\r\n                },\r\n                \"scaling\": 0.5,\r\n                \"sunColor\": new Color3(1, 1, 1),\r\n                \"light\": {\r\n                    \"nearPlane\": -90,\r\n                    \"farPlane\": 130,\r\n                },\r\n            },\r\n            {\r\n                \"dname\": \"Tower\",\r\n                \"path\": \"./resources/3d/Tower/\",\r\n                \"name\": \"Tower.obj\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 5, 5),\r\n                },\r\n                \"scaling\": 0.025,\r\n                \"sunColor\": new Color3(1, 0.8, 0.5),\r\n                \"light\": {\r\n                    \"nearPlane\": -50,\r\n                    \"farPlane\": 150,\r\n                },\r\n            }/*,\r\n            {\r\n                \"dname\": \"Dude\",\r\n                \"path\": \"./resources/3d/Dude/\",\r\n                \"name\": \"dude.babylon\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(0, 76, 154),\r\n                    \"target\": new Vector3(0, 0, 0),\r\n                },\r\n                \"scaling\": 0.25,\r\n            }*/,\r\n            {\r\n                \"dname\": \"Columns\",\r\n                \"path\": \"./resources/3d/Columns/\",\r\n                \"name\": \"Columns.obj\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 5, 5),\r\n                },\r\n                \"scaling\": 0.25,\r\n                \"sunColor\": new Color3(1, 0.8, 0.5),\r\n                \"light\": {\r\n                    \"nearPlane\": -92,\r\n                    \"farPlane\": 150,\r\n                },\r\n            }\r\n        ];\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const classes = this._useStyles();\r\n        const [scene, setScene] = React.useState(this._selectedScene);\r\n\r\n        const changeScene = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n            this._selectedScene = event.target.value as number;\r\n            setScene(this._selectedScene);\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Grid item xs={6}>\r\n                    <Paper className={classes.propertyTitle}>Scene</Paper>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Select\r\n                        className={classes.propertyValue}\r\n                        id=\"scene\"\r\n                        value={scene}\r\n                        onChange={changeScene}\r\n                        >\r\n                        { this.scenes.map((scene: any, idx: number) => {\r\n                            return (\r\n                                <MenuItem key={idx} value={idx}>{scene.dname}</MenuItem>\r\n                            );\r\n                        }) }\r\n                    </Select>\r\n                </Grid>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n","import {\r\n    Color3,\r\n    Engine,\r\n    Matrix,\r\n    Mesh,\r\n    MeshBuilder,\r\n    Nullable,\r\n    Observer,\r\n    Quaternion,\r\n    Scene,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n} from \"babylonjs\";\r\n\r\nimport Sample, { enumSplitMode } from \"../Sample\";\r\nimport Split from \"../Split\";\r\nimport Utils from \"../Utils\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\nimport { ISceneDescription } from \"./GlobalGUI\";\r\n\r\nexport default class SplitBase extends Split implements ISampleSplit {\r\n\r\n    protected _sunDir: Vector3;\r\n    protected _sceneName: string;\r\n    protected _cameraNearPlane: number;\r\n    protected _cameraFarPlane: number;\r\n    protected _sunColor: Color3;\r\n    protected _animateLight: boolean;\r\n    protected _autoCalcShadowZBounds: boolean;\r\n    protected _lightNearPlane: number;\r\n    protected _lightFarPlane: number;\r\n    protected _showLightHelper: boolean;\r\n    protected _rotateLightObservable: Nullable<Observer<Scene>>;\r\n    protected _shadowMapPlane: Mesh;\r\n    protected _shadowMapShowDepthMap: boolean;\r\n    protected _showDepthMapObservable: Nullable<Observer<Scene>>;\r\n    protected _shadowMapSize: number;\r\n    protected _shadowMapFilter: number;\r\n    protected _shadowMapBias: number;\r\n    protected _shadowMapNormalBias: number;\r\n    protected _shadowMapDarkness: number;\r\n    protected _shadowMapQuality: number;\r\n    protected _shadowMapDepthScale: number;\r\n    protected _shadowMapBlurScale: number;\r\n    protected _shadowMapUseKernelBlur: boolean;\r\n    protected _shadowMapBlurKernel: number;\r\n    protected _shadowMapBlurBoxOffset: number;\r\n    protected _shadowMapLightSizeUVRatio: number;\r\n\r\n    protected _csmNumCascades: number;\r\n    protected _csmActiveCascade: number;\r\n    protected _csmVisualizeCascades: boolean;\r\n    protected _csmStabilizeCascades: boolean;\r\n    protected _csmDepthClamp: boolean;\r\n    protected _csmLambda: number;\r\n    protected _csmUseRightDirectionAsUpForOrthoProj: boolean;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        this._sunDir = new Vector3();\r\n        this._sunColor = new Color3();\r\n        this._sceneName = \"\";\r\n        this._cameraNearPlane = 0.25;\r\n        this._cameraFarPlane = 250;\r\n        this._animateLight = false;\r\n        this._autoCalcShadowZBounds = false;\r\n        this._lightNearPlane = -90;\r\n        this._lightFarPlane = 130;\r\n        this._showLightHelper = false;\r\n        this._rotateLightObservable = null;\r\n        this._shadowMapShowDepthMap = false;\r\n        this._showDepthMapObservable = null;\r\n        this._shadowMapSize = 1024;\r\n        this._shadowMapFilter = ShadowGenerator.FILTER_PCF;\r\n        this._shadowMapBias = 0.007;\r\n        this._shadowMapNormalBias = 0;\r\n        this._shadowMapDarkness = 0;\r\n        this._shadowMapQuality = ShadowGenerator.QUALITY_MEDIUM;\r\n        this._shadowMapDepthScale = 25;\r\n        this._shadowMapBlurScale = 2;\r\n        this._shadowMapUseKernelBlur = true;\r\n        this._shadowMapBlurKernel = 1;\r\n        this._shadowMapBlurBoxOffset = 1;\r\n        this._shadowMapLightSizeUVRatio = 0.005;\r\n\r\n        this._csmNumCascades = 4;\r\n        this._csmActiveCascade = 0;\r\n        this._csmVisualizeCascades = false;\r\n        this._csmStabilizeCascades = true;\r\n        this._csmDepthClamp = false;\r\n        this._csmLambda = 0.7;\r\n        this._csmUseRightDirectionAsUpForOrthoProj = false;\r\n\r\n        this._shadowMapPlane = null as any;\r\n\r\n        const size = 1;\r\n\r\n        this._shadowMapPlane = MeshBuilder.CreatePlane(this.name + \"_shadowmap\", {\r\n            \"width\": size,\r\n            \"height\": size,\r\n        }, this.scene);\r\n\r\n        this._shadowMapPlane.position.x += size / 2;\r\n        this._shadowMapPlane.position.y -= size / 2;\r\n        this._shadowMapPlane.bakeCurrentTransformIntoVertices();\r\n        this._shadowMapPlane.alwaysSelectAsActiveMesh = true;\r\n\r\n        const material = new StandardMaterial(this.name + \"_shadowmap_material\", scene);\r\n\r\n        material.emissiveColor = new Color3(1, 1, 1);\r\n        material.disableLighting = true;\r\n        material.depthFunction = Engine.ALWAYS;\r\n\r\n        this._shadowMapPlane.material = material;\r\n\r\n        this._shadowMapPlane.setEnabled(false);\r\n    }\r\n\r\n    public render(): void {\r\n        const sky = this.scene.getMeshByName(\"skyBox\");\r\n        if (sky) {\r\n            sky.position.set(this.camera.position.x, this.camera.position.y, this.camera.position.z);\r\n        }\r\n\r\n        super.render();\r\n    }\r\n\r\n    public get shadowMapPlane(): Mesh {\r\n        return this._shadowMapPlane;\r\n    }\r\n\r\n    public initialize(scene: ISceneDescription, ambientColor: Color3, sunDir: Vector3): Promise<ISampleSplit> {\r\n        return Promise.resolve(this);\r\n    }\r\n\r\n    public get sceneName(): string {\r\n        return this._sceneName;\r\n    }\r\n\r\n    public get cameraNearPlane(): number {\r\n        return this._cameraNearPlane;\r\n    }\r\n\r\n    public set cameraNearPlane(cnp: number) {\r\n        this._cameraNearPlane = cnp;\r\n        this.camera.minZ = cnp;\r\n    }\r\n\r\n    public get cameraFarPlane(): number {\r\n        return this._cameraFarPlane;\r\n    }\r\n\r\n    public set cameraFarPlane(cfp: number) {\r\n        this._cameraFarPlane = cfp;\r\n        this.camera.maxZ = cfp;\r\n    }\r\n\r\n    public get animateLight(): boolean {\r\n        return this._animateLight;\r\n    }\r\n\r\n    public set animateLight(al: boolean) {\r\n        if (this._rotateLightObservable && !al) {\r\n            this.scene.onBeforeRenderObservable.remove(this._rotateLightObservable);\r\n            this._rotateLightObservable = null;\r\n        }\r\n\r\n        this._animateLight = al;\r\n\r\n        if (!this._rotateLightObservable && al) {\r\n            this._rotateLightObservable = this.scene.onBeforeRenderObservable.add(this.rotateLight.bind(this));\r\n        }\r\n\r\n        this.setDirectionFromSibling(this._animateLight);\r\n    }\r\n\r\n    public get lightColor(): string {\r\n        return this._sunColor.toHexString();\r\n    }\r\n\r\n    public set lightColor(lc: string) {\r\n        this._sunColor = Color3.FromHexString(lc);\r\n    }\r\n\r\n    public get lightDirection(): Vector3 {\r\n        return this._sunDir;\r\n    }\r\n\r\n    public set lightDirection(ld: Vector3) {\r\n        this._sunDir = ld;\r\n    }\r\n\r\n    public get showLightHelper(): boolean {\r\n        return this._showLightHelper;\r\n    }\r\n\r\n    public set showLightHelper(slh: boolean) {\r\n        this._showLightHelper = slh;\r\n    }\r\n\r\n    public get shadowMapShowDepthMap(): boolean {\r\n        return this._shadowMapShowDepthMap;\r\n    }\r\n\r\n    public set shadowMapShowDepthMap(smsdm: boolean) {\r\n        if (this._shadowMapShowDepthMap && !smsdm) {\r\n            this.scene.onBeforeRenderObservable.remove(this._showDepthMapObservable);\r\n            this._showDepthMapObservable = null;\r\n        }\r\n\r\n        this._shadowMapShowDepthMap = smsdm;\r\n        this._shadowMapPlane.setEnabled(smsdm);\r\n\r\n        if (!this._showDepthMapObservable && smsdm) {\r\n            this._showDepthMapObservable = this.scene.onBeforeRenderObservable.add(this.showDepthMap.bind(this));\r\n        }\r\n    }\r\n\r\n    public get shadowMapSize(): number {\r\n        return this._shadowMapSize;\r\n    }\r\n\r\n    public set shadowMapSize(sms: number) {\r\n        this._shadowMapSize = sms;\r\n    }\r\n\r\n    public get shadowMapFilter(): number {\r\n        return this._shadowMapFilter;\r\n    }\r\n\r\n    public set shadowMapFilter(smf: number) {\r\n        this._shadowMapFilter = smf;\r\n    }\r\n\r\n    public get shadowMapBias(): number {\r\n        return this._shadowMapBias;\r\n    }\r\n\r\n    public set shadowMapBias(smb: number) {\r\n        this._shadowMapBias = smb;\r\n    }\r\n\r\n    public get shadowMapNormalBias(): number {\r\n        return this._shadowMapNormalBias;\r\n    }\r\n\r\n    public set shadowMapNormalBias(smnb: number) {\r\n        this._shadowMapNormalBias = smnb;\r\n    }\r\n\r\n    public get shadowMapDarkness(): number {\r\n        return this._shadowMapDarkness;\r\n    }\r\n\r\n    public set shadowMapDarkness(smd: number) {\r\n        this._shadowMapDarkness = smd;\r\n    }\r\n\r\n    public get shadowMapQuality(): number {\r\n        return this._shadowMapQuality;\r\n    }\r\n\r\n    public set shadowMapQuality(smq: number) {\r\n        this._shadowMapQuality = smq;\r\n    }\r\n\r\n    public get shadowMapDepthScale(): number {\r\n        return this._shadowMapDepthScale;\r\n    }\r\n\r\n    public set shadowMapDepthScale(smds: number) {\r\n        this._shadowMapDepthScale = smds;\r\n    }\r\n\r\n    public get shadowMapBlurScale(): number {\r\n        return this._shadowMapBlurScale;\r\n    }\r\n\r\n    public set shadowMapBlurScale(smbs: number) {\r\n        this._shadowMapBlurScale = smbs;\r\n    }\r\n\r\n    public get shadowMapUseKernelBlur(): boolean {\r\n        return this._shadowMapUseKernelBlur;\r\n    }\r\n\r\n    public set shadowMapUseKernelBlur(smukb: boolean) {\r\n        this._shadowMapUseKernelBlur = smukb;\r\n    }\r\n\r\n    public get shadowMapBlurKernel(): number {\r\n        return this._shadowMapBlurKernel;\r\n    }\r\n\r\n    public set shadowMapBlurKernel(smbk: number) {\r\n        this._shadowMapBlurKernel = smbk;\r\n    }\r\n\r\n    public get shadowMapBlurBoxOffset(): number {\r\n        return this._shadowMapBlurBoxOffset;\r\n    }\r\n\r\n    public set shadowMapBlurBoxOffset(smbbo: number) {\r\n        this._shadowMapBlurBoxOffset = smbbo;\r\n    }\r\n\r\n    public get shadowMapLightSizeUVRatio(): number {\r\n        return this._shadowMapLightSizeUVRatio;\r\n    }\r\n\r\n    public set shadowMapLightSizeUVRatio(smlsuvr: number) {\r\n        this._shadowMapLightSizeUVRatio = smlsuvr;\r\n    }\r\n\r\n    public get lightNearPlane(): number {\r\n        return this._lightNearPlane;\r\n    }\r\n\r\n    public set lightNearPlane(lnp: number) {\r\n        this._lightNearPlane = lnp;\r\n    }\r\n\r\n    public get lightFarPlane(): number {\r\n        return this._lightFarPlane;\r\n    }\r\n\r\n    public set lightFarPlane(lfp: number) {\r\n        this._lightFarPlane = lfp;\r\n    }\r\n\r\n    public get autoCalcShadowZBounds(): boolean {\r\n        return this._autoCalcShadowZBounds;\r\n    }\r\n\r\n    public set autoCalcShadowZBounds(acszb: boolean) {\r\n        this._autoCalcShadowZBounds = acszb;\r\n    }\r\n\r\n    public get csmNumCascades(): number {\r\n        return this._csmNumCascades;\r\n    }\r\n\r\n    public set csmNumCascades(num: number) {\r\n        this._csmNumCascades = num;\r\n    }\r\n\r\n    public get csmActiveCascade(): number {\r\n        return this._csmActiveCascade;\r\n    }\r\n\r\n    public set csmActiveCascade(cac: number) {\r\n        this._csmActiveCascade = cac;\r\n    }\r\n\r\n    public get csmVisualizeCascades(): boolean {\r\n        return this._csmVisualizeCascades;\r\n    }\r\n\r\n    public set csmVisualizeCascades(cvc: boolean) {\r\n        this._csmVisualizeCascades = cvc;\r\n    }\r\n\r\n    public get csmStabilizeCascades(): boolean {\r\n        return this._csmStabilizeCascades;\r\n    }\r\n\r\n    public set csmStabilizeCascades(csc: boolean) {\r\n        this._csmStabilizeCascades = csc;\r\n    }\r\n\r\n    public get csmDepthClamp(): boolean {\r\n        return this._csmDepthClamp;\r\n    }\r\n\r\n    public set csmDepthClamp(cdc: boolean) {\r\n        this._csmDepthClamp = cdc;\r\n    }\r\n\r\n    public get csmLambda(): number {\r\n        return this._csmLambda;\r\n    }\r\n\r\n    public set csmLambda(cl: number) {\r\n        this._csmLambda = cl;\r\n    }\r\n\r\n    public get csmUseRightDirectionAsUpForOrthoProj(): boolean {\r\n        return this._csmUseRightDirectionAsUpForOrthoProj;\r\n    }\r\n\r\n    public set csmUseRightDirectionAsUpForOrthoProj(curdfop: boolean) {\r\n        this._csmUseRightDirectionAsUpForOrthoProj = curdfop;\r\n    }\r\n\r\n    protected setDirectionFromSibling(checkAnimate: boolean = true): void {\r\n        for (let i = 0; i < this._container.splits.length; ++i) {\r\n            const ssplit = this._container.splits[i] as SplitBase;\r\n\r\n            if (ssplit !== this && (ssplit.animateLight === checkAnimate) && ssplit.group === this.group) {\r\n                this.lightDirection = ssplit.lightDirection.clone();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected rotateLight(): void {\r\n        const deltaTime = this.scene.getEngine().getDeltaTime() / 1000;\r\n\r\n        let matrix = new Matrix();\r\n\r\n        let rotY = Utils.XMScalarModAngle(deltaTime * 0.25);\r\n\r\n        let rotation = Quaternion.RotationAxis(new Vector3(0.0, 1.0, 0.0), rotY);\r\n\r\n        Matrix.FromQuaternionToRef(rotation, matrix);\r\n        Vector3.TransformCoordinatesToRef(this._sunDir, matrix, this._sunDir);\r\n\r\n        this.lightDirection = this._sunDir;\r\n    }\r\n\r\n    protected showDepthMap(): void {\r\n        this.camera.getViewMatrix(); // make sure the transformation matrix we get when calling 'getTransformationMatrix()' is calculated with an up to date view matrix\r\n\r\n        let invertCameraViewProj = Matrix.Invert(this.camera.getTransformationMatrix());\r\n\r\n        let h = 256 / this.scene.getEngine().getRenderWidth(true);\r\n\r\n        let pOfst = 0;\r\n\r\n        if (this._container.splitMode === enumSplitMode.LINEAR) {\r\n            let sidx = this._container.splits.indexOf(this),\r\n                sw = 2 / this._container.splits.length;\r\n            pOfst = sw * sidx + sw / 2 - h;\r\n        } else {\r\n            pOfst = 1 - h;\r\n        }\r\n\r\n        let p = new Vector3(-1, 1, -1 + 0.001);\r\n        let q = new Vector3(-1 + h * 2, 1, -1 + 0.001);\r\n\r\n        let pt = Vector3.TransformCoordinates(p, invertCameraViewProj);\r\n        let qt = Vector3.TransformCoordinates(q, invertCameraViewProj);\r\n        let d = qt.subtract(pt).length();\r\n\r\n        this.shadowMapPlane.scaling = new Vector3(d, d, 1);\r\n\r\n        p.x += pOfst;\r\n\r\n        this.shadowMapPlane.rotation = this.camera.rotation;\r\n        this.shadowMapPlane.position = Vector3.TransformCoordinates(p, invertCameraViewProj);\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    ExpansionPanel,\r\n    ExpansionPanelDetails,\r\n    ExpansionPanelSummary,\r\n    Grid,\r\n    Icon,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n    Switch,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    Engine,\r\n    ShadowGenerator,\r\n} from 'babylonjs';\r\n\r\nimport { PrettoSlider } from \"../GUI\";\r\nimport Sample from \"../Sample\";\r\nimport SplitGUI from \"../SplitGUI\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nexport default class SplitBaseGUI extends SplitGUI {\r\n\r\n    protected _sparent: ISampleSplit;\r\n    protected _showAutoCalcPlanes: boolean;\r\n    protected _showCSM: boolean;\r\n\r\n    constructor(name: string, engine: Engine, container: Sample, parent: ISampleSplit) {\r\n        super(name, engine, container, parent);\r\n\r\n        this._sparent = parent;\r\n        this._showAutoCalcPlanes = true;\r\n        this._showCSM = false;\r\n        this.dimensions.width = 320;\r\n        this.dimensions.height = 750;\r\n    }\r\n\r\n    protected createCustomGUI(): React.ReactElement {\r\n        const classes = this._useStyles();\r\n\r\n        const Properties = () => {\r\n            //const [ignored, forceUpdate] = React.useReducer((x) => x + 1, 0);\r\n\r\n            const [cameraNearPlane, setCameraNearPlane] = React.useState(this._sparent.cameraNearPlane);\r\n            const [cameraFarPlane, setCameraFarPlane] = React.useState(this._sparent.cameraFarPlane);\r\n\r\n            const [animateLight, setAnimateLight] = React.useState(this._sparent.animateLight);\r\n            const [lightColor, setLightColor] = React.useState(this._sparent.lightColor);\r\n            const [lightNearPlane, setLightNearPlane] = React.useState(Math.floor(this._sparent.lightNearPlane));\r\n            const [lightFarPlane, setLightFarPlane] = React.useState(Math.floor(this._sparent.lightFarPlane));\r\n            const [autoCalcShadowZBounds, setAutoCalcShadowZBounds] = React.useState(this._sparent.autoCalcShadowZBounds);\r\n            const [showLightHelper, setShowLightHelper] = React.useState(this._sparent.showLightHelper);\r\n\r\n            const [shadowMapShowDepthMap, setShadowMapShowDepthMap] = React.useState(this._sparent.shadowMapShowDepthMap);\r\n            const [shadowMapSize, setShadowMapSize] = React.useState(this._sparent.shadowMapSize);\r\n            const [shadowMapBias, setShadowMapBias] = React.useState(this._sparent.shadowMapBias);\r\n            const [shadowMapNormalBias, setShadowMapNormalBias] = React.useState(this._sparent.shadowMapNormalBias);\r\n            const [shadowMapDarkness, setShadowMapDarkness] = React.useState(this._sparent.shadowMapDarkness);\r\n            const [shadowMapFilter, setShadowMapFilter] = React.useState(this._sparent.shadowMapFilter);\r\n            const [shadowMapQuality, setShadowMapQuality] = React.useState(this._sparent.shadowMapQuality);\r\n            const [shadowMapDepthScale, setShadowMapDepthScale] = React.useState(this._sparent.shadowMapDepthScale);\r\n            const [shadowMapBlurScale, setShadowMapBlurScale] = React.useState(this._sparent.shadowMapBlurScale);\r\n            const [shadowMapUseKernelBlur, setShadowMapUseKernelBlur] = React.useState(this._sparent.shadowMapUseKernelBlur);\r\n            const [shadowMapBlurKernel, setShadowMapBlurKernel] = React.useState(this._sparent.shadowMapBlurKernel);\r\n            const [shadowMapBlurBoxOffset, setShadowMapBlurBoxOffset] = React.useState(this._sparent.shadowMapBlurBoxOffset);\r\n            const [shadowMapLightSizeUVRatio, setShadowMapLightSizeUVRatio] = React.useState(this._sparent.shadowMapLightSizeUVRatio);\r\n\r\n            const [csmNumCascades, setCSMNumCascades] = React.useState(this._sparent.csmNumCascades);\r\n            const [csmActiveCascade, setCSMActiveCascade] = React.useState(this._sparent.csmActiveCascade);\r\n            const [csmVisualizeCascades, setCSMVisualizeCascades] = React.useState(this._sparent.csmVisualizeCascades);\r\n            const [csmStabilizeCascades, setCSMStabilizeCascades] = React.useState(this._sparent.csmStabilizeCascades);\r\n            const [csmDepthClamp, setCSMDepthClamp] = React.useState(this._sparent.csmDepthClamp);\r\n            const [csmLambda, setCSMLambda] = React.useState(this._sparent.csmLambda);\r\n            const [csmUseRightDirectionAsUpForOrthoProj, setCSMUseRightDirectionAsUpForOrthoProj] = React.useState(this._sparent.csmUseRightDirectionAsUpForOrthoProj);\r\n\r\n\r\n            const changeCameraNearPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.cameraNearPlane = value as number;\r\n                setCameraNearPlane(this._sparent.cameraNearPlane);\r\n            };\r\n\r\n            const changeCameraFarPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.cameraFarPlane = value as number;\r\n                setCameraFarPlane(this._sparent.cameraFarPlane);\r\n            };\r\n\r\n            const changeAnimateLight = (event: React.ChangeEvent, checked: boolean) => {\r\n                setAnimateLight(checked);\r\n                this._sparent.animateLight = checked;\r\n            };\r\n\r\n            const changeLightColor = (event: React.ChangeEvent<Element>) => {\r\n                this._sparent.lightColor = (event.target as any).value;\r\n                setLightColor(this._sparent.lightColor);\r\n            };\r\n\r\n            const changeLightNearPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.lightNearPlane = value as number;\r\n                setLightNearPlane(this._sparent.lightNearPlane);\r\n            };\r\n\r\n            const changeLightFarPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.lightFarPlane = value as number;\r\n                setLightFarPlane(this._sparent.lightFarPlane);\r\n            };\r\n\r\n            const changeAutoCalcShadowZBounds = (event: React.ChangeEvent, checked: boolean) => {\r\n                setAutoCalcShadowZBounds(checked);\r\n                this._sparent.autoCalcShadowZBounds = checked;\r\n            };\r\n\r\n            const changeShowLightHelper = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShowLightHelper(checked);\r\n                this._sparent.showLightHelper = checked;\r\n            };\r\n\r\n\r\n            const changeShadowMapShowDepthMap = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShadowMapShowDepthMap(checked);\r\n                this._sparent.shadowMapShowDepthMap = checked;\r\n            };\r\n\r\n            const changeShadowMapSize = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapSize = event.target.value as number;\r\n                setShadowMapSize(this._sparent.shadowMapSize);\r\n            };\r\n\r\n            const changeShadowMapBias = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapBias = event.target.value as number;\r\n                setShadowMapBias(this._sparent.shadowMapBias);\r\n            };\r\n\r\n            const changeShadowMapNormalBias = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapNormalBias = event.target.value as number;\r\n                setShadowMapNormalBias(this._sparent.shadowMapNormalBias);\r\n            };\r\n\r\n            const changeShadowMapDarkness = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapDarkness = value as number;\r\n                setShadowMapDarkness(this._sparent.shadowMapDarkness);\r\n            };\r\n\r\n            const changeShadowMapFilter = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapFilter = event.target.value as number;\r\n                setShadowMapFilter(this._sparent.shadowMapFilter);\r\n            };\r\n\r\n            const changeShadowMapQuality = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapQuality = event.target.value as number;\r\n                setShadowMapQuality(this._sparent.shadowMapQuality);\r\n            };\r\n\r\n            const changeShadowMapDepthScale = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapDepthScale = event.target.value as number;\r\n                setShadowMapDepthScale(this._sparent.shadowMapDepthScale);\r\n            };\r\n\r\n            const changeShadowMapBlurScale = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurScale = value as number;\r\n                setShadowMapBlurScale(this._sparent.shadowMapBlurScale);\r\n            };\r\n\r\n            const changeShadowMapUseKernelBlur = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShadowMapUseKernelBlur(checked);\r\n                this._sparent.shadowMapUseKernelBlur = checked;\r\n            };\r\n\r\n            const changeShadowMapBlurKernel = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurKernel = value as number;\r\n                setShadowMapBlurKernel(this._sparent.shadowMapBlurKernel);\r\n            };\r\n\r\n            const changeShadowMapBlurBoxOffset = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurBoxOffset = value as number;\r\n                setShadowMapBlurBoxOffset(this._sparent.shadowMapBlurBoxOffset);\r\n            };\r\n\r\n            const changeShadowMapLightSizeUVRatio = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapLightSizeUVRatio = event.target.value as number;\r\n                setShadowMapLightSizeUVRatio(this._sparent.shadowMapLightSizeUVRatio);\r\n            };\r\n\r\n\r\n            const changeNumCascades = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.csmNumCascades = event.target.value as number;\r\n                setCSMNumCascades(this._sparent.csmNumCascades);\r\n                setCSMActiveCascade(this._sparent.csmActiveCascade);\r\n            };\r\n\r\n            const changeActiveCascade = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.csmActiveCascade = event.target.value as number;\r\n                setCSMActiveCascade(this._sparent.csmActiveCascade);\r\n                setShadowMapBias(this._sparent.shadowMapBias);\r\n                setShadowMapNormalBias(this._sparent.shadowMapNormalBias);\r\n                setShadowMapDarkness(this._sparent.shadowMapDarkness);\r\n                setShadowMapFilter(this._sparent.shadowMapFilter);\r\n                setShadowMapQuality(this._sparent.shadowMapQuality);\r\n                setShadowMapDepthScale(this._sparent.shadowMapDepthScale);\r\n                setShadowMapBlurScale(this._sparent.shadowMapBlurScale);\r\n                setShadowMapUseKernelBlur(this._sparent.shadowMapUseKernelBlur);\r\n                setShadowMapBlurKernel(this._sparent.shadowMapBlurKernel);\r\n                setShadowMapBlurBoxOffset(this._sparent.shadowMapBlurBoxOffset);\r\n                setShadowMapLightSizeUVRatio(this._sparent.shadowMapLightSizeUVRatio);\r\n            };\r\n\r\n            const changeCSMVisualizeCascades = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMVisualizeCascades(checked);\r\n                this._sparent.csmVisualizeCascades = checked;\r\n            };\r\n\r\n            const changeCSMStabilizeCascades = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMStabilizeCascades(checked);\r\n                this._sparent.csmStabilizeCascades = checked;\r\n            };\r\n\r\n            const changeCSMDepthClamp = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMDepthClamp(checked);\r\n                this._sparent.csmDepthClamp = checked;\r\n            };\r\n\r\n            const changeCSMLambda = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.csmLambda = value as number;\r\n                setCSMLambda(this._sparent.csmLambda);\r\n            };\r\n\r\n            const changeCSMUseRightDirectionAsUpForOrthoProj = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMUseRightDirectionAsUpForOrthoProj(checked);\r\n                this._sparent.csmUseRightDirectionAsUpForOrthoProj = checked;\r\n            };\r\n\r\n            React.useEffect(() => {\r\n                const handler = (event: Event) => {\r\n                    switch ((event as CustomEvent).detail.type) {\r\n                        case 'setShadowZBounds': {\r\n                            setLightNearPlane(Math.floor(this._sparent.lightNearPlane));\r\n                            setLightFarPlane(Math.floor(this._sparent.lightFarPlane));\r\n                            break;\r\n                        }\r\n                    }\r\n                };\r\n\r\n                window.addEventListener('gui_set_value', handler);\r\n\r\n                return () => {\r\n                    window.removeEventListener('gui_set_value', handler);\r\n                };\r\n            }, []);\r\n\r\n            return (\r\n                <>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>Scene</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Current Scene</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>{this._sparent.sceneName}</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Camera Near Plane</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={cameraNearPlane} min={0} max={10} step={0.01} onChange={changeCameraNearPlane} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Camera Far Plane</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={cameraFarPlane} min={0} max={2000} step={10} onChange={changeCameraFarPlane} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>Light</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Show Helper</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={showLightHelper} onChange={changeShowLightHelper} />                                \r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Animate</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={animateLight} onChange={changeAnimateLight} />                                \r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Color</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"color\" value={lightColor} variant=\"filled\" onChange={changeLightColor} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                { this._showAutoCalcPlanes && <>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Auto Calc Planes</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={autoCalcShadowZBounds} onChange={changeAutoCalcShadowZBounds} />                                \r\n                                    </Paper>\r\n                                </Grid>\r\n                                { true && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Near Plane</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider disabled={autoCalcShadowZBounds} valueLabelDisplay=\"auto\" value={lightNearPlane} min={-250} max={250} step={1} onChange={changeLightNearPlane} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Far Plane</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider disabled={autoCalcShadowZBounds} valueLabelDisplay=\"auto\" value={lightFarPlane} min={0} max={500} step={1} onChange={changeLightFarPlane} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                </> }\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    { this._showCSM && <>\r\n                        <ExpansionPanel defaultExpanded={true}>\r\n                            <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                                <Typography>Cascaded Shadow Maps</Typography>\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails>\r\n                                <Grid container spacing={1}>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Num of Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={csmNumCascades}\r\n                                            onChange={changeNumCascades}\r\n                                        >\r\n                                            { [...Array(8).keys()].map((_, i) => <MenuItem key={i + 1} value={i + 1}>{i + 1}</MenuItem>) }\r\n                                        </Select>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Active Cascade</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={csmActiveCascade}\r\n                                            onChange={changeActiveCascade}\r\n                                        >\r\n                                            { [...Array(csmNumCascades).keys()].map((_, i) => <MenuItem key={i} value={i}>{i + 1}</MenuItem>) }\r\n                                        </Select>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Visualize Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmVisualizeCascades} onChange={changeCSMVisualizeCascades} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Stabilize Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmStabilizeCascades} onChange={changeCSMStabilizeCascades} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Depth Clamp</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmDepthClamp} onChange={changeCSMDepthClamp} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Lambda</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" value={csmLambda} min={0} max={1} step={0.01} onChange={changeCSMLambda} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Use Right as Up</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={csmUseRightDirectionAsUpForOrthoProj} onChange={changeCSMUseRightDirectionAsUpForOrthoProj} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </ExpansionPanelDetails>\r\n                        </ExpansionPanel>\r\n                    </> }\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>{ this._showCSM ? \"Cascade\" : \"Shadow Map\" }</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Show Depth Map</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={shadowMapShowDepthMap} onChange={changeShadowMapShowDepthMap} />                                \r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Size</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Select\r\n                                        className={classes.propertyValue}\r\n                                        value={shadowMapSize}\r\n                                        onChange={changeShadowMapSize}\r\n                                        >\r\n                                        <MenuItem value={2048}>2048x2048</MenuItem>\r\n                                        <MenuItem value={1024}>1024x1024</MenuItem>\r\n                                        <MenuItem value={512}>512x512</MenuItem>\r\n                                        <MenuItem value={256}>256x256</MenuItem>\r\n                                    </Select>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Bias</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"number\" value={shadowMapBias} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapBias} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Normal Bias</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"number\" value={shadowMapNormalBias} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapNormalBias} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Darkness</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={shadowMapDarkness} min={0} max={1} step={0.01} onChange={changeShadowMapDarkness} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Filter Type</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    { !this._showCSM && <>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapFilter}\r\n                                            onChange={changeShadowMapFilter}\r\n                                            >\r\n                                            <MenuItem value={ShadowGenerator.FILTER_PCSS}>PCSS</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_PCF}>PCF</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP}>CESM (Blur)</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_CLOSEEXPONENTIALSHADOWMAP}>CESM</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP}>ESM (Blur)</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_EXPONENTIALSHADOWMAP}>ESM</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_POISSONSAMPLING}>Poisson</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_NONE}>None</MenuItem>\r\n                                        </Select>\r\n                                    </> }\r\n                                    { this._showCSM && <>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapFilter}\r\n                                            onChange={changeShadowMapFilter}\r\n                                            >\r\n                                            <MenuItem value={ShadowGenerator.FILTER_PCF}>PCF</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_NONE}>None</MenuItem>\r\n                                        </Select>\r\n                                    </> }\r\n                                </Grid>\r\n                                {(shadowMapFilter === ShadowGenerator.FILTER_PCSS || shadowMapFilter === ShadowGenerator.FILTER_PCF) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Filtering Quality</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapQuality}\r\n                                            onChange={changeShadowMapQuality}\r\n                                            >\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_LOW}>Low</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_MEDIUM}>Medium</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_HIGH}>High</MenuItem>\r\n                                        </Select>\r\n                                    </Grid>\r\n                                </> }\r\n                                {(shadowMapFilter === ShadowGenerator.FILTER_PCSS) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Light Size UV Ratio</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <TextField type=\"number\" value={shadowMapLightSizeUVRatio} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapLightSizeUVRatio} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                {(shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP || shadowMapFilter === ShadowGenerator.FILTER_EXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Depth Scale</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <TextField type=\"number\" value={shadowMapDepthScale} variant=\"standard\" inputProps={{ step: \"1\" }} onChange={changeShadowMapDepthScale} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                {(shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Blur Scale</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurScale} min={1} max={4} step={1} onChange={changeShadowMapBlurScale} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                {(shadowMapFilter === ShadowGenerator.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP || shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Use Kernel Blur</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={shadowMapUseKernelBlur} onChange={changeShadowMapUseKernelBlur} />                                \r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    {shadowMapUseKernelBlur && <>\r\n                                        <Grid item xs={6}>\r\n                                            <Paper className={classes.subPropertyTitle}>Blur Kernel</Paper>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} className={classes.propertyValue}>\r\n                                            <Paper className={classes.propertyValue}>\r\n                                                <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurKernel} min={1} max={64} step={1} onChange={changeShadowMapBlurKernel} />\r\n                                            </Paper>\r\n                                        </Grid>\r\n                                    </> }\r\n                                    {!shadowMapUseKernelBlur && <>\r\n                                        <Grid item xs={6}>\r\n                                            <Paper className={classes.subPropertyTitle}>Blur Box Offset</Paper>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} className={classes.propertyValue}>\r\n                                            <Paper className={classes.propertyValue}>\r\n                                                <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurBoxOffset} min={1} max={64} step={1} onChange={changeShadowMapBlurBoxOffset} />\r\n                                            </Paper>\r\n                                        </Grid>\r\n                                    </> }\r\n                                </> }\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    {this.createCustomGUIProperties()}\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n","import {\r\n    AbstractMesh,\r\n    Color3,\r\n    DirectionalLight,\r\n    IShadowGenerator,\r\n    Effect,\r\n    LightGizmo,\r\n    Matrix,\r\n    Mesh,\r\n    MeshBuilder,\r\n    Scene,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n    VertexData,\r\n    VectorSplitterBlock,\r\n    SubtractBlock,\r\n    DistanceBlock,\r\n    MinBlock,\r\n    DotBlock,\r\n    CrossBlock,\r\n    NormalizeBlock,\r\n    LengthBlock,\r\n    DivideBlock,\r\n    MultiplyBlock,\r\n    TrigonometryBlock,\r\n    MaxBlock,\r\n    LerpBlock,\r\n    TextureBlock,\r\n    VectorMergerBlock,\r\n    ClampBlock,\r\n    SmoothStepBlock,\r\n    NegateBlock,\r\n    AddBlock,\r\n    AnimatedInputBlockTypes,\r\n    FragmentOutputBlock,\r\n    InputBlock,\r\n    Material,\r\n    NodeMaterial,\r\n    NodeMaterialSystemValues,\r\n    Texture,\r\n    TransformBlock,\r\n    TrigonometryBlockOperations,\r\n    VertexOutputBlock,\r\n    ShaderMaterial,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport Utils from \"../Utils\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\nimport { ISceneDescription } from \"./GlobalGUI\";\r\nimport SplitBase from \"./SplitBase\";\r\nimport StandardShadowGUI from \"./StandardShadowGUI\";\r\n\r\nconst testFog = false;\r\n\r\nexport default class StandardShadow extends SplitBase {\r\n\r\n    public static className: string = \"Standard\";\r\n\r\n    protected sun: DirectionalLight;\r\n    protected _shadowGenerator: IShadowGenerator;\r\n    protected _lightHelperFrustumLines: Array<Mesh>;\r\n    protected _lightGizmo: LightGizmo;\r\n    protected _skyBox: Mesh;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        this.sun = null as any;\r\n        this._shadowGenerator = null as any;\r\n        this._lightHelperFrustumLines = [];\r\n        this._lightGizmo = null as any;\r\n    }\r\n\r\n    protected getStandardGenerator(): ShadowGenerator {\r\n        return this._shadowGenerator as unknown as ShadowGenerator;\r\n    }\r\n\r\n    public get lightColor(): string {\r\n        return this._sunColor.toHexString();\r\n    }\r\n\r\n    public set lightColor(lc: string) {\r\n        this._sunColor = Color3.FromHexString(lc);\r\n        this.sun.diffuse = this._sunColor;\r\n    }\r\n\r\n    public get lightDirection(): Vector3 {\r\n        return this._sunDir;\r\n    }\r\n\r\n    public set lightDirection(ld: Vector3) {\r\n        this._sunDir = ld;\r\n        this.sun.direction = ld;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get shadowMapSize(): number {\r\n        return this._shadowMapSize;\r\n    }\r\n\r\n    public set shadowMapSize(sms: number) {\r\n        this._shadowMapSize = sms;\r\n        this.createShadowGenerator();\r\n    }\r\n\r\n    public get shadowMapFilter(): number {\r\n        return this._shadowMapFilter;\r\n    }\r\n\r\n    public set shadowMapFilter(smf: number) {\r\n        this.getStandardGenerator().filter = smf;\r\n        this._shadowMapFilter = this.getStandardGenerator().filter;\r\n        this.setShadowMapViewerTexture();\r\n    }\r\n\r\n    public get shadowMapBias(): number {\r\n        return this._shadowMapBias;\r\n    }\r\n\r\n    public set shadowMapBias(smb: number) {\r\n        this._shadowMapBias = smb;\r\n        this.getStandardGenerator().bias = smb;\r\n    }\r\n\r\n    public get shadowMapNormalBias(): number {\r\n        return this._shadowMapNormalBias;\r\n    }\r\n\r\n    public set shadowMapNormalBias(smnb: number) {\r\n        this._shadowMapNormalBias = smnb;\r\n        this.getStandardGenerator().normalBias = smnb;\r\n    }\r\n\r\n    public get shadowMapDarkness(): number {\r\n        return this._shadowMapDarkness;\r\n    }\r\n\r\n    public set shadowMapDarkness(smd: number) {\r\n        this._shadowMapDarkness = smd;\r\n        this.getStandardGenerator().darkness = smd;\r\n    }\r\n\r\n    public get shadowMapQuality(): number {\r\n        return this._shadowMapQuality;\r\n    }\r\n\r\n    public set shadowMapQuality(smq: number) {\r\n        this._shadowMapQuality = smq;\r\n        this.getStandardGenerator().filteringQuality = smq;\r\n    }\r\n\r\n    public get shadowMapDepthScale(): number {\r\n        return this._shadowMapDepthScale;\r\n    }\r\n\r\n    public set shadowMapDepthScale(smds: number) {\r\n        this._shadowMapDepthScale = smds;\r\n        this.getStandardGenerator().depthScale = smds;\r\n    }\r\n\r\n    public get shadowMapBlurScale(): number {\r\n        return this._shadowMapBlurScale;\r\n    }\r\n\r\n    public set shadowMapBlurScale(smbs: number) {\r\n        this._shadowMapBlurScale = smbs;\r\n        this.getStandardGenerator().blurScale = smbs;\r\n    }\r\n\r\n    public get shadowMapUseKernelBlur(): boolean {\r\n        return this._shadowMapUseKernelBlur;\r\n    }\r\n\r\n    public set shadowMapUseKernelBlur(smukb: boolean) {\r\n        this._shadowMapUseKernelBlur = smukb;\r\n        this.getStandardGenerator().useKernelBlur = smukb;\r\n    }\r\n\r\n    public get shadowMapBlurKernel(): number {\r\n        return this._shadowMapBlurKernel;\r\n    }\r\n\r\n    public set shadowMapBlurKernel(smbk: number) {\r\n        this._shadowMapBlurKernel = smbk;\r\n        this.getStandardGenerator().blurKernel = smbk;\r\n    }\r\n\r\n    public get shadowMapBlurBoxOffset(): number {\r\n        return this._shadowMapBlurBoxOffset;\r\n    }\r\n\r\n    public set shadowMapBlurBoxOffset(smbbo: number) {\r\n        this._shadowMapBlurBoxOffset = smbbo;\r\n        this.getStandardGenerator().blurBoxOffset = smbbo;\r\n    }\r\n\r\n    public get shadowMapLightSizeUVRatio(): number {\r\n        return this._shadowMapLightSizeUVRatio;\r\n    }\r\n\r\n    public set shadowMapLightSizeUVRatio(smlsuvr: number) {\r\n        this._shadowMapLightSizeUVRatio = smlsuvr;\r\n        this.getStandardGenerator().contactHardeningLightSizeUVRatio = smlsuvr;\r\n    }\r\n\r\n    public get lightNearPlane(): number {\r\n        return this._lightNearPlane;\r\n    }\r\n\r\n    public set lightNearPlane(lnp: number) {\r\n        this._lightNearPlane = lnp;\r\n        this.sun.shadowMinZ = lnp;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get lightFarPlane(): number {\r\n        return this._lightFarPlane;\r\n    }\r\n\r\n    public set lightFarPlane(lfp: number) {\r\n        this._lightFarPlane = lfp;\r\n        this.sun.shadowMaxZ = lfp;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get showLightHelper(): boolean {\r\n        return this._showLightHelper;\r\n    }\r\n\r\n    public set showLightHelper(slh: boolean) {\r\n        this._showLightHelper = slh;\r\n\r\n        if (this._lightGizmo && !slh) {\r\n            this._lightGizmo.dispose();\r\n            this._lightGizmo = null as any;\r\n        }\r\n\r\n        if (slh) {\r\n            this._lightGizmo = new LightGizmo();\r\n            this._lightGizmo.light = this.sun;\r\n        }\r\n\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get autoCalcShadowZBounds(): boolean {\r\n        return this._autoCalcShadowZBounds;\r\n    }\r\n\r\n    public set autoCalcShadowZBounds(acszb: boolean) {\r\n        this._autoCalcShadowZBounds = acszb;\r\n        this.sun.autoCalcShadowZBounds = acszb;\r\n        if (this._autoCalcShadowZBounds) {\r\n            // @ts-ignore\r\n            this.sun.setShadowProjectionMatrix(Matrix.Identity(), this.getStandardGenerator().viewMatrix, this.getStandardGenerator().getShadowMaps()[0].renderList!);\r\n        } else {\r\n            this._lightNearPlane = this.sun.shadowMinZ;\r\n            this._lightFarPlane = this.sun.shadowMaxZ;\r\n\r\n            const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowZBounds' } });\r\n\r\n            window.dispatchEvent(event);\r\n        }\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    protected getLightExtents(): { min: Vector3, max: Vector3 } | null {\r\n        const light = this.sun as any;\r\n\r\n        return {\r\n            \"min\": new Vector3(light._orthoLeft, light._orthoBottom, this.sun.shadowMinZ),\r\n            \"max\": new Vector3(light._orthoRight, light._orthoTop, this.sun.shadowMaxZ),\r\n        }\r\n    }\r\n\r\n    protected getViewMatrix(): Matrix | null {\r\n        // @ts-ignore\r\n        return this.getStandardGenerator().viewMatrix;\r\n    }\r\n\r\n    protected buildLightHelper(): void {\r\n        this._lightHelperFrustumLines.forEach((mesh) => {\r\n            mesh.dispose();\r\n        });\r\n\r\n        this._lightHelperFrustumLines = [];\r\n\r\n        if (!this._showLightHelper) {\r\n            return;\r\n        }\r\n\r\n        const lightExtents = this.getLightExtents();\r\n        const lightView = this.getViewMatrix();\r\n\r\n        if (!lightExtents || !lightView) {\r\n            return;\r\n        }\r\n\r\n        const invLightView = Matrix.Invert(lightView);\r\n\r\n        const n1 = new Vector3(lightExtents.max.x, lightExtents.max.y, lightExtents.min.z);\r\n        const n2 = new Vector3(lightExtents.max.x, lightExtents.min.y, lightExtents.min.z);\r\n        const n3 = new Vector3(lightExtents.min.x, lightExtents.min.y, lightExtents.min.z);\r\n        const n4 = new Vector3(lightExtents.min.x, lightExtents.max.y, lightExtents.min.z);\r\n\r\n        const near1 = Vector3.TransformCoordinates(n1, invLightView);\r\n        const near2 = Vector3.TransformCoordinates(n2, invLightView);\r\n        const near3 = Vector3.TransformCoordinates(n3, invLightView);\r\n        const near4 = Vector3.TransformCoordinates(n4, invLightView);\r\n        \r\n        const f1 = new Vector3(lightExtents.max.x, lightExtents.max.y, lightExtents.max.z);\r\n        const f2 = new Vector3(lightExtents.max.x, lightExtents.min.y, lightExtents.max.z);\r\n        const f3 = new Vector3(lightExtents.min.x, lightExtents.min.y, lightExtents.max.z);\r\n        const f4 = new Vector3(lightExtents.min.x, lightExtents.max.y, lightExtents.max.z);\r\n\r\n        const far1 = Vector3.TransformCoordinates(f1, invLightView);\r\n        const far2 = Vector3.TransformCoordinates(f2, invLightView);\r\n        const far3 = Vector3.TransformCoordinates(f3, invLightView);\r\n        const far4 = Vector3.TransformCoordinates(f4, invLightView);\r\n        \r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"nearlines\", { points: [near1, near2, near3, near4, near1] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"farlines\",  { points: [far1, far2, far3, far4, far1] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"trlines\", { points: [ near1, far1 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"brlines\", { points: [ near2, far2 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"tllines\", { points: [ near3, far3 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"bllines\", { points: [ near4, far4 ] }, this.scene));\r\n\r\n        const makePlane = (name: string, color: Color3, positions: Array<number>) => {\r\n            let plane = new Mesh(name + \"plane\", this.scene), \r\n                mat = new StandardMaterial(name + \"PlaneMat\", this.scene);\r\n\r\n            plane.material = mat;\r\n\r\n            mat.emissiveColor = color;\r\n            mat.alpha = 0.3;\r\n            mat.backFaceCulling = false;\r\n            mat.disableLighting = true;\r\n\r\n            const indices = [0, 1, 2, 0, 2, 3];\r\n            \r\n            const vertexData = new VertexData();\r\n            \r\n            vertexData.positions = positions;\r\n            vertexData.indices = indices;    \r\n            \r\n            vertexData.applyToMesh(plane);\r\n\r\n            this._lightHelperFrustumLines.push(plane);\r\n        };\r\n\r\n        makePlane(\"near\",   new Color3(1, 0, 0),    [near1.x, near1.y, near1.z, near2.x, near2.y, near2.z, near3.x, near3.y, near3.z, near4.x, near4.y, near4.z ]);\r\n        makePlane(\"far\",    new Color3(0.3, 0, 0),  [far1.x, far1.y, far1.z, far2.x, far2.y, far2.z, far3.x, far3.y, far3.z, far4.x, far4.y, far4.z ]);\r\n        makePlane(\"right\",  new Color3(0, 1, 0),    [near1.x, near1.y, near1.z, far1.x, far1.y, far1.z, far2.x, far2.y, far2.z, near2.x, near2.y, near2.z ]);\r\n        makePlane(\"left\",   new Color3(0, 0.3, 0),  [near4.x, near4.y, near4.z, far4.x, far4.y, far4.z, far3.x, far3.y, far3.z, near3.x, near3.y, near3.z ]);\r\n        makePlane(\"top\",    new Color3(0, 0, 1),    [near1.x, near1.y, near1.z, far1.x, far1.y, far1.z, far4.x, far4.y, far4.z, near4.x, near4.y, near4.z ]);\r\n        makePlane(\"bottom\", new Color3(0, 0, 0.3),  [near2.x, near2.y, near2.z, far2.x, far2.y, far2.z, far3.x, far3.y, far3.z, near3.x, near3.y, near3.z ]);\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this.gui = new StandardShadowGUI(this.name, this.scene.getEngine(), this._container, this);\r\n\r\n        this.gui.createGUI();\r\n    }\r\n\r\n    public async initialize(scene: ISceneDescription, ambientColor: Color3, sunDir: Vector3): Promise<ISampleSplit> {\r\n        this.scene.metadata = { \"name\": this.name };\r\n        this._sceneName = scene.dname;\r\n\r\n        this._sunDir = sunDir;\r\n        this._sunColor = scene.sunColor.clone();\r\n\r\n        this.sun = new DirectionalLight(\"sun\", sunDir, this.scene);\r\n        this.sun.intensity = 1;\r\n        this.sun.shadowMinZ = scene.light.nearPlane;\r\n        this.sun.shadowMaxZ = scene.light.farPlane;\r\n        this.sun.diffuse = this._sunColor;\r\n\r\n        (window as any).sun = this.sun;\r\n\r\n        this._skyBox = Utils.addSkybox(\"Clouds.dds\", this.scene, 100);\r\n\r\n        await Utils.loadObj(this.scene, scene.path, scene.name);\r\n\r\n        this.scene.activeCamera = this.camera;\r\n\r\n        this.scene.meshes.forEach((m) => {\r\n            if (m.name == 'skyBox' || m.name.indexOf(\"_shadowmap\") >= 0) { return; }\r\n\r\n            if (!m.material) { return; }\r\n\r\n            const mat = m.material as StandardMaterial;\r\n\r\n            mat.diffuseColor = new Color3(1., 1., 1.);\r\n            mat.specularColor = new Color3(0., 0., 0.);\r\n            mat.ambientColor = ambientColor;\r\n            mat.ambientTexture = null;\r\n            mat.backFaceCulling = scene.backfaceCulling;\r\n\r\n            if (!mat.diffuseTexture) {\r\n                mat.ambientColor = new Color3(0, 0, 0);\r\n            }\r\n            //!mat.freeze();\r\n\r\n            m.receiveShadows = true;\r\n\r\n            if (scene.scaling != 1) {\r\n                let matrix = Matrix.Identity();\r\n                matrix.scaleToRef(scene.scaling, matrix);\r\n                matrix.setRowFromFloats(3, 0, 0, 0, 1);\r\n                (m as Mesh).bakeTransformIntoVertices(matrix);\r\n                m.refreshBoundingInfo();\r\n            }\r\n        });\r\n\r\n        this.createShadowGenerator();\r\n\r\n        return this;\r\n    }\r\n\r\n    protected createGenerator(): ShadowGenerator {\r\n        return new ShadowGenerator(this.shadowMapSize, this.sun);\r\n    }\r\n\r\n    protected setShadowMapViewerTexture(): void {\r\n        // @ts-ignore\r\n        (this._shadowMapPlane.material as StandardMaterial).diffuseTexture = this._shadowMapFilter !== ShadowGenerator.FILTER_PCF ? this._shadowGenerator.getShadowMaps()[0] : null;\r\n    }\r\n\r\n    protected createShadowGenerator(): void {\r\n        if (this._shadowGenerator) {\r\n            this._shadowGenerator.dispose();\r\n            this._shadowGenerator = null as any;\r\n        }\r\n\r\n        const shadowGenerator = this.createGenerator();\r\n\r\n        this._shadowGenerator = shadowGenerator;\r\n\r\n        shadowGenerator.bias = this._shadowMapBias;\r\n        shadowGenerator.normalBias = this._shadowMapNormalBias;\r\n        shadowGenerator.darkness = this._shadowMapDarkness;\r\n        shadowGenerator.filter = this._shadowMapFilter;\r\n        shadowGenerator.filteringQuality = this._shadowMapQuality;\r\n        shadowGenerator.depthScale = this._shadowMapDepthScale;\r\n        shadowGenerator.blurScale = this._shadowMapBlurScale;\r\n        shadowGenerator.useKernelBlur = this._shadowMapUseKernelBlur;\r\n        shadowGenerator.blurKernel = this._shadowMapBlurKernel;\r\n        shadowGenerator.blurBoxOffset = this._shadowMapBlurBoxOffset;\r\n        shadowGenerator.contactHardeningLightSizeUVRatio = this._shadowMapLightSizeUVRatio;\r\n\r\n        this.setShadowMapViewerTexture();\r\n\r\n        (window as any).sg = shadowGenerator;\r\n\r\n        // @ts-ignore\r\n        const renderList = shadowGenerator.renderList!;\r\n\r\n        let num = 0, lstm: Array<AbstractMesh> = [];\r\n        this.scene.meshes.forEach((m) => {\r\n            if (m.name == 'skyBox') { return; }\r\n            renderList.push(m);\r\n            if (testFog) {\r\n                const diffText = (m.material as StandardMaterial).diffuseTexture;\r\n                if (diffText) {\r\n                    //m.material = this.buildNodeMaterial(diffText as Texture);\r\n                    m.material = this.buildShaderMaterial();\r\n                    (m.material as ShaderMaterial).setTexture(\"TextureSampler\", diffText as Texture);\r\n                }\r\n            }\r\n            /*if (m.name == \"mesh_108_Mesh_main_floor_subset_6\" || m.name == \"mesh_121_Mesh_g_bace_main05_subset_0\") {\r\n                if (m.name==\"mesh_121_Mesh_g_bace_main05_subset_0\")\r\n                    renderList.push(m);\r\n            } else {\r\n                lstm.push(m);\r\n            }*/\r\n        });\r\n        lstm.forEach((m) => {\r\n            m.dispose();\r\n        });\r\n\r\n        if (testFog) {\r\n            this.scene.onBeforeRenderObservable.add(() => {\r\n                let time = new Date().getTime();\r\n                this.scene.meshes.forEach((m) => {\r\n                    if (m.name == 'skyBox') { return; }\r\n                    if (m.material instanceof ShaderMaterial) {\r\n                        (m.material as ShaderMaterial).setVector3(\"u_Cameraposition\", this.camera.position);\r\n                        (m.material as ShaderMaterial).setFloat(\"u_FogRadius\", 23+18*Math.cos(time/500));\r\n                        (m.material as ShaderMaterial).setFloat(\"u_FogDensity\", 7+5*Math.cos(time/500));\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    protected buildShaderMaterial(): Material {\r\n        Effect.ShadersStore[\"customVertexShader\"]= `   \r\n        precision highp float;\r\n\r\n        attribute vec3 position;\r\n        attribute vec2 uv;\r\n        \r\n        \r\n        uniform mat4 world;\r\n        uniform mat4 worldViewProjection;\r\n        #ifdef UVTRANSFORM0\r\n        uniform mat4 textureTransform;\r\n        #endif\r\n        \r\n        \r\n        #ifdef UVTRANSFORM0\r\n        varying vec2 transformedUV;\r\n        #endif\r\n        #ifdef VMAINUV\r\n        varying vec2 vMainuv;\r\n        #endif\r\n        varying vec4 v_output2;\r\n        \r\n        \r\n        \r\n        \r\n        float u_ = 1.0;\r\n        float u_PIOver = 1.57;\r\n        float u_1 = 0.0;\r\n        float u_2 = 1.0;\r\n        float u_3 = 0.0;\r\n        float u_4 = 0.0;\r\n        float u_5 = 0.0;\r\n        float u_6 = 0.0;\r\n        \r\n        \r\n        void main(void) {\r\n        vec4 output2 = world * vec4(position, 1.0);\r\n        vec4 output1 = world * vec4(position, 1.0);\r\n        vec4 output0 = worldViewProjection * vec4(position, 1.0);\r\n        gl_Position = output0;\r\n        #ifdef UVTRANSFORM0\r\n        transformedUV = vec2(textureTransform * vec4(uv.xy, 1.0, 0.0));\r\n        #endif\r\n        #ifdef VMAINUV\r\n        vMainuv = uv.xy;\r\n        #endif\r\n        v_output2 = output2;\r\n        \r\n        }\r\n        `;        \r\n\r\n        Effect.ShadersStore[\"customFragmentShader\"]=`\r\n        precision highp float;\r\n\r\n        #ifdef UVTRANSFORM0\r\n        uniform mat4 textureTransform;\r\n        #endif\r\n        uniform vec3 u_FogColor;\r\n        uniform vec3 u_FogCenter;\r\n        uniform vec3 u_Cameraposition;\r\n        uniform float u_FogRadius;\r\n        uniform float u_FogDensity;\r\n        \r\n        \r\n        uniform sampler2D TextureSampler;\r\n        \r\n        \r\n        #ifdef UVTRANSFORM0\r\n        varying vec2 transformedUV;\r\n        #endif\r\n        #ifdef VMAINUV\r\n        varying vec2 vMainuv;\r\n        #endif\r\n        varying vec4 v_output2;\r\n\r\n        #include<helperFunctions>\r\n\r\n        float u_ = 1.0;\r\n        float u_PIOver = 1.57;\r\n        float u_1 = 0.0;\r\n        float u_2 = 1.0;\r\n        float u_3 = 0.0;\r\n        float u_4 = 0.0;\r\n        float u_5 = 0.0;\r\n        float u_6 = 0.0;\r\n        \r\n        void main(void) {\r\n            #ifdef UVTRANSFORM0\r\n            vec4 tempTextureRead = texture(TextureSampler, transformedUV);\r\n            #endif\r\n            #ifdef VMAINUV\r\n            vec4 tempTextureRead = texture(TextureSampler, vMainuv);\r\n            #endif\r\n            vec4 rgba = tempTextureRead.rgba;\r\n            #ifdef ISLINEAR0\r\n            rgba = toGammaSpace(rgba);\r\n            #endif\r\n\r\n            vec3 volFogCenter = u_FogCenter;\r\n            vec3 volFogColor = u_FogColor;\r\n            float volFogRadius = u_FogRadius;\r\n            vec4 vwPos = v_output2;\r\n            vec3 vwCamPos = u_Cameraposition;\r\n\r\n            float volFogRadius2 = volFogRadius * volFogRadius;\r\n            float distCamToPos = distance(vwPos.xyz, vwCamPos);\r\n            vec3 dir = normalize(vwPos.xyz - vwCamPos);\r\n            vec3 L = volFogCenter - vwCamPos;\r\n            float tca = dot(L, dir);\r\n            float d2 = dot(L, L) - tca * tca;\r\n        \r\n            float thc = sqrt(max(volFogRadius2 - d2, 0.0));\r\n            float t0 = tca - thc;\r\n            float t1 = tca + thc;\r\n            float dist =  mix(0.0, min(distCamToPos, t1), max(sign(-t0), 0.0)*max(sign(t1), 0.0))\r\n                        + mix(0.0, min(distCamToPos, t1) - t0, max(sign(t0), 0.0)*max(sign(t1), 0.0)*max(sign(distCamToPos - t0), 0.0));\r\n            float distToCenter = length(cross(volFogCenter - vwCamPos, dir));\r\n            float fr = smoothstep(0.0, 1.0, cos(distToCenter/volFogRadius*3.141592/2.0));\r\n            float e = dist/(volFogRadius*2.0);\r\n            e = 1.0 - exp(-e * u_FogDensity);\r\n            vec4 glFragColorWithFog = mix(rgba, vec4(volFogColor, rgba.a), clamp(e*fr, 0.0, 1.0));\r\n        \r\n            rgba = mix(rgba, glFragColorWithFog, max(sign(volFogRadius2 - d2), 0.0));\r\n        \r\n        \r\n            gl_FragColor = rgba;//output3;\r\n        }\r\n        `;\r\n\r\n        var mat = new ShaderMaterial(\"shader\", this.scene, {\r\n            vertex: \"custom\",\r\n            fragment: \"custom\",\r\n            },\r\n            {\r\n                attributes: [\"position\", \"uv\"],\r\n                uniforms: [\"world\", \"worldViewProjection\", \"u_FogColor\", \"u_FogCenter\", \"u_FogRadius\", \"u_Cameraposition\"],\r\n                defines: [\"#define VMAINUV\"]\r\n            }\r\n        );\r\n\r\n        mat.setColor3(\"u_FogColor\", new Color3(0.95, 0.95, 0.95));\r\n        mat.setVector3(\"u_FogCenter\", new Vector3(0, 5, 0));\r\n        mat.setFloat(\"u_FogRadius\", 25);\r\n        mat.setFloat(\"u_FogDensity\", 4);\r\n\r\n        return mat;\r\n    }\r\n\r\n    protected buildNodeMaterial(diffText: Texture): Material {\r\n        var nodeMaterial = new NodeMaterial(\"node\");\r\n\r\n        // InputBlock\r\n        var position = new InputBlock(\"position\");\r\n        position.setAsAttribute(\"position\");\r\n        \r\n        // TransformBlock\r\n        var worldPos = new TransformBlock(\"worldPos\");\r\n        worldPos.complementZ = 0;\r\n        worldPos.complementW = 1;\r\n        \r\n        // InputBlock\r\n        var world = new InputBlock(\"world\");\r\n        world.setAsSystemValue(NodeMaterialSystemValues.World);\r\n        \r\n        // TransformBlock\r\n        var Worldposition = new TransformBlock(\"World position\");\r\n        Worldposition.complementZ = 0;\r\n        Worldposition.complementW = 1;\r\n        \r\n        // VectorSplitterBlock\r\n        var VectorSplitter = new VectorSplitterBlock(\"VectorSplitter\");\r\n        \r\n        // SubtractBlock\r\n        var wPoscamPos = new SubtractBlock(\"wPos-camPos\");\r\n        \r\n        // InputBlock\r\n        var Cameraposition = new InputBlock(\"Camera position\");\r\n        Cameraposition.setAsSystemValue(NodeMaterialSystemValues.CameraPosition);\r\n        \r\n        // DistanceBlock\r\n        var distCamToPos = new DistanceBlock(\"distCamToPos\");\r\n        \r\n        // MinBlock\r\n        var Min = new MinBlock(\"Min\");\r\n        \r\n        // AddBlock\r\n        var t = new AddBlock(\"t1\");\r\n        \r\n        // DotBlock\r\n        var tca = new DotBlock(\"tca\");\r\n        \r\n        // SubtractBlock\r\n        var L = new SubtractBlock(\"L\");\r\n        \r\n        // InputBlock\r\n        var FogCenter = new InputBlock(\"Fog Center\");\r\n        FogCenter.value = new Vector3(30, 15, 0);\r\n        FogCenter.isConstant = false;\r\n        FogCenter.visibleInInspector = false;\r\n        \r\n        // SubtractBlock\r\n        var Subtract = new SubtractBlock(\"Subtract\");\r\n        \r\n        // InputBlock\r\n        var Cameraposition1 = new InputBlock(\"Camera position\");\r\n        Cameraposition1.setAsSystemValue(NodeMaterialSystemValues.CameraPosition);\r\n        \r\n        // CrossBlock\r\n        var Cross = new CrossBlock(\"Cross\");\r\n        \r\n        // NormalizeBlock\r\n        var dir = new NormalizeBlock(\"dir\");\r\n        \r\n        // LengthBlock\r\n        var distToCenter = new LengthBlock(\"distToCenter\");\r\n        \r\n        // DivideBlock\r\n        var Divide = new DivideBlock(\"Divide\");\r\n        \r\n        // InputBlock\r\n        var FogRadius = new InputBlock(\"Fog Radius\");\r\n        FogRadius.value = 15;\r\n        FogRadius.min = 0;\r\n        FogRadius.max = 10;\r\n        FogRadius.matrixMode = 0;\r\n        FogRadius.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // MultiplyBlock\r\n        var volFogRadius = new MultiplyBlock(\"volFogRadius2\");\r\n        \r\n        // SubtractBlock\r\n        var Subtract1 = new SubtractBlock(\"Subtract\");\r\n        \r\n        // SubtractBlock\r\n        var d = new SubtractBlock(\"d2\");\r\n        \r\n        // DotBlock\r\n        var LdotL = new DotBlock(\"LdotL\");\r\n        \r\n        // MultiplyBlock\r\n        var tcaSquare = new MultiplyBlock(\"tcaSquare\");\r\n        \r\n        // SubtractBlock\r\n        var Subtract2 = new SubtractBlock(\"Subtract\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign = new TrigonometryBlock(\"Sign\");\r\n        Sign.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // MaxBlock\r\n        var Max = new MaxBlock(\"Max\");\r\n        \r\n        // InputBlock\r\n        var ce = new InputBlock(\"c0e\");\r\n        ce.value = 0;\r\n        ce.min = 0;\r\n        ce.max = 0;\r\n        ce.matrixMode = 0;\r\n        ce.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // LerpBlock\r\n        var Lerp = new LerpBlock(\"Lerp\");\r\n        \r\n        // TextureBlock\r\n        var Texture_ = new TextureBlock(\"Texture\");\r\n        Texture_.texture = diffText;\r\n        Texture_.texture.wrapU = 1;\r\n        Texture_.texture.wrapV = 1;\r\n        Texture_.texture.uAng = 0;\r\n        Texture_.texture.vAng = 0;\r\n        Texture_.texture.wAng = 0;\r\n        Texture_.texture.uOffset = 0;\r\n        Texture_.texture.vOffset = 0;\r\n        Texture_.texture.uScale = 1;\r\n        Texture_.texture.vScale = 1;\r\n        Texture_.texture.gammaSpace = true;\r\n        \r\n        // InputBlock\r\n        var uv = new InputBlock(\"uv\");\r\n        uv.setAsAttribute(\"uv\");\r\n        \r\n        // LerpBlock\r\n        var glFragColorWithFog = new LerpBlock(\"glFragColorWithFog\");\r\n        \r\n        // VectorMergerBlock\r\n        var VectorMerger = new VectorMergerBlock(\"VectorMerger\");\r\n        \r\n        // InputBlock\r\n        var FogColor = new InputBlock(\"Fog Color\");\r\n        FogColor.value = new Color3(0.9490196078431372, 0.9490196078431372, 0.9490196078431372);\r\n        FogColor.isConstant = false;\r\n        FogColor.visibleInInspector = false;\r\n        \r\n        // InputBlock\r\n        var cb = new InputBlock(\"c1b\");\r\n        cb.value = 1;\r\n        cb.min = 0;\r\n        cb.max = 0;\r\n        cb.matrixMode = 0;\r\n        cb.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // ClampBlock\r\n        var Clamp = new ClampBlock(\"Clamp\");\r\n        Clamp.minimum = 0;\r\n        Clamp.maximum = 1;\r\n        \r\n        // MultiplyBlock\r\n        var Multiply = new MultiplyBlock(\"Multiply\");\r\n        \r\n        // SmoothStepBlock\r\n        var fr = new SmoothStepBlock(\"fr\");\r\n        \r\n        // TrigonometryBlock\r\n        var Cos = new TrigonometryBlock(\"Cos\");\r\n        Cos.operation = TrigonometryBlockOperations.Cos;\r\n        \r\n        // MultiplyBlock\r\n        var Multiply1 = new MultiplyBlock(\"Multiply\");\r\n        \r\n        // InputBlock\r\n        var PIOverTwo = new InputBlock(\"PIOverTwo\");\r\n        PIOverTwo.value = 1.57;\r\n        PIOverTwo.min = 0;\r\n        PIOverTwo.max = 0;\r\n        PIOverTwo.matrixMode = 0;\r\n        PIOverTwo.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // InputBlock\r\n        var cd = new InputBlock(\"c0d\");\r\n        cd.value = 0;\r\n        cd.min = 0;\r\n        cd.max = 0;\r\n        cd.matrixMode = 0;\r\n        cd.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // InputBlock\r\n        var ca = new InputBlock(\"c1a\");\r\n        ca.value = 1;\r\n        ca.min = 0;\r\n        ca.max = 0;\r\n        ca.matrixMode = 0;\r\n        ca.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // DivideBlock\r\n        var Divide1 = new DivideBlock(\"Divide\");\r\n        \r\n        // AddBlock\r\n        var dist = new AddBlock(\"dist\");\r\n        \r\n        // LerpBlock\r\n        var dist1 = new LerpBlock(\"dist1\");\r\n        \r\n        // InputBlock\r\n        var cb1 = new InputBlock(\"c0b\");\r\n        cb1.value = 0;\r\n        cb1.min = 0;\r\n        cb1.max = 0;\r\n        cb1.matrixMode = 0;\r\n        cb1.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // MaxBlock\r\n        var Max1 = new MaxBlock(\"Max\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign1 = new TrigonometryBlock(\"Sign\");\r\n        Sign1.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // NegateBlock\r\n        var Negate = new NegateBlock(\"Negate\");\r\n        \r\n        // SubtractBlock\r\n        var t1 = new SubtractBlock(\"t0\");\r\n        \r\n        // TrigonometryBlock\r\n        var thc = new TrigonometryBlock(\"thc\");\r\n        thc.operation = TrigonometryBlockOperations.Sqrt;\r\n        \r\n        // MaxBlock\r\n        var Max2 = new MaxBlock(\"Max\");\r\n        \r\n        // InputBlock\r\n        var ca1 = new InputBlock(\"c0a\");\r\n        ca1.value = 0;\r\n        ca1.min = 0;\r\n        ca1.max = 0;\r\n        ca1.matrixMode = 0;\r\n        ca1.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // SubtractBlock\r\n        var Subtract3 = new SubtractBlock(\"Subtract\");\r\n        \r\n        // MinBlock\r\n        var Min1 = new MinBlock(\"Min\");\r\n        \r\n        // LerpBlock\r\n        var dist2 = new LerpBlock(\"dist2\");\r\n        \r\n        // InputBlock\r\n        var cc = new InputBlock(\"c0c\");\r\n        cc.value = 0;\r\n        cc.min = 0;\r\n        cc.max = 0;\r\n        cc.matrixMode = 0;\r\n        cc.animationType  = AnimatedInputBlockTypes.None;\r\n        \r\n        // MaxBlock\r\n        var Max3 = new MaxBlock(\"Max\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign2 = new TrigonometryBlock(\"Sign\");\r\n        Sign2.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // SubtractBlock\r\n        var Subtract4 = new SubtractBlock(\"Subtract\");\r\n        \r\n        // MultiplyBlock\r\n        var Multiply2 = new MultiplyBlock(\"Multiply\");\r\n        \r\n        // MultiplyBlock\r\n        var Multiply3 = new MultiplyBlock(\"Multiply\");\r\n        \r\n        // MaxBlock\r\n        var Max4 = new MaxBlock(\"Max\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign3 = new TrigonometryBlock(\"Sign\");\r\n        Sign3.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // MaxBlock\r\n        var Max5 = new MaxBlock(\"Max\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign4 = new TrigonometryBlock(\"Sign\");\r\n        Sign4.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // MultiplyBlock\r\n        var Multiply4 = new MultiplyBlock(\"Multiply\");\r\n        \r\n        // MaxBlock\r\n        var Max6 = new MaxBlock(\"Max\");\r\n        \r\n        // TrigonometryBlock\r\n        var Sign5 = new TrigonometryBlock(\"Sign\");\r\n        Sign5.operation = TrigonometryBlockOperations.Sign;\r\n        \r\n        // AddBlock\r\n        var Add = new AddBlock(\"Add\");\r\n        \r\n        // FragmentOutputBlock\r\n        var fragmentOutput = new FragmentOutputBlock(\"fragmentOutput\");\r\n        \r\n        // TransformBlock\r\n        var worldPosviewProjectionTransform = new TransformBlock(\"worldPos * viewProjectionTransform\");\r\n        worldPosviewProjectionTransform.complementZ = 0;\r\n        worldPosviewProjectionTransform.complementW = 1;\r\n        \r\n        // InputBlock\r\n        var viewProjection = new InputBlock(\"viewProjection\");\r\n        viewProjection.setAsSystemValue(NodeMaterialSystemValues.ViewProjection);\r\n        \r\n        // VertexOutputBlock\r\n        var vertexOutput = new VertexOutputBlock(\"vertexOutput\");\r\n        \r\n        // Connections\r\n        position.output.connectTo(worldPos.vector);\r\n        world.output.connectTo(worldPos.transform);\r\n        worldPos.output.connectTo(worldPosviewProjectionTransform.vector);\r\n        viewProjection.output.connectTo(worldPosviewProjectionTransform.transform);\r\n        worldPosviewProjectionTransform.output.connectTo(vertexOutput.vector);\r\n        uv.output.connectTo(Texture_.uv);\r\n        Texture_.rgba.connectTo(Lerp.left);\r\n        Texture_.rgba.connectTo(glFragColorWithFog.left);\r\n        FogColor.output.connectTo(VectorMerger.xyz );\r\n        cb.output.connectTo(VectorMerger.w);\r\n        VectorMerger.xyzw.connectTo(glFragColorWithFog.right);\r\n        FogCenter.output.connectTo(Subtract.left);\r\n        Cameraposition1.output.connectTo(Subtract.right);\r\n        Subtract.output.connectTo(Cross.left);\r\n        position.output.connectTo(Worldposition.vector);\r\n        world.output.connectTo(Worldposition.transform);\r\n        Worldposition.output.connectTo(VectorSplitter.xyzw);\r\n        VectorSplitter.xyzOut.connectTo(wPoscamPos.left);\r\n        Cameraposition.output.connectTo(wPoscamPos.right);\r\n        wPoscamPos.output.connectTo(dir.input);\r\n        dir.output.connectTo(Cross.right);\r\n        Cross.output.connectTo(distToCenter.value);\r\n        distToCenter.output.connectTo(Divide.left);\r\n        FogRadius.output.connectTo(Divide.right);\r\n        Divide.output.connectTo(Multiply1.left);\r\n        PIOverTwo.output.connectTo(Multiply1.right);\r\n        Multiply1.output.connectTo(Cos.input);\r\n        Cos.output.connectTo(fr.value);\r\n        cd.output.connectTo(fr.edge0);\r\n        ca.output.connectTo(fr.edge1);\r\n        fr.output.connectTo(Multiply.left);\r\n        cb1.output.connectTo(dist1.left);\r\n        VectorSplitter.xyzOut.connectTo(distCamToPos.left);\r\n        Cameraposition.output.connectTo(distCamToPos.right);\r\n        distCamToPos.output.connectTo(Min.left);\r\n        FogCenter.output.connectTo(L.left);\r\n        Cameraposition.output.connectTo(L.right);\r\n        L.output.connectTo(tca.left);\r\n        dir.output.connectTo(tca.right);\r\n        tca.output.connectTo(t.left);\r\n        FogRadius.output.connectTo(volFogRadius.left);\r\n        FogRadius.output.connectTo(volFogRadius.right);\r\n        volFogRadius.output.connectTo(Subtract1.left);\r\n        L.output.connectTo(LdotL.left);\r\n        L.output.connectTo(LdotL.right);\r\n        LdotL.output.connectTo(d.left);\r\n        tca.output.connectTo(tcaSquare.left);\r\n        tca.output.connectTo(tcaSquare.right);\r\n        tcaSquare.output.connectTo(d.right);\r\n        d.output.connectTo(Subtract1.right);\r\n        Subtract1.output.connectTo(Max2.left);\r\n        ca1.output.connectTo(Max2.right);\r\n        Max2.output.connectTo(thc.input);\r\n        thc.output.connectTo(t.right);\r\n        t.output.connectTo(Min.right);\r\n        Min.output.connectTo(dist1.right);\r\n        tca.output.connectTo(t1.left);\r\n        thc.output.connectTo(t1.right);\r\n        t1.output.connectTo(Negate.value);\r\n        Negate.output.connectTo(Sign1.input);\r\n        Sign1.output.connectTo(Max1.left);\r\n        cb1.output.connectTo(Max1.right);\r\n        Max1.output.connectTo(Multiply4.left);\r\n        t.output.connectTo(Sign5.input);\r\n        Sign5.output.connectTo(Max6.left);\r\n        cb1.output.connectTo(Max6.right);\r\n        Max6.output.connectTo(Multiply4.right);\r\n        Multiply4.output.connectTo(dist1.gradient);\r\n        dist1.output.connectTo(dist.left);\r\n        cc.output.connectTo(dist2.left);\r\n        distCamToPos.output.connectTo(Min1.left);\r\n        t.output.connectTo(Min1.right);\r\n        Min1.output.connectTo(Subtract3.left);\r\n        t1.output.connectTo(Subtract3.right);\r\n        Subtract3.output.connectTo(dist2.right);\r\n        distCamToPos.output.connectTo(Subtract4.left);\r\n        t1.output.connectTo(Subtract4.right);\r\n        Subtract4.output.connectTo(Sign2.input);\r\n        Sign2.output.connectTo(Max3.left);\r\n        cc.output.connectTo(Max3.right);\r\n        Max3.output.connectTo(Multiply2.left);\r\n        t1.output.connectTo(Sign3.input);\r\n        Sign3.output.connectTo(Max4.left);\r\n        cc.output.connectTo(Max4.right);\r\n        Max4.output.connectTo(Multiply3.left);\r\n        t.output.connectTo(Sign4.input);\r\n        Sign4.output.connectTo(Max5.left);\r\n        cc.output.connectTo(Max5.right);\r\n        Max5.output.connectTo(Multiply3.right);\r\n        Multiply3.output.connectTo(Multiply2.right);\r\n        Multiply2.output.connectTo(dist2.gradient);\r\n        dist2.output.connectTo(dist.right);\r\n        dist.output.connectTo(Divide1.left);\r\n        FogRadius.output.connectTo(Add.left);\r\n        FogRadius.output.connectTo(Add.right);\r\n        Add.output.connectTo(Divide1.right);\r\n        Divide1.output.connectTo(Multiply.right);\r\n        Multiply.output.connectTo(Clamp.value);\r\n        Clamp.output.connectTo(glFragColorWithFog.gradient);\r\n        glFragColorWithFog.output.connectTo(Lerp.right);\r\n        volFogRadius.output.connectTo(Subtract2.left);\r\n        d.output.connectTo(Subtract2.right);\r\n        Subtract2.output.connectTo(Sign.input);\r\n        Sign.output.connectTo(Max.left);\r\n        ce.output.connectTo(Max.right);\r\n        Max.output.connectTo(Lerp.gradient);\r\n        Lerp.output.connectTo(fragmentOutput.rgba);\r\n        \r\n        // Output nodes\r\n        nodeMaterial.addOutputNode(vertexOutput);\r\n        nodeMaterial.addOutputNode(fragmentOutput);\r\n        nodeMaterial.build();\r\n\r\n        //nodeMaterial.depthFunction = Engine.LEQUAL;\r\n        nodeMaterial.forceDepthWrite = true;\r\n        \r\n        return nodeMaterial;\r\n    }\r\n\r\n    public render(): void {\r\n        this._skyBox.position.copyFrom(this.camera.position);\r\n        this.scene.render();\r\n\r\n        /*if (this._animateLight && this._autoCalcShadowZBounds) {\r\n            this._lightNearPlane = this.sun.shadowMinZ;\r\n            this._lightFarPlane = this.sun.shadowMaxZ;\r\n\r\n            const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowZBounds' } });\r\n\r\n            window.dispatchEvent(event);\r\n        }*/\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Button,\r\n    Checkbox,\r\n    ExpansionPanel,\r\n    ExpansionPanelDetails,\r\n    ExpansionPanelSummary,\r\n    Icon,\r\n    Typography,\r\n} from '@material-ui/core';\r\n\r\nimport SplitBaseGUI from \"./SplitBaseGUI\";\r\n\r\nexport default class StandardShadowGUI extends SplitBaseGUI {\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const Properties = () => {\r\n            return (\r\n                <>\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n}\r\n","import {\r\n    AbstractMesh,\r\n    BoundingInfo,\r\n    Effect,\r\n    IShadowGenerator,\r\n    IShadowLight,\r\n    Light,\r\n    MaterialDefines,\r\n    Matrix,\r\n    Nullable,\r\n    Observer,\r\n    RenderTargetTexture,\r\n    Scene,\r\n    ShadowGenerator,\r\n    SubMesh,\r\n    Vector3,\r\n} from 'babylonjs';\r\n\r\nimport { CSMShadowMap } from './csmShadowMap';\r\n\r\nexport interface ICascade {\r\n\r\n    generator: CSMShadowMap;\r\n\r\n    prevSplitDistance: number;\r\n\r\n    splitDistance: number;\r\n\r\n}\r\n\r\n// @ts-ignore\r\nexport class CSMShadowGenerator implements IShadowGenerator {\r\n\r\n    public static readonly CASCADE_ALL = -1;\r\n    public static readonly CASCADE_1 = 0;\r\n    public static readonly CASCADE_2 = 1;\r\n    public static readonly CASCADE_3 = 2;\r\n    public static readonly CASCADE_4 = 3;\r\n    public static readonly CASCADE_5 = 4;\r\n    public static readonly CASCADE_6 = 5;\r\n    public static readonly CASCADE_7 = 6;\r\n    public static readonly CASCADE_8 = 7;\r\n\r\n    protected _activeCascade: number;\r\n\r\n    public get activeCascade(): number {\r\n        return this._activeCascade;\r\n    }\r\n\r\n    public set activeCascade(index: number) {\r\n        if (index !== CSMShadowGenerator.CASCADE_ALL && (index < 0 || index >= this._numCascades)) {\r\n            index = 0;\r\n        }\r\n        this._activeCascade = index;\r\n    }\r\n\r\n    protected _numCascades: number;\r\n\r\n    public get numCascades(): number {\r\n        return this._numCascades;\r\n    }\r\n\r\n    protected _lambda: number;\r\n\r\n    public get lambda(): number {\r\n        return this._lambda;\r\n    }\r\n\r\n    public set lambda(value: number) {\r\n        this._lambda = value;\r\n        this.setDistanceSplit();\r\n    }\r\n\r\n    protected _minDistance: number;\r\n\r\n    public get minDistance(): number {\r\n        return this._minDistance;\r\n    }\r\n\r\n    public set minDistance(min: number) {\r\n        this._minDistance = min;\r\n    }\r\n\r\n    protected _maxDistance: number;\r\n\r\n    public get maxDistance(): number {\r\n        return this._maxDistance;\r\n    }\r\n\r\n    public set maxDistance(min: number) {\r\n        this._maxDistance = min;\r\n    }\r\n\r\n    protected _stabilizeCascades: boolean;\r\n\r\n    public get stabilizeCascades(): boolean {\r\n        return this._stabilizeCascades;\r\n    }\r\n\r\n    public set stabilizeCascades(value: boolean) {\r\n        this._stabilizeCascades = value;\r\n    }\r\n\r\n    protected _useRightDirectionAsUpForOrthoProj: boolean;\r\n\r\n    public get useRightDirectionAsUpForOrthoProj(): boolean {\r\n        return this._useRightDirectionAsUpForOrthoProj;\r\n    }\r\n\r\n    public set useRightDirectionAsUpForOrthoProj(value: boolean) {\r\n        this._useRightDirectionAsUpForOrthoProj = value;\r\n    }\r\n\r\n    protected _freezeShadowCastersBoundingInfo: boolean = false;\r\n    private _freezeShadowCastersBoundingInfoObservable: Nullable<Observer<Scene>> = null;\r\n\r\n    public get freezeShadowCastersBoundingInfo(): boolean {\r\n        return this._freezeShadowCastersBoundingInfo;\r\n    }\r\n\r\n    public set freezeShadowCastersBoundingInfo(freeze: boolean) {\r\n        if (this._freezeShadowCastersBoundingInfoObservable && freeze) {\r\n            this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable);\r\n            this._freezeShadowCastersBoundingInfoObservable = null;\r\n        }\r\n\r\n        if (!this._freezeShadowCastersBoundingInfoObservable && !freeze) {\r\n            this._freezeShadowCastersBoundingInfoObservable = this._scene.onBeforeRenderObservable.add(this._computeShadowCastersBoundingInfo.bind(this));\r\n        }\r\n\r\n        this._freezeShadowCastersBoundingInfo = freeze;\r\n\r\n        if (freeze) {\r\n            this._computeShadowCastersBoundingInfo();\r\n        }\r\n    }\r\n\r\n    protected _shadowCastersBoundingInfo: BoundingInfo;\r\n\r\n    public get shadowCastersBoundingInfo(): BoundingInfo {\r\n        return this._shadowCastersBoundingInfo;\r\n    }\r\n\r\n    public set shadowCastersBoundingInfo(boundingInfo: BoundingInfo) {\r\n        this._shadowCastersBoundingInfo = boundingInfo;\r\n    }\r\n\r\n    protected _debug: boolean;\r\n\r\n    public get debug(): boolean {\r\n        return this._debug;\r\n    }\r\n\r\n    public set debug(dbg: boolean) {\r\n        this._debug = dbg;\r\n        this._light._markMeshesAsLightDirty();\r\n    }\r\n\r\n    protected _cascades: Array<ICascade>;\r\n\r\n    public get cascade(): Nullable<ICascade> {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade] : null;\r\n    }\r\n\r\n    protected _renderList: Array<AbstractMesh>;\r\n\r\n    public get renderList(): Array<AbstractMesh> {\r\n        return this._renderList;\r\n    }\r\n\r\n    public get bias(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.bias : -1;\r\n    }\r\n\r\n    public set bias(bias: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.bias = bias);\r\n    }\r\n\r\n    public get normalBias(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.normalBias : -1;\r\n    }\r\n\r\n    public set normalBias(normalBias: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.normalBias = normalBias);\r\n    }\r\n\r\n    public get blurBoxOffset(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.blurBoxOffset : -1;\r\n    }\r\n\r\n    public set blurBoxOffset(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.blurBoxOffset = value);\r\n    }\r\n\r\n    public get blurScale(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.blurScale : -1;\r\n    }\r\n\r\n    public set blurScale(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.blurScale = value);\r\n    }\r\n\r\n    public get blurKernel(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.blurKernel : -1;\r\n    }\r\n\r\n    public set blurKernel(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.blurKernel = value);\r\n    }\r\n\r\n    public get useKernelBlur(): boolean {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.useKernelBlur : false;\r\n    }\r\n\r\n    public set useKernelBlur(value: boolean) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.useKernelBlur = value);\r\n    }\r\n\r\n    public get depthScale(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.depthScale : -1;\r\n    }\r\n\r\n    public set depthScale(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.depthScale = value);\r\n    }\r\n\r\n    public get filter(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.filter : -1;\r\n    }\r\n\r\n    public set filter(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.filter = value);\r\n    }\r\n\r\n    public get filteringQuality(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.filteringQuality : -1;\r\n    }\r\n\r\n    public set filteringQuality(filteringQuality: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.filteringQuality = filteringQuality);\r\n    }\r\n\r\n    public get contactHardeningLightSizeUVRatio(): number {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.contactHardeningLightSizeUVRatio : -1;\r\n    }\r\n\r\n    public set contactHardeningLightSizeUVRatio(contactHardeningLightSizeUVRatio: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.contactHardeningLightSizeUVRatio = contactHardeningLightSizeUVRatio);\r\n    }\r\n\r\n    public get darkness() {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.darkness : -1;\r\n    }\r\n\r\n    public set darkness(value: number) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.darkness = value);\r\n    }\r\n\r\n    public get transparencyShadow() {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.transparencyShadow : false;\r\n    }\r\n\r\n    public set transparencyShadow(value: boolean) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.transparencyShadow = value);\r\n    }\r\n\r\n    public get forceBackFacesOnly(): boolean {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.forceBackFacesOnly : false;\r\n    }\r\n\r\n    public set forceBackFacesOnly(value: boolean) {\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.forceBackFacesOnly = value);\r\n    }\r\n\r\n    public get depthClamp(): boolean {\r\n        // @ts-ignore\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.depthClamp : false;\r\n    }\r\n\r\n    public set depthClamp(value: boolean) {\r\n        // @ts-ignore\r\n        this._getActiveCascades().forEach((cascade) => cascade.generator.depthClamp = value);\r\n    }\r\n\r\n    public get viewMatrix(): Nullable<Matrix> {\r\n        return this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? this._cascades[this._activeCascade].generator.viewMatrix : null;\r\n    }\r\n\r\n    public getClassName(): string {\r\n        return \"CSMShadowGenerator\";\r\n    }\r\n\r\n    public addShadowCaster(mesh: AbstractMesh, includeDescendants = true): CSMShadowGenerator {\r\n        this._renderList.push(mesh);\r\n\r\n        if (includeDescendants) {\r\n            this._renderList.push(...mesh.getChildMeshes());\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public removeShadowCaster(mesh: AbstractMesh, includeDescendants = true): CSMShadowGenerator {\r\n        const index = this._renderList.indexOf(mesh);\r\n\r\n        if (index !== -1) {\r\n            this._renderList.splice(index, 1);\r\n        }\r\n\r\n        if (includeDescendants) {\r\n            for (let child of mesh.getChildren()) {\r\n                this.removeShadowCaster(<any>child);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    protected _getActiveCascades(forceAll: boolean = true): Array<ICascade> {\r\n        return  this._activeCascade === CSMShadowGenerator.CASCADE_ALL || forceAll ? this._cascades :\r\n                this._activeCascade >= 0 && this._activeCascade < this._cascades.length ? [this._cascades[this._activeCascade]] : [];\r\n    }\r\n\r\n    protected _light: IShadowLight;\r\n\r\n    public getLight(): IShadowLight {\r\n        return this._light;\r\n    }\r\n\r\n    protected _scene: Scene;\r\n    protected _mapSize: number;\r\n    protected _usefulFloatFirst: boolean | undefined;\r\n    protected _lightMatrices: Float32Array;\r\n    protected _samplers: Array<RenderTargetTexture>;\r\n    protected _cascadeDepths: Array<number>;\r\n\r\n    constructor(mapSize: number, light: IShadowLight, numCascades: number = 4, usefulFloatFirst?: boolean) {\r\n        if (numCascades < 1) {\r\n            numCascades = 1;\r\n        }\r\n\r\n        if (light.getTypeID() != Light.LIGHTTYPEID_DIRECTIONALLIGHT) {\r\n            console.error('Invalid light type for CSMShadowGenerator! Only directional lights are allowed.');\r\n        }\r\n\r\n        this._cascades = [];\r\n        this._activeCascade = CSMShadowGenerator.CASCADE_ALL;\r\n        this._renderList = [];\r\n        this._numCascades = numCascades;\r\n        this._lambda = 0.7;\r\n        this._minDistance = 0;\r\n        this._maxDistance = 1;\r\n        this._stabilizeCascades = false;\r\n        this._useRightDirectionAsUpForOrthoProj = false;\r\n        this._shadowCastersBoundingInfo = new BoundingInfo(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n        this._lightMatrices = new Float32Array(numCascades * 16);\r\n        this._samplers = new Array(numCascades);\r\n        this._cascadeDepths = new Array(numCascades);\r\n        this._debug = false;\r\n\r\n        this._mapSize = mapSize;\r\n        this._usefulFloatFirst = usefulFloatFirst;\r\n        this._light = light;\r\n        this._scene = light.getScene();\r\n\r\n        ShadowGenerator._SceneComponentInitialization(this._scene);\r\n\r\n        this.freezeShadowCastersBoundingInfo = false;\r\n\r\n        this._initializeGenerator();\r\n    }\r\n\r\n    protected _initializeGenerator(): void {\r\n        this._light._markMeshesAsLightDirty();\r\n        this._initializeCSM();\r\n    }\r\n\r\n    protected _initializeCSM(): void {\r\n        for (let cascadeIndex = 0; cascadeIndex < this._numCascades; ++cascadeIndex) {\r\n            const cascade: ICascade = {\r\n                generator: new CSMShadowMap(this._mapSize, this._light, !!this._usefulFloatFirst, this),\r\n                prevSplitDistance: 0,\r\n                splitDistance: 0,\r\n            };\r\n\r\n            cascade.generator.cascade = cascade;\r\n            // @ts-ignore\r\n            cascade.generator.renderList = this._renderList;\r\n\r\n            this._cascades.push(cascade);\r\n        }\r\n\r\n        if (this._activeCascade !== CSMShadowGenerator.CASCADE_ALL && this._activeCascade >= this._numCascades) {\r\n            this._activeCascade = 0;\r\n        }\r\n\r\n        this.setDistanceSplit();\r\n    }\r\n\r\n    public setDistanceSplit(): void {\r\n        let camera = this._scene.activeCamera;\r\n        if (!camera) {\r\n            return;\r\n        }\r\n\r\n        const near = camera.minZ,\r\n              far = camera.maxZ,\r\n              cameraRange = far - near;\r\n\r\n        const minZ = near + this._minDistance * cameraRange,\r\n              maxZ = near + this._maxDistance * cameraRange;\r\n\r\n        const range = maxZ - minZ,\r\n              ratio = maxZ / minZ;\r\n\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\r\n            const p = (cascadeIndex + 1) / this._numCascades,\r\n                  log = minZ * (ratio ** p),\r\n                  uniform = minZ + range * p;\r\n\r\n            const d = this._lambda * (log - uniform) + uniform;\r\n\r\n            this._cascades[cascadeIndex].prevSplitDistance = cascadeIndex === 0 ? this._minDistance : this._cascades[cascadeIndex - 1].splitDistance;\r\n            this._cascades[cascadeIndex].splitDistance = (d - near) / cameraRange;\r\n        }\r\n    }\r\n\r\n    protected _computeShadowCastersBoundingInfo(): void {\r\n        const min = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE),\r\n              max = new Vector3(Number.MIN_VALUE, Number.MIN_VALUE, Number.MIN_VALUE);\r\n\r\n        for (let meshIndex = 0; meshIndex < this._renderList.length; meshIndex++) {\r\n            const mesh = this._renderList[meshIndex];\r\n\r\n            if (!mesh) {\r\n                continue;\r\n            }\r\n\r\n            const boundingInfo = mesh.getBoundingInfo(),\r\n                  boundingBox = boundingInfo.boundingBox;\r\n\r\n            min.minimizeInPlace(boundingBox.minimumWorld);\r\n            max.maximizeInPlace(boundingBox.maximumWorld);\r\n        }\r\n\r\n        this._shadowCastersBoundingInfo.reConstruct(min, max);\r\n    }\r\n\r\n    public get mustRender(): boolean {\r\n        return this.renderList.length > 0;\r\n    }\r\n\r\n    isReady(subMesh: SubMesh, useInstances: boolean): boolean {\r\n        let ready = true;\r\n\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length && ready; ++cascadeIndex) {\r\n            ready = ready && this._cascades[cascadeIndex].generator.isReady(subMesh, useInstances, false);\r\n        }\r\n\r\n        return ready;\r\n    }\r\n\r\n    getShadowMaps(): Array<RenderTargetTexture> {\r\n        const rttList: Array<RenderTargetTexture> = [];\r\n\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\r\n            const cascade = this._cascades[cascadeIndex],\r\n                  rtt = cascade.generator.getShadowMap();\r\n\r\n            if (rtt) {\r\n                rttList.push(rtt);\r\n            }\r\n        }\r\n\r\n        return rttList;\r\n    }\r\n\r\n    prepareDefines(defines: MaterialDefines, lightIndex: number): void {\r\n        var scene = this._scene;\r\n        var light = this._light;\r\n\r\n        if (!scene.shadowsEnabled || !light.shadowEnabled || this._cascades.length < 1) {\r\n            return;\r\n        }\r\n\r\n        this._cascades[0].generator.prepareDefines(defines, lightIndex);\r\n\r\n        defines[\"SHADOWCSM\" + lightIndex] = true;\r\n        defines[\"SHADOWCSM\" + lightIndex + \"_NUMCASCADES\"] = this._numCascades;\r\n        defines[\"SHADOWCSM\" + lightIndex + \"_DEBUG\"] = this._debug;\r\n    }\r\n\r\n    bindShadowLight(lightIndex: string, effect: Effect): void {\r\n        const light = this._light;\r\n        const scene = this._scene;\r\n\r\n        if (!scene.shadowsEnabled || !light.shadowEnabled || this._cascades.length < 1) {\r\n            return;\r\n        }\r\n\r\n        let camera = scene.activeCamera;\r\n        if (!camera) {\r\n            return;\r\n        }\r\n\r\n        let masterGenerator = this._cascades[0].generator;\r\n        let shadowMap0 = masterGenerator.getShadowMap();\r\n\r\n        if (!shadowMap0) {\r\n            return;\r\n        }\r\n\r\n        const cameraRange = camera.maxZ - camera.minZ;\r\n\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\r\n            const cascade = this._cascades[cascadeIndex];\r\n\r\n            let matrix = cascade.generator.getTransformMatrix();\r\n\r\n            matrix.copyToArray(this._lightMatrices, cascadeIndex * 16);\r\n\r\n            if (masterGenerator.filter === ShadowGenerator.FILTER_PCF) {\r\n                effect.setDepthStencilTexture(\"shadowSampler\" + lightIndex + \"_\" + cascadeIndex, cascade.generator.getShadowMapForRendering());\r\n            } else {\r\n                this._samplers[cascadeIndex] = cascade.generator.getShadowMapForRendering()!;\r\n            }\r\n\r\n            this._cascadeDepths[cascadeIndex] = camera.minZ + cascade.splitDistance * cameraRange;\r\n        }\r\n\r\n        if (!light.needCube()) {\r\n            effect.setMatrices(\"lightMatrix\" + lightIndex, this._lightMatrices);\r\n        }\r\n\r\n        effect.setInt(\"numCascades\" + lightIndex, this._cascades.length);\r\n        if (masterGenerator.filter !== ShadowGenerator.FILTER_PCF) {\r\n            effect.setTextureArray(\"shadowSampler\" + lightIndex, this._samplers);\r\n        }\r\n        effect.setArray(\"cascadeSplits\" + lightIndex, this._cascadeDepths);\r\n\r\n        if (masterGenerator.filter === ShadowGenerator.FILTER_PCF) {\r\n            light._uniformBuffer.updateFloat4(\"shadowsInfo\", masterGenerator.getDarkness(), shadowMap0.getSize().width, 1 / shadowMap0.getSize().width, masterGenerator.frustumEdgeFalloff, lightIndex);\r\n        } else if (masterGenerator.filter === ShadowGenerator.FILTER_PCSS) {\r\n            light._uniformBuffer.updateFloat4(\"shadowsInfo\", masterGenerator.getDarkness(), 1 / shadowMap0.getSize().width, masterGenerator.contactHardeningLightSizeUVRatio * shadowMap0.getSize().width, masterGenerator.frustumEdgeFalloff, lightIndex);\r\n        } else {\r\n            light._uniformBuffer.updateFloat4(\"shadowsInfo\", masterGenerator.getDarkness(), masterGenerator.blurScale / shadowMap0.getSize().width, masterGenerator.depthScale, masterGenerator.frustumEdgeFalloff, lightIndex);\r\n        }\r\n\r\n        light._uniformBuffer.updateFloat2(\"depthValues\", this.getLight().getDepthMinZ(camera), this.getLight().getDepthMinZ(camera) + this.getLight().getDepthMaxZ(camera), lightIndex);\r\n    }\r\n\r\n    recreate(): void {\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\r\n            // @ts-ignore\r\n            this._cascades[cascadeIndex].generator.recreate();\r\n        }\r\n    }\r\n\r\n    forceCompilation(onCompiled?: (generator: ShadowGenerator) => void, options?: Partial<{ useInstances: boolean }>): void {\r\n        // todo\r\n    }\r\n\r\n    forceCompilationAsync(options?: Partial<{ useInstances: boolean }>): Promise<void> {\r\n        // todo\r\n        return Promise.resolve();\r\n    }\r\n\r\n    serialize(): any {\r\n        // todo\r\n    }\r\n\r\n    dispose(): void {\r\n        for (let cascadeIndex = 0; cascadeIndex < this._cascades.length; ++cascadeIndex) {\r\n            this._cascades[cascadeIndex].generator.dispose();\r\n        }\r\n        this._cascades = [];\r\n        this._numCascades = 0;\r\n        if (this._freezeShadowCastersBoundingInfoObservable) {\r\n            this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable);\r\n            this._freezeShadowCastersBoundingInfoObservable = null;\r\n        }\r\n    }\r\n\r\n}","import {\r\n    IShadowLight,\r\n    Matrix,\r\n    Nullable,\r\n    ShadowGenerator,\r\n    Vector3,\r\n} from 'babylonjs';\r\n\r\ndeclare type ShadowCSMGenerator = import(\"./csmShadowGenerator\").CSMShadowGenerator;\r\ndeclare type ICascade = import(\"./csmShadowGenerator\").ICascade;\r\n\r\nconst UpDir = Vector3.Up();\r\nconst RightDir = Vector3.Right();\r\nconst ZeroVec = Vector3.Zero();\r\n\r\nlet tmpv1 = new Vector3(),\r\n    tmpv2 = new Vector3(),\r\n    matrix = new Matrix();\r\n\r\nexport class CSMShadowMap extends ShadowGenerator {\r\n\r\n    protected static readonly frustumCornersNDCSpace = [\r\n        new Vector3(-1.0, +1.0, -1.0),\r\n        new Vector3(+1.0, +1.0, -1.0),\r\n        new Vector3(+1.0, -1.0, -1.0),\r\n        new Vector3(-1.0, -1.0, -1.0),\r\n        new Vector3(-1.0, +1.0, +1.0),\r\n        new Vector3(+1.0, +1.0, +1.0),\r\n        new Vector3(+1.0, -1.0, +1.0),\r\n        new Vector3(-1.0, -1.0, +1.0),\r\n    ];\r\n\r\n    protected _lightMinExtents: Vector3;\r\n\r\n    public get lightMinExtents(): Vector3 {\r\n        return this._lightMinExtents;\r\n    }\r\n\r\n    protected _lightMaxExtents: Vector3;\r\n\r\n    public get lightMaxExtents(): Vector3 {\r\n        return this._lightMaxExtents;\r\n    }\r\n\r\n    protected _parent: ShadowCSMGenerator;\r\n    protected _cascade: Nullable<ICascade>;\r\n    protected _frustumCornersWorldSpace: Array<Vector3>;\r\n    protected _minExtents: Vector3;\r\n    protected _maxExtents: Vector3;\r\n    protected _frustumCenter: Vector3;\r\n    protected _cascadeExtents: Vector3;\r\n    protected _shadowCameraPos: Vector3;\r\n\r\n    constructor(mapSize: number, light: IShadowLight, usefulFloatFirst: boolean, parent: ShadowCSMGenerator) {\r\n        super(mapSize, light, usefulFloatFirst);\r\n\r\n        // @ts-ignore\r\n        this._light._shadowGenerator = parent;\r\n        this._parent = parent;\r\n        this._cascade = null;\r\n        this._lightMinExtents = new Vector3(0, 0, 0);\r\n        this._lightMaxExtents = new Vector3(0, 0, 0);\r\n\r\n        this._frustumCornersWorldSpace = [];\r\n\r\n        for (let i = 0; i < CSMShadowMap.frustumCornersNDCSpace.length; ++i) {\r\n            this._frustumCornersWorldSpace.push(new Vector3());\r\n        }\r\n\r\n        this._minExtents = new Vector3();\r\n        this._maxExtents = new Vector3();\r\n        this._frustumCenter = new Vector3();\r\n        this._cascadeExtents = new Vector3();\r\n        this._shadowCameraPos = new Vector3();\r\n    }\r\n\r\n    public get viewMatrix(): Matrix {\r\n        // @ts-ignore\r\n        return this._viewMatrix;\r\n    }\r\n\r\n    public get cascade(): Nullable<ICascade> {\r\n        return this._cascade;\r\n    }\r\n\r\n    public set cascade(cascade: Nullable<ICascade>) {\r\n        this._cascade = cascade;\r\n    }\r\n\r\n    public getTransformMatrix(): Matrix {\r\n        // @ts-ignore\r\n        var scene = this._scene;\r\n        // @ts-ignore\r\n        if (this._currentRenderID === scene.getRenderId() && this._currentFaceIndexCache === this._currentFaceIndex) {\r\n            // @ts-ignore\r\n            return this._transformMatrix;\r\n        }\r\n\r\n        // @ts-ignore\r\n        this._currentRenderID = scene.getRenderId();\r\n        // @ts-ignore\r\n        this._currentFaceIndexCache = this._currentFaceIndex;\r\n\r\n        // @ts-ignore\r\n        var lightPosition = this._light.position;\r\n        // @ts-ignore\r\n        if (this._light.computeTransformedInformation()) {\r\n            // @ts-ignore\r\n            lightPosition = this._light.transformedPosition;\r\n        }\r\n\r\n        // @ts-ignore\r\n        Vector3.NormalizeToRef(this._light.getShadowDirection(this._currentFaceIndex), this._lightDirection);\r\n        // @ts-ignore\r\n        if (Math.abs(Vector3.Dot(this._lightDirection, Vector3.Up())) === 1.0) {\r\n            // @ts-ignore\r\n            this._lightDirection.z = 0.0000000000001; // Required to avoid perfectly perpendicular light\r\n        }\r\n\r\n        // @ts-ignore\r\n        if (this._light.needProjectionMatrixCompute() || !this._cachedPosition || !this._cachedDirection || !lightPosition.equals(this._cachedPosition) || !this._lightDirection.equals(this._cachedDirection)) {\r\n            // @ts-ignore\r\n            this._cachedPosition.copyFrom(lightPosition);\r\n            // @ts-ignore\r\n            this._cachedDirection.copyFrom(this._lightDirection);\r\n\r\n            this._computeLightMatrices();\r\n        }\r\n\r\n        // @ts-ignore\r\n        return this._transformMatrix;\r\n    }\r\n\r\n    // Get the 8 points of the view frustum in world space\r\n    protected _computeFrustumInWorldSpace(): void {\r\n        // @ts-ignore\r\n        if (!this._cascade || !this._scene.activeCamera) {\r\n            return;\r\n        }\r\n\r\n        const prevSplitDist = this._cascade.prevSplitDistance,\r\n              splitDist = this._cascade.splitDistance;\r\n\r\n        // @ts-ignore\r\n        this._scene.activeCamera.getViewMatrix(); // make sure the transformation matrix we get when calling 'getTransformationMatrix()' is calculated with an up to date view matrix\r\n\r\n        // @ts-ignore\r\n        const invViewProj = Matrix.Invert(this._scene.activeCamera.getTransformationMatrix());\r\n        for (let cornerIndex = 0; cornerIndex < CSMShadowMap.frustumCornersNDCSpace.length; ++cornerIndex) {\r\n            Vector3.TransformCoordinatesToRef(CSMShadowMap.frustumCornersNDCSpace[cornerIndex], invViewProj, this._frustumCornersWorldSpace[cornerIndex]);\r\n        }\r\n\r\n        // Get the corners of the current cascade slice of the view frustum\r\n        for (let cornerIndex = 0; cornerIndex < CSMShadowMap.frustumCornersNDCSpace.length / 2; ++cornerIndex) {\r\n            tmpv1.copyFrom(this._frustumCornersWorldSpace[cornerIndex + 4]).subtractInPlace(this._frustumCornersWorldSpace[cornerIndex]);\r\n            tmpv2.copyFrom(tmpv1).scaleInPlace(prevSplitDist); // near corner ray\r\n            tmpv1.scaleInPlace(splitDist); // far corner ray\r\n\r\n            tmpv1.addInPlace(this._frustumCornersWorldSpace[cornerIndex]);\r\n\r\n            this._frustumCornersWorldSpace[cornerIndex + 4].copyFrom(tmpv1);\r\n            this._frustumCornersWorldSpace[cornerIndex].addInPlace(tmpv2);\r\n        }\r\n    }\r\n\r\n    protected _computeLightFrustum(): void {\r\n        this._minExtents.copyFromFloats(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\r\n        this._maxExtents.copyFromFloats(Number.MIN_VALUE, Number.MIN_VALUE, Number.MIN_VALUE);\r\n        this._frustumCenter.copyFromFloats(0, 0, 0);\r\n\r\n        // @ts-ignore\r\n        const camera = this._scene.activeCamera;\r\n\r\n        if (!camera) {\r\n            return;\r\n        }\r\n\r\n        // Calculate the centroid of the view frustum slice\r\n        for (let cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace.length; ++cornerIndex) {\r\n            this._frustumCenter.addInPlace(this._frustumCornersWorldSpace[cornerIndex]);\r\n        }\r\n\r\n        this._frustumCenter.scaleInPlace(1 / this._frustumCornersWorldSpace.length);\r\n\r\n        if (this._parent.stabilizeCascades) {\r\n            // Calculate the radius of a bounding sphere surrounding the frustum corners\r\n            let sphereRadius = 0;\r\n            for (let cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace.length; ++cornerIndex) {\r\n                const dist = this._frustumCornersWorldSpace[cornerIndex].subtract(this._frustumCenter).length();\r\n                sphereRadius = Math.max(sphereRadius, dist);\r\n            }\r\n\r\n            sphereRadius = Math.ceil(sphereRadius * 16) / 16;\r\n\r\n            this._maxExtents.copyFromFloats(sphereRadius, sphereRadius, sphereRadius);\r\n            this._minExtents.copyFromFloats(-sphereRadius, -sphereRadius, -sphereRadius);\r\n        } else {\r\n            // Create a temporary view matrix for the light\r\n            const upDir = this._parent.useRightDirectionAsUpForOrthoProj ? camera.getDirection(RightDir) : UpDir;\r\n\r\n            const lightCameraPos = this._frustumCenter;\r\n\r\n            // @ts-ignore\r\n            this._frustumCenter.addToRef(this._lightDirection, tmpv1); // tmpv1 = look at\r\n\r\n            Matrix.LookAtLHToRef(lightCameraPos, tmpv1, upDir, matrix); // matrix = lightView\r\n\r\n            // Calculate an AABB around the frustum corners\r\n            for (let cornerIndex = 0; cornerIndex < this._frustumCornersWorldSpace.length; ++cornerIndex) {\r\n                Vector3.TransformCoordinatesToRef(this._frustumCornersWorldSpace[cornerIndex], matrix, tmpv1);\r\n\r\n                this._minExtents.minimizeInPlace(tmpv1);\r\n                this._maxExtents.maximizeInPlace(tmpv1);\r\n            }\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    protected _computeLightMatrices(): void {\r\n        // @ts-ignore\r\n        const camera = this._scene.activeCamera;\r\n\r\n        if (!camera) {\r\n            return;\r\n        }\r\n\r\n        this._computeFrustumInWorldSpace();\r\n\r\n        this._computeLightFrustum();\r\n\r\n        this._maxExtents.subtractToRef(this._minExtents, this._cascadeExtents);\r\n\r\n        // Get position of the shadow camera\r\n        // @ts-ignore\r\n        this._frustumCenter.addToRef(this._lightDirection.scale(this._minExtents.z), this._shadowCameraPos);\r\n\r\n        // Come up with a new orthographic camera for the shadow caster\r\n        const upDir = this._parent.stabilizeCascades || !this._parent.useRightDirectionAsUpForOrthoProj ? UpDir : camera.getDirection(RightDir);\r\n\r\n        // @ts-ignore\r\n        Matrix.LookAtLHToRef(this._shadowCameraPos, this._frustumCenter, upDir, this._viewMatrix);\r\n\r\n        let minZ = 0, maxZ = this._cascadeExtents.z;\r\n\r\n        // Try to tighten minZ and maxZ based on the bounding box of the shadow casters\r\n        const boundingInfo = this._parent.shadowCastersBoundingInfo;\r\n\r\n        // @ts-ignore\r\n        boundingInfo.update(this._viewMatrix);\r\n\r\n        maxZ = Math.min(maxZ, boundingInfo.boundingBox.maximumWorld.z);\r\n\r\n        if (!this._parent.depthClamp) {\r\n            // If we don't use depth clamping, we must set minZ so that all shadow casters are in the light frustum\r\n            minZ = Math.min(minZ, boundingInfo.boundingBox.minimumWorld.z);\r\n        } else {\r\n            // If using depth clamping, we can adjust minZ to reduce the [minZ, maxZ] range (and get some additional precision in the shadow map)\r\n            minZ = Math.max(minZ, boundingInfo.boundingBox.minimumWorld.z);\r\n        }\r\n\r\n        // @ts-ignore\r\n        if (this._scene.useRightHandedSystem) {\r\n            // @ts-ignore\r\n            Matrix.OrthoOffCenterRHToRef(this._minExtents.x, this._maxExtents.x, this._minExtents.y, this._maxExtents.y, minZ, maxZ, this._projectionMatrix);\r\n        } else {\r\n            // @ts-ignore\r\n            Matrix.OrthoOffCenterLHToRef(this._minExtents.x, this._maxExtents.x, this._minExtents.y, this._maxExtents.y, minZ, maxZ, this._projectionMatrix);\r\n        }\r\n\r\n        this._lightMinExtents.set(this._minExtents.x, this._minExtents.y, minZ);\r\n        this._lightMaxExtents.set(this._maxExtents.x, this._maxExtents.y, maxZ);\r\n\r\n        // @ts-ignore\r\n        this._viewMatrix.multiplyToRef(this._projectionMatrix, this._transformMatrix);\r\n\r\n        if (this._parent.stabilizeCascades) {\r\n            // Create the rounding matrix, by projecting the world-space origin and determining\r\n            // the fractional offset in texel space\r\n            // @ts-ignore\r\n            Vector3.TransformCoordinatesToRef(ZeroVec, this._transformMatrix, tmpv1); // tmpv1 = shadowOrigin\r\n            // @ts-ignore\r\n            tmpv1.scaleInPlace(this._mapSize / 2);\r\n\r\n            tmpv2.copyFromFloats(Math.round(tmpv1.x), Math.round(tmpv1.y), Math.round(tmpv1.z)); // tmpv2 = roundedOrigin\r\n            // @ts-ignore\r\n            tmpv2.subtractInPlace(tmpv1).scaleInPlace(2 / this._mapSize); // tmpv2 = roundOffset\r\n\r\n            Matrix.TranslationToRef(tmpv2.x, tmpv2.y, 0.0, matrix);\r\n\r\n            // @ts-ignore\r\n            this._projectionMatrix.multiplyToRef(matrix, this._projectionMatrix);\r\n            // @ts-ignore\r\n            this._viewMatrix.multiplyToRef(this._projectionMatrix, this._transformMatrix);\r\n        }\r\n    }\r\n}\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    Color3,\r\n    Color4,\r\n    SceneLoader,\r\n    UniversalCamera,\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport Sample, { enumSplitMode } from \"../Sample\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nimport GlobalGUI from \"./GlobalGUI\";\r\nimport StandardShadow from \"./StandardShadow\";\r\nimport CSM from \"./CSM\";\r\n\r\nexport default class CSMSample extends Sample {\r\n\r\n    protected _sunDir:          Vector3;\r\n    protected _ambientColor:    Color3;\r\n\r\n    constructor(engine: Engine, canvas: HTMLCanvasElement) {\r\n        super(engine, canvas);\r\n\r\n        this._sunDir = new Vector3(-1, -1, -1);\r\n//        this._sunDir = new Vector3(32, -30, 22);\r\n        this._sunDir.normalize();\r\n        this._ambientColor = new Color3(0.3, 0.3, 0.3);\r\n        this._clearColor = new Color4(0.17773, 0.41797, 0.65234, 1);\r\n\r\n        this.registerClass(\"std\", StandardShadow);\r\n        this.registerClass(\"csm\", CSM);\r\n\r\n        this.splitMode = enumSplitMode.LINEAR;\r\n        this.splitType = \"csm\";\r\n\r\n        this._gui = new GlobalGUI(\"Global settings\", this._engine, this);\r\n\r\n        let ocont = jQuery('<div id=\"fps2\"></div>').css('position', 'absolute').css('left', '2px').css('top', '2px').css('z-index', '201');\r\n\r\n        jQuery(document.body).append(ocont);\r\n    }\r\n\r\n    protected create(): void {\r\n        Promise.all([this.createNewSplit()]).then(() => {\r\n            SceneLoader.ShowLoadingScreen = false;\r\n            this.createGUI();\r\n        });\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this._gui!.zIndex = 200;\r\n        this._gui!.createGUI();\r\n    }\r\n\r\n    public async createNewSplit() {\r\n        this.detachControlFromAllCameras();\r\n\r\n        let split = this.addSplit(this.splitType!, this.splitClasses.get(this.splitType!)!.className, false, false) as ISampleSplit,\r\n            camera = split.camera;\r\n\r\n        const gscene = (this._gui as GlobalGUI)!.scenes[(this._gui as GlobalGUI).selectedScene];\r\n\r\n        split.group = (this._gui as GlobalGUI).selectedScene;\r\n        split.isLoading = true;\r\n\r\n        camera.position = gscene.camera.position.clone();\r\n        camera.setTarget(gscene.camera.target.clone());\r\n\r\n        return split.initialize(gscene, this._ambientColor, this._sunDir.clone()).then(() => {\r\n            split.isLoading = false;\r\n            split.createGUI();\r\n            this.resyncCameras();\r\n            this.attachControlToAllCameras();\r\n        });\r\n    }\r\n\r\n    public render(): void {\r\n        super.render();\r\n\r\n        jQuery('#fps2').html(this._engine.getFps().toFixed() + \" fps\");\r\n    }\r\n\r\n    protected createSceneAndCamera(attachControls: boolean): [Scene, UniversalCamera] {\r\n        const [scene, camera] = super.createSceneAndCamera(attachControls);\r\n\r\n        scene.ambientColor = new Color3(1, 1, 1);\r\n        scene.clearColor = this._clearColor;\r\n\r\n        camera.fov = Math.PI / 4 * 0.75;\r\n        camera.minZ = 0.25;\r\n        camera.maxZ = 250;\r\n\r\n        return [scene, camera];\r\n    }\r\n\r\n}\r\n\r\nSample.registerSampleClass(\"csm\", {\r\n    \"displayName\": \"Implementation of the Cascaded Shadow Maps rendering technic\",\r\n    \"description\": \"\",\r\n    \"class\": CSMSample,\r\n});\r\n","import {\r\n    CascadedShadowGenerator,\r\n    Scene,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n    Matrix,\r\n    DepthRenderer,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport StandardShadow from \"./StandardShadow\";\r\nimport CSMGUI from \"./CSMGUI\";\r\n//import { CascadedShadowGenerator } from \"./cascadedShadowGenerator\";\r\n\r\nconst useSceneDepthRenderer = false;\r\n\r\nexport default class CSM extends StandardShadow {\r\n\r\n    public static className: string = \"CSM\";\r\n\r\n    private _depthRenderer: DepthRenderer;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        this._shadowMapFilter = CascadedShadowGenerator.FILTER_PCF;\r\n\r\n        (window as any).csm = this;\r\n\r\n        if (useSceneDepthRenderer) {\r\n            this._depthRenderer = scene.enableDepthRenderer(camera, false);\r\n        }\r\n    }\r\n\r\n    protected getCSMGenerator(): CascadedShadowGenerator {\r\n        return (this._shadowGenerator as unknown as CascadedShadowGenerator);\r\n    }\r\n\r\n    public get cameraNearPlane(): number {\r\n        return this._cameraNearPlane;\r\n    }\r\n\r\n    public set cameraNearPlane(cnp: number) {\r\n        this._cameraNearPlane = cnp;\r\n        this.camera.minZ = cnp;\r\n        const val = this.getCSMGenerator().shadowMaxZ;\r\n        this.getCSMGenerator().shadowMaxZ = this._cameraNearPlane; // make shadowMaxZ change\r\n        this.getCSMGenerator().shadowMaxZ = val; // so trigger a cascade recomputation\r\n    }\r\n\r\n    public get cameraFarPlane(): number {\r\n        return this._cameraFarPlane;\r\n    }\r\n\r\n    public set cameraFarPlane(cfp: number) {\r\n        this._cameraFarPlane = cfp;\r\n        this.camera.maxZ = cfp;\r\n        const val = this.getCSMGenerator().shadowMaxZ;\r\n        this.getCSMGenerator().shadowMaxZ = this._cameraNearPlane; // make shadowMaxZ change\r\n        this.getCSMGenerator().shadowMaxZ = val; // so trigger a cascade recomputation\r\n        this._csmShadowMaxZ = this.getCSMGenerator().shadowMaxZ;\r\n\r\n        const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowMaxZ' } });\r\n        window.dispatchEvent(event);\r\n    }\r\n\r\n    public get csmNumCascades(): number {\r\n        return this._csmNumCascades;\r\n    }\r\n\r\n    public set csmNumCascades(num: number) {\r\n        this._csmNumCascades = num;\r\n        this.getCSMGenerator().numCascades = num;\r\n    }\r\n\r\n    public get csmActiveCascade(): number {\r\n        return this._csmActiveCascade;\r\n    }\r\n\r\n    public set csmActiveCascade(cac: number) {\r\n        this._csmActiveCascade = cac;\r\n\r\n        this.setShadowMapViewerTexture();\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get csmVisualizeCascades(): boolean {\r\n        return this._csmVisualizeCascades;\r\n    }\r\n\r\n    public set csmVisualizeCascades(cvc: boolean) {\r\n        this._csmVisualizeCascades = cvc;\r\n        this.getCSMGenerator().debug = cvc;\r\n    }\r\n\r\n    public get csmStabilizeCascades(): boolean {\r\n        return this._csmStabilizeCascades;\r\n    }\r\n\r\n    public set csmStabilizeCascades(ssc: boolean) {\r\n        this._csmStabilizeCascades = ssc;\r\n        this.getCSMGenerator().stabilizeCascades = ssc;\r\n        window.setTimeout(this.buildLightHelper.bind(this), 100);\r\n    }\r\n\r\n    public get csmDepthClamp(): boolean {\r\n        return this._csmDepthClamp;\r\n    }\r\n\r\n    public set csmDepthClamp(cdc: boolean) {\r\n        this._csmDepthClamp = cdc;\r\n        this.getCSMGenerator().depthClamp = cdc;\r\n        window.setTimeout(this.buildLightHelper.bind(this), 100);\r\n    }\r\n\r\n    public get csmLambda(): number {\r\n        return this._csmLambda;\r\n    }\r\n\r\n    public set csmLambda(cl: number) {\r\n        this._csmLambda = cl;\r\n        this.getCSMGenerator().lambda = cl;\r\n    }\r\n\r\n    public get csmSplitBlendPercentage(): number {\r\n        return this._csmSplitBlendPercentage;\r\n    }\r\n\r\n    public set csmSplitBlendPercentage(csbp: number) {\r\n        this._csmSplitBlendPercentage = csbp;\r\n        this.getCSMGenerator().cascadeBlendPercentage = csbp;\r\n    }\r\n\r\n    public get csmPenumbraDarkness(): number {\r\n        return this._csmPenumbraDarkness;\r\n    }\r\n\r\n    public set csmPenumbraDarkness(cpd: number) {\r\n        this._csmPenumbraDarkness = cpd;\r\n        this.getCSMGenerator().penumbraDarkness = cpd;\r\n    }\r\n\r\n    public get csmShadowMaxZ(): number {\r\n        return this._csmShadowMaxZ;\r\n    }\r\n\r\n    public set csmShadowMaxZ(csmz: number) {\r\n        this._csmShadowMaxZ = csmz;\r\n        this.getCSMGenerator().shadowMaxZ = csmz;\r\n        this._csmShadowMaxZ = this.getCSMGenerator().shadowMaxZ;\r\n\r\n        const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowMaxZ' } });\r\n        window.dispatchEvent(event);\r\n    }\r\n\r\n    public get csmAutoCalcDepthBounds(): boolean {\r\n        return this._csmAutoCalcDepthBounds;\r\n    }\r\n\r\n    public set csmAutoCalcDepthBounds(cacdb: boolean) {\r\n        if (this._csmAutoCalcDepthBounds === cacdb) {\r\n            return;\r\n        }\r\n\r\n        this._csmAutoCalcDepthBounds = cacdb;\r\n        this.getCSMGenerator().autoCalcDepthBounds = cacdb;\r\n    }\r\n\r\n    protected getLightExtents(): { min: Vector3, max: Vector3 } | null {\r\n        const min = this.getCSMGenerator().getCascadeMinExtents(this._csmActiveCascade),\r\n              max = this.getCSMGenerator().getCascadeMaxExtents(this._csmActiveCascade);\r\n\r\n        return {\r\n            \"min\": min!,\r\n            \"max\": max!,\r\n        }\r\n    }\r\n\r\n    protected getViewMatrix(): Matrix | null {\r\n        return this.getCSMGenerator().getCascadeViewMatrix(this._csmActiveCascade);\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this.gui = new CSMGUI(this.name, this.scene.getEngine(), this._container, this);\r\n\r\n        this.gui.createGUI();\r\n    }\r\n\r\n    protected createGenerator(): ShadowGenerator {\r\n        const generator = new CascadedShadowGenerator(this.shadowMapSize, this.sun);\r\n\r\n        generator.numCascades = this._csmNumCascades;\r\n\r\n        return generator as unknown as ShadowGenerator;\r\n    }\r\n\r\n    protected setShadowMapViewerTexture(): void {\r\n        (this._shadowMapPlane.material as StandardMaterial).diffuseTexture = this.getCSMGenerator().getShadowMap();\r\n    }\r\n\r\n    protected createShadowGenerator(): void {\r\n        super.createShadowGenerator();\r\n\r\n        const shadowGenerator = this.getCSMGenerator();\r\n\r\n        shadowGenerator.stabilizeCascades = this._csmStabilizeCascades;\r\n        shadowGenerator.depthClamp = this._csmDepthClamp;\r\n        shadowGenerator.lambda = this._csmLambda;\r\n        shadowGenerator.debug = this._csmVisualizeCascades\r\n        shadowGenerator.cascadeBlendPercentage = this._csmSplitBlendPercentage;\r\n        shadowGenerator.penumbraDarkness = this._csmPenumbraDarkness;\r\n        shadowGenerator.shadowMaxZ = this._csmShadowMaxZ;\r\n        shadowGenerator.freezeShadowCastersBoundingInfo = true;\r\n        shadowGenerator.autoCalcDepthBounds = this._csmAutoCalcDepthBounds;\r\n\r\n        if (useSceneDepthRenderer) {\r\n            shadowGenerator.setDepthRenderer(this._depthRenderer);\r\n        }\r\n\r\n        this.setShadowMapViewerTexture();\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Engine,\r\n} from 'babylonjs';\r\n\r\nimport SplitBaseGUI from \"./SplitBaseGUI\";\r\nimport Sample from \"../Sample\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nexport default class CSMGUI extends SplitBaseGUI {\r\n\r\n    constructor(name: string, engine: Engine, container: Sample, parent: ISampleSplit) {\r\n        super(name, engine, container, parent);\r\n\r\n        this._showAutoCalcPlanes = false;\r\n        this._showCSM = true;\r\n        this.dimensions.height = 950;\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const Properties = () => {\r\n\r\n            return (\r\n                <>\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Grid,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    Vector3,\r\n    Color3,\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport MainGUI from \"../MainGUI\";\r\nimport Sample from \"../Sample\";\r\n\r\nexport interface ISceneDescription {\r\n    dname: string;\r\n    path: string;\r\n    name: string;\r\n    backfaceCulling: boolean;\r\n    camera: {\r\n        position: Vector3,\r\n        target: Vector3,\r\n        rotation?: Vector3,\r\n    };\r\n    scaling: number;\r\n    sunColor: Color3;\r\n    light: {\r\n        nearPlane: number,\r\n        farPlane: number,\r\n    };\r\n}\r\n\r\nexport default class GlobalGUI extends MainGUI {\r\n\r\n    public scenes:  Array<ISceneDescription>;\r\n\r\n    protected _selectedScene:   number;\r\n\r\n    public get selectedScene(): number {\r\n        return this._selectedScene;\r\n    }\r\n\r\n    constructor(name: string, engine: Engine, parent: Sample) {\r\n        super(name, engine, parent);\r\n\r\n        this._selectedScene = 0;\r\n        this.scenes = [\r\n            {\r\n                \"dname\": \"Power Plant\",\r\n                \"path\": \"./resources/3d/powerplant/\",\r\n                \"name\": \"powerplant.obj\",\r\n                \"backfaceCulling\": false,  // Some meshes have incorrect winding orders... use no backface culling for now\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 0, 5),\r\n                    /*\"position\": new Vector3(40.26686072438635, 4.554735288570352, -17.89867939154),\r\n                    \"rotation\": new Vector3(0.16435499454676133, -4.264821326794872, 0),*/\r\n                    /*\"position\": new Vector3(39.748889110647276, 6.671463042219519, -15.973865130460444),\r\n                    \"rotation\": new Vector3(0.15435499454676105, -3.9848213267948602, 0),*/\r\n                },\r\n                \"scaling\": 0.5,\r\n                \"sunColor\": new Color3(1, 1, 1),\r\n                \"light\": {\r\n                    \"nearPlane\": -90,\r\n                    \"farPlane\": 130,\r\n                },\r\n            },\r\n            {\r\n                \"dname\": \"Tower\",\r\n                \"path\": \"./resources/3d/Tower/\",\r\n                \"name\": \"Tower.obj\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 5, 5),\r\n                },\r\n                \"scaling\": 0.025,\r\n                \"sunColor\": new Color3(1, 0.8, 0.5),\r\n                \"light\": {\r\n                    \"nearPlane\": -50,\r\n                    \"farPlane\": 150,\r\n                },\r\n            }/*,\r\n            {\r\n                \"dname\": \"Dude\",\r\n                \"path\": \"./resources/3d/Dude/\",\r\n                \"name\": \"dude.babylon\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(0, 76, 154),\r\n                    \"target\": new Vector3(0, 0, 0),\r\n                },\r\n                \"scaling\": 0.25,\r\n            }*/,\r\n            {\r\n                \"dname\": \"Columns\",\r\n                \"path\": \"./resources/3d/Columns/\",\r\n                \"name\": \"Columns.obj\",\r\n                \"backfaceCulling\": true,\r\n                \"camera\": {\r\n                    \"position\": new Vector3(40, 5, 5),\r\n                    \"target\": new Vector3(0, 5, 5),\r\n                },\r\n                \"scaling\": 0.25,\r\n                \"sunColor\": new Color3(1, 0.8, 0.5),\r\n                \"light\": {\r\n                    \"nearPlane\": -92,\r\n                    \"farPlane\": 150,\r\n                },\r\n            }\r\n        ];\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const classes = this._useStyles();\r\n        const [scene, setScene] = React.useState(this._selectedScene);\r\n\r\n        const changeScene = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n            this._selectedScene = event.target.value as number;\r\n            setScene(this._selectedScene);\r\n        };\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <Grid item xs={6}>\r\n                    <Paper className={classes.propertyTitle}>Scene</Paper>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Select\r\n                        className={classes.propertyValue}\r\n                        id=\"scene\"\r\n                        value={scene}\r\n                        onChange={changeScene}\r\n                        >\r\n                        { this.scenes.map((scene: any, idx: number) => {\r\n                            return (\r\n                                <MenuItem key={idx} value={idx}>{scene.dname}</MenuItem>\r\n                            );\r\n                        }) }\r\n                    </Select>\r\n                </Grid>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n","import {\r\n    Color3,\r\n    Effect,\r\n    Engine,\r\n    Matrix,\r\n    Mesh,\r\n    MeshBuilder,\r\n    Nullable,\r\n    Observer,\r\n    Quaternion,\r\n    Scene,\r\n    ShaderMaterial,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n} from \"babylonjs\";\r\n\r\nimport Sample, { enumSplitMode } from \"../Sample\";\r\nimport Split from \"../Split\";\r\nimport Utils from \"../Utils\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\nimport { ISceneDescription } from \"./GlobalGUI\";\r\n\r\nexport default class SplitBase extends Split implements ISampleSplit {\r\n\r\n    protected _sunDir: Vector3;\r\n    protected _sceneName: string;\r\n    protected _cameraNearPlane: number;\r\n    protected _cameraFarPlane: number;\r\n    protected _sunColor: Color3;\r\n    protected _animateLight: boolean;\r\n    protected _autoCalcShadowZBounds: boolean;\r\n    protected _lightNearPlane: number;\r\n    protected _lightFarPlane: number;\r\n    protected _showLightHelper: boolean;\r\n    protected _rotateLightObservable: Nullable<Observer<Scene>>;\r\n    protected _shadowMapPlane: Mesh;\r\n    protected _shadowMapShowDepthMap: boolean;\r\n    protected _showDepthMapObservable: Nullable<Observer<Scene>>;\r\n    protected _shadowMapSize: number;\r\n    protected _shadowMapFilter: number;\r\n    protected _shadowMapBias: number;\r\n    protected _shadowMapNormalBias: number;\r\n    protected _shadowMapDarkness: number;\r\n    protected _shadowMapQuality: number;\r\n    protected _shadowMapDepthScale: number;\r\n    protected _shadowMapBlurScale: number;\r\n    protected _shadowMapUseKernelBlur: boolean;\r\n    protected _shadowMapBlurKernel: number;\r\n    protected _shadowMapBlurBoxOffset: number;\r\n    protected _shadowMapLightSizeUVRatio: number;\r\n\r\n    protected _csmNumCascades: number;\r\n    protected _csmActiveCascade: number;\r\n    protected _csmVisualizeCascades: boolean;\r\n    protected _csmStabilizeCascades: boolean;\r\n    protected _csmDepthClamp: boolean;\r\n    protected _csmLambda: number;\r\n    protected _csmSplitBlendPercentage: number;\r\n    protected _csmPenumbraDarkness: number;\r\n    protected _csmShadowMaxZ: number;\r\n    protected _csmAutoCalcDepthBounds: boolean;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        this._sunDir = new Vector3();\r\n        this._sunColor = new Color3();\r\n        this._sceneName = \"\";\r\n        this._cameraNearPlane = 0.25;\r\n        this._cameraFarPlane = 250;\r\n        this._animateLight = false;\r\n        this._autoCalcShadowZBounds = false;\r\n        this._lightNearPlane = -90;\r\n        this._lightFarPlane = 130;\r\n        this._showLightHelper = false;\r\n        this._rotateLightObservable = null;\r\n        this._shadowMapShowDepthMap = false;\r\n        this._showDepthMapObservable = null;\r\n        this._shadowMapSize = 1024;\r\n        this._shadowMapFilter = ShadowGenerator.FILTER_PCF;\r\n        this._shadowMapBias = 0.003;\r\n        this._shadowMapNormalBias = 0;\r\n        this._shadowMapDarkness = 0;\r\n        this._shadowMapQuality = ShadowGenerator.QUALITY_MEDIUM;\r\n        this._shadowMapDepthScale = 25;\r\n        this._shadowMapBlurScale = 2;\r\n        this._shadowMapUseKernelBlur = true;\r\n        this._shadowMapBlurKernel = 1;\r\n        this._shadowMapBlurBoxOffset = 1;\r\n        this._shadowMapLightSizeUVRatio = 0.01;\r\n\r\n        this._csmNumCascades = 4;\r\n        this._csmActiveCascade = 0;\r\n        this._csmVisualizeCascades = false;\r\n        this._csmStabilizeCascades = false;\r\n        this._csmDepthClamp = true;\r\n        this._csmLambda = 0.7;\r\n        this._csmSplitBlendPercentage = 0.05;\r\n        this._csmPenumbraDarkness = 0.7;\r\n        this._csmShadowMaxZ = 250;\r\n        this._csmAutoCalcDepthBounds = false;\r\n\r\n        this._shadowMapPlane = null as any;\r\n\r\n        const size = 1;\r\n\r\n        this._shadowMapPlane = MeshBuilder.CreatePlane(this.name + \"_shadowmap\", {\r\n            \"width\": size,\r\n            \"height\": size,\r\n        }, this.scene);\r\n\r\n        this._shadowMapPlane.position.x += size / 2;\r\n        this._shadowMapPlane.position.y -= size / 2;\r\n        this._shadowMapPlane.bakeCurrentTransformIntoVertices();\r\n        this._shadowMapPlane.alwaysSelectAsActiveMesh = true;\r\n\r\n        //const material = this.buildShaderMaterial();\r\n        const material = new StandardMaterial(this.name + \"_shadowmap_material\", scene);\r\n\r\n        material.emissiveColor = new Color3(1, 1, 1);\r\n        material.disableLighting = true;\r\n        material.depthFunction = Engine.ALWAYS;\r\n\r\n        this._shadowMapPlane.material = material;\r\n\r\n        this._shadowMapPlane.setEnabled(false);\r\n    }\r\n\r\n    protected buildShaderMaterial(): ShaderMaterial {\r\n        Effect.ShadersStore[\"customVertexShader\"]= `   \r\n        precision highp float;\r\n\r\n        attribute vec3 position;\r\n        attribute vec2 uv;\r\n        \r\n        uniform mat4 world;\r\n        uniform mat4 worldViewProjection;\r\n        \r\n        varying vec2 vUv;\r\n        \r\n        void main(void) {\r\n            vUv = uv;\r\n            gl_Position = worldViewProjection * vec4(position, 1.0);\r\n        }\r\n        `;        \r\n\r\n        Effect.ShadersStore[\"customFragmentShader\"]=`\r\n        precision highp float;\r\n\r\n        varying vec2 vUv;\r\n    \tuniform highp sampler2DArrayShadow textureSampler;\r\n        \r\n        void main(void) {\r\n            float shadow = texelFetch(textureSampler, vUv, 0);\r\n            gl_FragColor = shadow;//vec4(vec3(shadow), 1.0);\r\n        }\r\n        `;\r\n\r\n        var mat = new ShaderMaterial(\"shader\", this.scene, {\r\n            vertex: \"custom\",\r\n            fragment: \"custom\",\r\n            },\r\n            {\r\n                attributes: [\"position\", \"uv\"],\r\n                uniforms: [\"world\", \"worldViewProjection\"],\r\n            }\r\n        );\r\n\r\n        return mat;\r\n    }\r\n\r\n    public render(): void {\r\n        const sky = this.scene.getMeshByName(\"skyBox\");\r\n        if (sky) {\r\n            sky.position.set(this.camera.position.x, this.camera.position.y, this.camera.position.z);\r\n        }\r\n\r\n        super.render();\r\n    }\r\n\r\n    public get shadowMapPlane(): Mesh {\r\n        return this._shadowMapPlane;\r\n    }\r\n\r\n    public initialize(scene: ISceneDescription, ambientColor: Color3, sunDir: Vector3): Promise<ISampleSplit> {\r\n        return Promise.resolve(this);\r\n    }\r\n\r\n    public get sceneName(): string {\r\n        return this._sceneName;\r\n    }\r\n\r\n    public get cameraNearPlane(): number {\r\n        return this._cameraNearPlane;\r\n    }\r\n\r\n    public set cameraNearPlane(cnp: number) {\r\n        this._cameraNearPlane = cnp;\r\n        this.camera.minZ = cnp;\r\n    }\r\n\r\n    public get cameraFarPlane(): number {\r\n        return this._cameraFarPlane;\r\n    }\r\n\r\n    public set cameraFarPlane(cfp: number) {\r\n        this._cameraFarPlane = cfp;\r\n        this.camera.maxZ = cfp;\r\n    }\r\n\r\n    public get animateLight(): boolean {\r\n        return this._animateLight;\r\n    }\r\n\r\n    public set animateLight(al: boolean) {\r\n        if (this._rotateLightObservable && !al) {\r\n            this.scene.onBeforeRenderObservable.remove(this._rotateLightObservable);\r\n            this._rotateLightObservable = null;\r\n        }\r\n\r\n        this._animateLight = al;\r\n\r\n        if (!this._rotateLightObservable && al) {\r\n            this._rotateLightObservable = this.scene.onBeforeRenderObservable.add(this.rotateLight.bind(this));\r\n        }\r\n\r\n        this.setDirectionFromSibling(this._animateLight);\r\n    }\r\n\r\n    public get lightColor(): string {\r\n        return this._sunColor.toHexString();\r\n    }\r\n\r\n    public set lightColor(lc: string) {\r\n        this._sunColor = Color3.FromHexString(lc);\r\n    }\r\n\r\n    public get lightDirection(): Vector3 {\r\n        return this._sunDir;\r\n    }\r\n\r\n    public set lightDirection(ld: Vector3) {\r\n        this._sunDir = ld;\r\n    }\r\n\r\n    public get showLightHelper(): boolean {\r\n        return this._showLightHelper;\r\n    }\r\n\r\n    public set showLightHelper(slh: boolean) {\r\n        this._showLightHelper = slh;\r\n    }\r\n\r\n    public get shadowMapShowDepthMap(): boolean {\r\n        return this._shadowMapShowDepthMap;\r\n    }\r\n\r\n    public set shadowMapShowDepthMap(smsdm: boolean) {\r\n        if (this._shadowMapShowDepthMap && !smsdm) {\r\n            this.scene.onBeforeRenderObservable.remove(this._showDepthMapObservable);\r\n            this._showDepthMapObservable = null;\r\n        }\r\n\r\n        this._shadowMapShowDepthMap = smsdm;\r\n        this._shadowMapPlane.setEnabled(smsdm);\r\n\r\n        if (!this._showDepthMapObservable && smsdm) {\r\n            this._showDepthMapObservable = this.scene.onBeforeRenderObservable.add(this.showDepthMap.bind(this));\r\n        }\r\n    }\r\n\r\n    public get shadowMapSize(): number {\r\n        return this._shadowMapSize;\r\n    }\r\n\r\n    public set shadowMapSize(sms: number) {\r\n        this._shadowMapSize = sms;\r\n    }\r\n\r\n    public get shadowMapFilter(): number {\r\n        return this._shadowMapFilter;\r\n    }\r\n\r\n    public set shadowMapFilter(smf: number) {\r\n        this._shadowMapFilter = smf;\r\n    }\r\n\r\n    public get shadowMapBias(): number {\r\n        return this._shadowMapBias;\r\n    }\r\n\r\n    public set shadowMapBias(smb: number) {\r\n        this._shadowMapBias = smb;\r\n    }\r\n\r\n    public get shadowMapNormalBias(): number {\r\n        return this._shadowMapNormalBias;\r\n    }\r\n\r\n    public set shadowMapNormalBias(smnb: number) {\r\n        this._shadowMapNormalBias = smnb;\r\n    }\r\n\r\n    public get shadowMapDarkness(): number {\r\n        return this._shadowMapDarkness;\r\n    }\r\n\r\n    public set shadowMapDarkness(smd: number) {\r\n        this._shadowMapDarkness = smd;\r\n    }\r\n\r\n    public get shadowMapQuality(): number {\r\n        return this._shadowMapQuality;\r\n    }\r\n\r\n    public set shadowMapQuality(smq: number) {\r\n        this._shadowMapQuality = smq;\r\n    }\r\n\r\n    public get shadowMapDepthScale(): number {\r\n        return this._shadowMapDepthScale;\r\n    }\r\n\r\n    public set shadowMapDepthScale(smds: number) {\r\n        this._shadowMapDepthScale = smds;\r\n    }\r\n\r\n    public get shadowMapBlurScale(): number {\r\n        return this._shadowMapBlurScale;\r\n    }\r\n\r\n    public set shadowMapBlurScale(smbs: number) {\r\n        this._shadowMapBlurScale = smbs;\r\n    }\r\n\r\n    public get shadowMapUseKernelBlur(): boolean {\r\n        return this._shadowMapUseKernelBlur;\r\n    }\r\n\r\n    public set shadowMapUseKernelBlur(smukb: boolean) {\r\n        this._shadowMapUseKernelBlur = smukb;\r\n    }\r\n\r\n    public get shadowMapBlurKernel(): number {\r\n        return this._shadowMapBlurKernel;\r\n    }\r\n\r\n    public set shadowMapBlurKernel(smbk: number) {\r\n        this._shadowMapBlurKernel = smbk;\r\n    }\r\n\r\n    public get shadowMapBlurBoxOffset(): number {\r\n        return this._shadowMapBlurBoxOffset;\r\n    }\r\n\r\n    public set shadowMapBlurBoxOffset(smbbo: number) {\r\n        this._shadowMapBlurBoxOffset = smbbo;\r\n    }\r\n\r\n    public get shadowMapLightSizeUVRatio(): number {\r\n        return this._shadowMapLightSizeUVRatio;\r\n    }\r\n\r\n    public set shadowMapLightSizeUVRatio(smlsuvr: number) {\r\n        this._shadowMapLightSizeUVRatio = smlsuvr;\r\n    }\r\n\r\n    public get lightNearPlane(): number {\r\n        return this._lightNearPlane;\r\n    }\r\n\r\n    public set lightNearPlane(lnp: number) {\r\n        this._lightNearPlane = lnp;\r\n    }\r\n\r\n    public get lightFarPlane(): number {\r\n        return this._lightFarPlane;\r\n    }\r\n\r\n    public set lightFarPlane(lfp: number) {\r\n        this._lightFarPlane = lfp;\r\n    }\r\n\r\n    public get autoCalcShadowZBounds(): boolean {\r\n        return this._autoCalcShadowZBounds;\r\n    }\r\n\r\n    public set autoCalcShadowZBounds(acszb: boolean) {\r\n        this._autoCalcShadowZBounds = acszb;\r\n    }\r\n\r\n    public get csmNumCascades(): number {\r\n        return this._csmNumCascades;\r\n    }\r\n\r\n    public set csmNumCascades(num: number) {\r\n        this._csmNumCascades = num;\r\n    }\r\n\r\n    public get csmActiveCascade(): number {\r\n        return this._csmActiveCascade;\r\n    }\r\n\r\n    public set csmActiveCascade(cac: number) {\r\n        this._csmActiveCascade = cac;\r\n    }\r\n\r\n    public get csmVisualizeCascades(): boolean {\r\n        return this._csmVisualizeCascades;\r\n    }\r\n\r\n    public set csmVisualizeCascades(cvc: boolean) {\r\n        this._csmVisualizeCascades = cvc;\r\n    }\r\n\r\n    public get csmStabilizeCascades(): boolean {\r\n        return this._csmStabilizeCascades;\r\n    }\r\n\r\n    public set csmStabilizeCascades(csc: boolean) {\r\n        this._csmStabilizeCascades = csc;\r\n    }\r\n\r\n    public get csmDepthClamp(): boolean {\r\n        return this._csmDepthClamp;\r\n    }\r\n\r\n    public set csmDepthClamp(cdc: boolean) {\r\n        this._csmDepthClamp = cdc;\r\n    }\r\n\r\n    public get csmLambda(): number {\r\n        return this._csmLambda;\r\n    }\r\n\r\n    public set csmLambda(cl: number) {\r\n        this._csmLambda = cl;\r\n    }\r\n\r\n    public get csmSplitBlendPercentage(): number {\r\n        return this._csmSplitBlendPercentage;\r\n    }\r\n\r\n    public set csmSplitBlendPercentage(csbp: number) {\r\n        this._csmSplitBlendPercentage = csbp;\r\n    }\r\n\r\n    public get csmPenumbraDarkness(): number {\r\n        return this._csmPenumbraDarkness;\r\n    }\r\n\r\n    public set csmPenumbraDarkness(cpd: number) {\r\n        this._csmPenumbraDarkness = cpd;\r\n    }\r\n\r\n    public get csmShadowMaxZ(): number {\r\n        return this._csmShadowMaxZ;\r\n    }\r\n\r\n    public set csmShadowMaxZ(csmz: number) {\r\n        this._csmShadowMaxZ = csmz;\r\n    }\r\n\r\n    public get csmAutoCalcDepthBounds(): boolean {\r\n        return this._csmAutoCalcDepthBounds;\r\n    }\r\n\r\n    public set csmAutoCalcDepthBounds(cacdb: boolean) {\r\n        this._csmAutoCalcDepthBounds = cacdb;\r\n    }\r\n\r\n    protected setDirectionFromSibling(checkAnimate: boolean = true): void {\r\n        for (let i = 0; i < this._container.splits.length; ++i) {\r\n            const ssplit = this._container.splits[i] as SplitBase;\r\n\r\n            if (ssplit !== this && (ssplit.animateLight === checkAnimate) && ssplit.group === this.group) {\r\n                this.lightDirection = ssplit.lightDirection.clone();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected rotateLight(): void {\r\n        const deltaTime = this.scene.getEngine().getDeltaTime() / 1000;\r\n\r\n        let matrix = new Matrix();\r\n\r\n        let rotY = Utils.XMScalarModAngle(deltaTime * 0.25);\r\n\r\n        let rotation = Quaternion.RotationAxis(new Vector3(0.0, 1.0, 0.0), rotY);\r\n\r\n        Matrix.FromQuaternionToRef(rotation, matrix);\r\n        Vector3.TransformCoordinatesToRef(this._sunDir, matrix, this._sunDir);\r\n\r\n        this.lightDirection = this._sunDir;\r\n    }\r\n\r\n    protected showDepthMap(): void {\r\n        this.camera.getViewMatrix(); // make sure the transformation matrix we get when calling 'getTransformationMatrix()' is calculated with an up to date view matrix\r\n\r\n        let invertCameraViewProj = Matrix.Invert(this.camera.getTransformationMatrix());\r\n\r\n        let h = 256 / this.scene.getEngine().getRenderWidth(true);\r\n\r\n        let pOfst = 0;\r\n\r\n        if (this._container.splitMode === enumSplitMode.LINEAR) {\r\n            let sidx = this._container.splits.indexOf(this),\r\n                sw = 2 / this._container.splits.length;\r\n            pOfst = sw * sidx + sw / 2 - h;\r\n        } else {\r\n            pOfst = 1 - h;\r\n        }\r\n\r\n        let p = new Vector3(-1, 1, -1 + 0.001);\r\n        let q = new Vector3(-1 + h * 2, 1, -1 + 0.001);\r\n\r\n        let pt = Vector3.TransformCoordinates(p, invertCameraViewProj);\r\n        let qt = Vector3.TransformCoordinates(q, invertCameraViewProj);\r\n        let d = qt.subtract(pt).length();\r\n\r\n        this.shadowMapPlane.scaling = new Vector3(d, d, 1);\r\n\r\n        p.x += pOfst;\r\n\r\n        this.shadowMapPlane.rotation = this.camera.rotation;\r\n        this.shadowMapPlane.position = Vector3.TransformCoordinates(p, invertCameraViewProj);\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    ExpansionPanel,\r\n    ExpansionPanelDetails,\r\n    ExpansionPanelSummary,\r\n    Grid,\r\n    Icon,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n    Switch,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    CascadedShadowGenerator,\r\n    Engine,\r\n    ShadowGenerator,\r\n} from 'babylonjs';\r\n\r\nimport { PrettoSlider } from \"../GUI\";\r\nimport Sample from \"../Sample\";\r\nimport SplitGUI from \"../SplitGUI\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nexport default class SplitBaseGUI extends SplitGUI {\r\n\r\n    protected _sparent: ISampleSplit;\r\n    protected _showAutoCalcPlanes: boolean;\r\n    protected _showCSM: boolean;\r\n\r\n    constructor(name: string, engine: Engine, container: Sample, parent: ISampleSplit) {\r\n        super(name, engine, container, parent);\r\n\r\n        this._sparent = parent;\r\n        this._showAutoCalcPlanes = true;\r\n        this._showCSM = false;\r\n        this.dimensions.width = 320;\r\n        this.dimensions.height = 750;\r\n    }\r\n\r\n    protected createCustomGUI(): React.ReactElement {\r\n        const classes = this._useStyles();\r\n\r\n        const Properties = () => {\r\n            //const [ignored, forceUpdate] = React.useReducer((x) => x + 1, 0);\r\n\r\n            const [cameraNearPlane, setCameraNearPlane] = React.useState(this._sparent.cameraNearPlane);\r\n            const [cameraFarPlane, setCameraFarPlane] = React.useState(this._sparent.cameraFarPlane);\r\n\r\n            const [animateLight, setAnimateLight] = React.useState(this._sparent.animateLight);\r\n            const [lightColor, setLightColor] = React.useState(this._sparent.lightColor);\r\n            const [lightNearPlane, setLightNearPlane] = React.useState(Math.floor(this._sparent.lightNearPlane));\r\n            const [lightFarPlane, setLightFarPlane] = React.useState(Math.floor(this._sparent.lightFarPlane));\r\n            const [autoCalcShadowZBounds, setAutoCalcShadowZBounds] = React.useState(this._sparent.autoCalcShadowZBounds);\r\n            const [showLightHelper, setShowLightHelper] = React.useState(this._sparent.showLightHelper);\r\n\r\n            const [shadowMapShowDepthMap, setShadowMapShowDepthMap] = React.useState(this._sparent.shadowMapShowDepthMap);\r\n            const [shadowMapSize, setShadowMapSize] = React.useState(this._sparent.shadowMapSize);\r\n            const [shadowMapBias, setShadowMapBias] = React.useState(this._sparent.shadowMapBias);\r\n            const [shadowMapNormalBias, setShadowMapNormalBias] = React.useState(this._sparent.shadowMapNormalBias);\r\n            const [shadowMapDarkness, setShadowMapDarkness] = React.useState(this._sparent.shadowMapDarkness);\r\n            const [shadowMapFilter, setShadowMapFilter] = React.useState(this._sparent.shadowMapFilter);\r\n            const [shadowMapQuality, setShadowMapQuality] = React.useState(this._sparent.shadowMapQuality);\r\n            const [shadowMapDepthScale, setShadowMapDepthScale] = React.useState(this._sparent.shadowMapDepthScale);\r\n            const [shadowMapBlurScale, setShadowMapBlurScale] = React.useState(this._sparent.shadowMapBlurScale);\r\n            const [shadowMapUseKernelBlur, setShadowMapUseKernelBlur] = React.useState(this._sparent.shadowMapUseKernelBlur);\r\n            const [shadowMapBlurKernel, setShadowMapBlurKernel] = React.useState(this._sparent.shadowMapBlurKernel);\r\n            const [shadowMapBlurBoxOffset, setShadowMapBlurBoxOffset] = React.useState(this._sparent.shadowMapBlurBoxOffset);\r\n            const [shadowMapLightSizeUVRatio, setShadowMapLightSizeUVRatio] = React.useState(this._sparent.shadowMapLightSizeUVRatio);\r\n\r\n            const [csmNumCascades, setCSMNumCascades] = React.useState(this._sparent.csmNumCascades);\r\n            const [csmActiveCascade, setCSMActiveCascade] = React.useState(this._sparent.csmActiveCascade);\r\n            const [csmVisualizeCascades, setCSMVisualizeCascades] = React.useState(this._sparent.csmVisualizeCascades);\r\n            const [csmStabilizeCascades, setCSMStabilizeCascades] = React.useState(this._sparent.csmStabilizeCascades);\r\n            const [csmDepthClamp, setCSMDepthClamp] = React.useState(this._sparent.csmDepthClamp);\r\n            const [csmLambda, setCSMLambda] = React.useState(this._sparent.csmLambda);\r\n            const [csmSplitBlendPercentage, setCSMSplitBlendPercentage] = React.useState(this._sparent.csmSplitBlendPercentage);\r\n            const [csmPenumbraDarkness, setCSMPenumbraDarkness] = React.useState(this._sparent.csmPenumbraDarkness);\r\n            const [csmShadowMaxZ, setCSMShadowMaxZ] = React.useState(this._sparent.csmShadowMaxZ);\r\n            const [csmAutoCalcDepthBounds, setCSMAutoCalcDepthBounds] = React.useState(this._sparent.csmAutoCalcDepthBounds);\r\n\r\n            const changeCameraNearPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.cameraNearPlane = value as number;\r\n                setCameraNearPlane(this._sparent.cameraNearPlane);\r\n            };\r\n\r\n            const changeCameraFarPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.cameraFarPlane = value as number;\r\n                setCameraFarPlane(this._sparent.cameraFarPlane);\r\n            };\r\n\r\n            const changeAnimateLight = (event: React.ChangeEvent, checked: boolean) => {\r\n                setAnimateLight(checked);\r\n                this._sparent.animateLight = checked;\r\n            };\r\n\r\n            const changeLightColor = (event: React.ChangeEvent<Element>) => {\r\n                this._sparent.lightColor = (event.target as any).value;\r\n                setLightColor(this._sparent.lightColor);\r\n            };\r\n\r\n            const changeLightNearPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.lightNearPlane = value as number;\r\n                setLightNearPlane(this._sparent.lightNearPlane);\r\n            };\r\n\r\n            const changeLightFarPlane = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.lightFarPlane = value as number;\r\n                setLightFarPlane(this._sparent.lightFarPlane);\r\n            };\r\n\r\n            const changeAutoCalcShadowZBounds = (event: React.ChangeEvent, checked: boolean) => {\r\n                setAutoCalcShadowZBounds(checked);\r\n                this._sparent.autoCalcShadowZBounds = checked;\r\n            };\r\n\r\n            const changeShowLightHelper = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShowLightHelper(checked);\r\n                this._sparent.showLightHelper = checked;\r\n            };\r\n\r\n            const changeShadowMapShowDepthMap = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShadowMapShowDepthMap(checked);\r\n                this._sparent.shadowMapShowDepthMap = checked;\r\n            };\r\n\r\n            const changeShadowMapSize = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapSize = event.target.value as number;\r\n                setShadowMapSize(this._sparent.shadowMapSize);\r\n            };\r\n\r\n            const changeShadowMapBias = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapBias = event.target.value as number;\r\n                setShadowMapBias(this._sparent.shadowMapBias);\r\n            };\r\n\r\n            const changeShadowMapNormalBias = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapNormalBias = event.target.value as number;\r\n                setShadowMapNormalBias(this._sparent.shadowMapNormalBias);\r\n            };\r\n\r\n            const changeShadowMapDarkness = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapDarkness = value as number;\r\n                setShadowMapDarkness(this._sparent.shadowMapDarkness);\r\n            };\r\n\r\n            const changeShadowMapFilter = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapFilter = event.target.value as number;\r\n                setShadowMapFilter(this._sparent.shadowMapFilter);\r\n            };\r\n\r\n            const changeShadowMapQuality = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.shadowMapQuality = event.target.value as number;\r\n                setShadowMapQuality(this._sparent.shadowMapQuality);\r\n            };\r\n\r\n            const changeShadowMapDepthScale = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapDepthScale = event.target.value as number;\r\n                setShadowMapDepthScale(this._sparent.shadowMapDepthScale);\r\n            };\r\n\r\n            const changeShadowMapBlurScale = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurScale = value as number;\r\n                setShadowMapBlurScale(this._sparent.shadowMapBlurScale);\r\n            };\r\n\r\n            const changeShadowMapUseKernelBlur = (event: React.ChangeEvent, checked: boolean) => {\r\n                setShadowMapUseKernelBlur(checked);\r\n                this._sparent.shadowMapUseKernelBlur = checked;\r\n            };\r\n\r\n            const changeShadowMapBlurKernel = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurKernel = value as number;\r\n                setShadowMapBlurKernel(this._sparent.shadowMapBlurKernel);\r\n            };\r\n\r\n            const changeShadowMapBlurBoxOffset = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.shadowMapBlurBoxOffset = value as number;\r\n                setShadowMapBlurBoxOffset(this._sparent.shadowMapBlurBoxOffset);\r\n            };\r\n\r\n            const changeShadowMapLightSizeUVRatio = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>) => {\r\n                this._sparent.shadowMapLightSizeUVRatio = event.target.value as number;\r\n                setShadowMapLightSizeUVRatio(this._sparent.shadowMapLightSizeUVRatio);\r\n            };\r\n\r\n            const changeNumCascades = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.csmNumCascades = event.target.value as number;\r\n                setCSMNumCascades(this._sparent.csmNumCascades);\r\n                setCSMActiveCascade(this._sparent.csmActiveCascade);\r\n            };\r\n\r\n            const changeActiveCascade = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._sparent.csmActiveCascade = event.target.value as number;\r\n                setCSMActiveCascade(this._sparent.csmActiveCascade);\r\n                setShadowMapBias(this._sparent.shadowMapBias);\r\n                setShadowMapNormalBias(this._sparent.shadowMapNormalBias);\r\n                setShadowMapDarkness(this._sparent.shadowMapDarkness);\r\n                setShadowMapFilter(this._sparent.shadowMapFilter);\r\n                setShadowMapQuality(this._sparent.shadowMapQuality);\r\n            };\r\n\r\n            const changeCSMVisualizeCascades = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMVisualizeCascades(checked);\r\n                this._sparent.csmVisualizeCascades = checked;\r\n            };\r\n\r\n            const changeCSMStabilizeCascades = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMStabilizeCascades(checked);\r\n                this._sparent.csmStabilizeCascades = checked;\r\n            };\r\n\r\n            const changeCSMDepthClamp = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMDepthClamp(checked);\r\n                this._sparent.csmDepthClamp = checked;\r\n            };\r\n\r\n            const changeCSMLambda = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.csmLambda = value as number;\r\n                setCSMLambda(this._sparent.csmLambda);\r\n            };\r\n\r\n            const changeCSMSplitBlendPercentage = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.csmSplitBlendPercentage = value as number;\r\n                setCSMSplitBlendPercentage(this._sparent.csmSplitBlendPercentage);\r\n            };\r\n\r\n            const changeCSMPenumbraDarkness = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.csmPenumbraDarkness = value as number;\r\n                setCSMPenumbraDarkness(this._sparent.csmPenumbraDarkness);\r\n            };\r\n\r\n            const changeCSMShadowMaxZ = (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n                this._sparent.csmShadowMaxZ = value as number;\r\n                setCSMShadowMaxZ(this._sparent.csmShadowMaxZ);\r\n            };\r\n\r\n            const changeCSMAutoCalcDepthBounds = (event: React.ChangeEvent, checked: boolean) => {\r\n                setCSMAutoCalcDepthBounds(checked);\r\n                this._sparent.csmAutoCalcDepthBounds = checked;\r\n            };\r\n\r\n\r\n            React.useEffect(() => {\r\n                const handler = (event: Event) => {\r\n                    switch ((event as CustomEvent).detail.type) {\r\n                        case 'setShadowZBounds': {\r\n                            setLightNearPlane(Math.floor(this._sparent.lightNearPlane));\r\n                            setLightFarPlane(Math.floor(this._sparent.lightFarPlane));\r\n                            break;\r\n                        }\r\n\r\n                        case 'setShadowMaxZ': {\r\n                            setCSMShadowMaxZ(Math.floor(this._sparent.csmShadowMaxZ));\r\n                            break;\r\n                        }\r\n                    }\r\n                };\r\n\r\n                window.addEventListener('gui_set_value', handler);\r\n\r\n                return () => {\r\n                    window.removeEventListener('gui_set_value', handler);\r\n                };\r\n            }, []);\r\n\r\n            return (\r\n                <>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>Scene</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Current Scene</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>{this._sparent.sceneName}</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Camera Near Plane</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={cameraNearPlane} min={0} max={10} step={0.01} onChange={changeCameraNearPlane} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Camera Far Plane</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={cameraFarPlane} min={0} max={2000} step={10} onChange={changeCameraFarPlane} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>Light</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Show Helper</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={showLightHelper} onChange={changeShowLightHelper} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Animate</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={animateLight} onChange={changeAnimateLight} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Color</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"color\" value={lightColor} variant=\"filled\" onChange={changeLightColor} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                { this._showAutoCalcPlanes && <>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Auto Calc Planes</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <Switch checked={autoCalcShadowZBounds} onChange={changeAutoCalcShadowZBounds} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                { true && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Near Plane</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider disabled={autoCalcShadowZBounds} valueLabelDisplay=\"auto\" value={lightNearPlane} min={-250} max={250} step={1} onChange={changeLightNearPlane} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Far Plane</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider disabled={autoCalcShadowZBounds} valueLabelDisplay=\"auto\" value={lightFarPlane} min={0} max={500} step={1} onChange={changeLightFarPlane} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                </> }\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    { this._showCSM && <>\r\n                        <ExpansionPanel defaultExpanded={true}>\r\n                            <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                                <Typography>Cascaded Shadow Maps</Typography>\r\n                            </ExpansionPanelSummary>\r\n                            <ExpansionPanelDetails>\r\n                                <Grid container spacing={1}>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Num of Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={csmNumCascades}\r\n                                            onChange={changeNumCascades}\r\n                                        >\r\n                                            { [...Array(3).keys()].map((_, i) => <MenuItem key={i + 2} value={i + 2}>{i + 2}</MenuItem>) }\r\n                                        </Select>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Active Cascade</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={csmActiveCascade}\r\n                                            onChange={changeActiveCascade}\r\n                                        >\r\n                                            { [...Array(csmNumCascades).keys()].map((_, i) => <MenuItem key={i} value={i}>{i + 1}</MenuItem>) }\r\n                                        </Select>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Visualize Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmVisualizeCascades} onChange={changeCSMVisualizeCascades} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Stabilize Cascades</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmStabilizeCascades} onChange={changeCSMStabilizeCascades} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Lambda</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" value={csmLambda} min={0} max={1} step={0.01} onChange={changeCSMLambda} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Cascade Blend</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" value={csmSplitBlendPercentage} min={0} max={1} step={0.01} onChange={changeCSMSplitBlendPercentage} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Auto-Calc Depth</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmAutoCalcDepthBounds} onChange={changeCSMAutoCalcDepthBounds} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Shadow MaxZ</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" value={csmShadowMaxZ} min={0} max={500} step={10} onChange={changeCSMShadowMaxZ} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </ExpansionPanelDetails>\r\n                        </ExpansionPanel>\r\n                    </> }\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<Icon>expand_more</Icon>}>\r\n                            <Typography>{ this._showCSM ? \"Cascade\" : \"Shadow Map\" }</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <Grid container spacing={1}>\r\n                                { (!this._showCSM || this._showCSM && shadowMapFilter === CascadedShadowGenerator.FILTER_NONE) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Show Depth Map</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={shadowMapShowDepthMap} onChange={changeShadowMapShowDepthMap} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Size</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Select\r\n                                        className={classes.propertyValue}\r\n                                        value={shadowMapSize}\r\n                                        onChange={changeShadowMapSize}\r\n                                        >\r\n                                        <MenuItem value={2048}>2048x2048</MenuItem>\r\n                                        <MenuItem value={1024}>1024x1024</MenuItem>\r\n                                        <MenuItem value={512}>512x512</MenuItem>\r\n                                        <MenuItem value={256}>256x256</MenuItem>\r\n                                    </Select>\r\n                                </Grid>\r\n                                { this._showCSM && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Depth Clamp</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={csmDepthClamp} onChange={changeCSMDepthClamp} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Bias</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"number\" value={shadowMapBias} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapBias} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Normal Bias</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <TextField type=\"number\" value={shadowMapNormalBias} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapNormalBias} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Darkness</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    <Paper className={classes.propertyValue}>\r\n                                        <PrettoSlider valueLabelDisplay=\"auto\" value={shadowMapDarkness} min={0} max={1} step={0.01} onChange={changeShadowMapDarkness} />\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6}>\r\n                                    <Paper className={classes.subPropertyTitle}>Filter Type</Paper>\r\n                                </Grid>\r\n                                <Grid item xs={6} className={classes.propertyValue}>\r\n                                    { !this._showCSM && <>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapFilter}\r\n                                            onChange={changeShadowMapFilter}\r\n                                            >\r\n                                            <MenuItem value={ShadowGenerator.FILTER_PCSS}>PCSS</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_PCF}>PCF</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP}>CESM (Blur)</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_CLOSEEXPONENTIALSHADOWMAP}>CESM</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP}>ESM (Blur)</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_EXPONENTIALSHADOWMAP}>ESM</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_POISSONSAMPLING}>Poisson</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.FILTER_NONE}>None</MenuItem>\r\n                                        </Select>\r\n                                    </> }\r\n                                    { this._showCSM && <>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapFilter}\r\n                                            onChange={changeShadowMapFilter}\r\n                                            >\r\n                                            <MenuItem value={CascadedShadowGenerator.FILTER_PCSS}>PCSS</MenuItem>\r\n                                            <MenuItem value={CascadedShadowGenerator.FILTER_PCF}>PCF</MenuItem>\r\n                                            <MenuItem value={CascadedShadowGenerator.FILTER_NONE}>None</MenuItem>\r\n                                        </Select>\r\n                                    </> }\r\n                                </Grid>\r\n                                {((shadowMapFilter === ShadowGenerator.FILTER_PCSS || shadowMapFilter === ShadowGenerator.FILTER_PCF) && !this._showCSM || (shadowMapFilter === CascadedShadowGenerator.FILTER_PCSS || shadowMapFilter === CascadedShadowGenerator.FILTER_PCF) && this._showCSM) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Filtering Quality</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Select\r\n                                            className={classes.propertyValue}\r\n                                            value={shadowMapQuality}\r\n                                            onChange={changeShadowMapQuality}\r\n                                            >\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_LOW}>Low</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_MEDIUM}>Medium</MenuItem>\r\n                                            <MenuItem value={ShadowGenerator.QUALITY_HIGH}>High</MenuItem>\r\n                                        </Select>\r\n                                    </Grid>\r\n                                </> }\r\n                                {((shadowMapFilter === ShadowGenerator.FILTER_PCSS) && !this._showCSM || (shadowMapFilter === CascadedShadowGenerator.FILTER_PCSS) && this._showCSM) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Light Size UV Ratio</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <TextField type=\"number\" value={shadowMapLightSizeUVRatio} variant=\"standard\" inputProps={{ step: \"0.001\" }} onChange={changeShadowMapLightSizeUVRatio} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    { this._showCSM && <>\r\n                                        <Grid item xs={6}>\r\n                                            <Paper className={classes.subPropertyTitle}>Penumbra Darkness</Paper>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} className={classes.propertyValue}>\r\n                                            <Paper className={classes.propertyValue}>\r\n                                                <PrettoSlider valueLabelDisplay=\"auto\" value={csmPenumbraDarkness} min={0} max={1} step={0.01} onChange={changeCSMPenumbraDarkness} />\r\n                                            </Paper>\r\n                                        </Grid>\r\n                                    </> }\r\n                                </> }\r\n                                {!this._showCSM && (shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP || shadowMapFilter === ShadowGenerator.FILTER_EXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Depth Scale</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <TextField type=\"number\" value={shadowMapDepthScale} variant=\"standard\" inputProps={{ step: \"1\" }} onChange={changeShadowMapDepthScale} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                {!this._showCSM && (shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Blur Scale</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurScale} min={1} max={4} step={1} onChange={changeShadowMapBlurScale} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                </> }\r\n                                {!this._showCSM && (shadowMapFilter === ShadowGenerator.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP || shadowMapFilter === ShadowGenerator.FILTER_BLUREXPONENTIALSHADOWMAP) && <>\r\n                                    <Grid item xs={6}>\r\n                                        <Paper className={classes.subPropertyTitle}>Use Kernel Blur</Paper>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} className={classes.propertyValue}>\r\n                                        <Paper className={classes.propertyValue}>\r\n                                            <Switch checked={shadowMapUseKernelBlur} onChange={changeShadowMapUseKernelBlur} />\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                    {shadowMapUseKernelBlur && <>\r\n                                        <Grid item xs={6}>\r\n                                            <Paper className={classes.subPropertyTitle}>Blur Kernel</Paper>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} className={classes.propertyValue}>\r\n                                            <Paper className={classes.propertyValue}>\r\n                                                <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurKernel} min={1} max={64} step={1} onChange={changeShadowMapBlurKernel} />\r\n                                            </Paper>\r\n                                        </Grid>\r\n                                    </> }\r\n                                    {!shadowMapUseKernelBlur && <>\r\n                                        <Grid item xs={6}>\r\n                                            <Paper className={classes.subPropertyTitle}>Blur Box Offset</Paper>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} className={classes.propertyValue}>\r\n                                            <Paper className={classes.propertyValue}>\r\n                                                <PrettoSlider valueLabelDisplay=\"auto\" defaultValue={shadowMapBlurBoxOffset} min={1} max={64} step={1} onChange={changeShadowMapBlurBoxOffset} />\r\n                                            </Paper>\r\n                                        </Grid>\r\n                                    </> }\r\n                                </> }\r\n                            </Grid>\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>\r\n                    {this.createCustomGUIProperties()}\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        return (\r\n            <>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n","import {\r\n    AbstractMesh,\r\n    Color3,\r\n    DirectionalLight,\r\n    IShadowGenerator,\r\n    LightGizmo,\r\n    Matrix,\r\n    Mesh,\r\n    MeshBuilder,\r\n    Scene,\r\n    ShadowGenerator,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Vector3,\r\n    VertexData,\r\n    Texture,\r\n    RawTexture,\r\n    Constants,\r\n} from \"babylonjs\";\r\n\r\nimport {\r\n    CustomMaterial,\r\n} from \"babylonjs-materials\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport Utils from \"../Utils\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\nimport { ISceneDescription } from \"./GlobalGUI\";\r\nimport SplitBase from \"./SplitBase\";\r\nimport StandardShadowGUI from \"./StandardShadowGUI\";\r\nimport { IAtlasTile, AtlasPacker } from \"./packer\";\r\n\r\nexport default class StandardShadow extends SplitBase {\r\n\r\n    public static className: string = \"Standard\";\r\n\r\n    protected sun: DirectionalLight;\r\n    protected _shadowGenerator: IShadowGenerator;\r\n    protected _lightHelperFrustumLines: Array<Mesh>;\r\n    protected _lightGizmo: LightGizmo;\r\n    protected _skybox: Mesh;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string) {\r\n        super(scene, camera, parent, name);\r\n\r\n        this.sun = null as any;\r\n        this._shadowGenerator = null as any;\r\n        this._lightHelperFrustumLines = [];\r\n        this._lightGizmo = null as any;\r\n    }\r\n\r\n    protected getStandardGenerator(): ShadowGenerator {\r\n        return this._shadowGenerator as unknown as ShadowGenerator;\r\n    }\r\n\r\n    public get lightColor(): string {\r\n        return this._sunColor.toHexString();\r\n    }\r\n\r\n    public set lightColor(lc: string) {\r\n        this._sunColor = Color3.FromHexString(lc);\r\n        this.sun.diffuse = this._sunColor;\r\n    }\r\n\r\n    public get lightDirection(): Vector3 {\r\n        return this._sunDir;\r\n    }\r\n\r\n    public set lightDirection(ld: Vector3) {\r\n        this._sunDir = ld;\r\n        this.sun.direction = ld;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get shadowMapSize(): number {\r\n        return this._shadowMapSize;\r\n    }\r\n\r\n    public set shadowMapSize(sms: number) {\r\n        this._shadowMapSize = sms;\r\n        this.createShadowGenerator();\r\n    }\r\n\r\n    public get shadowMapFilter(): number {\r\n        return this._shadowMapFilter;\r\n    }\r\n\r\n    public set shadowMapFilter(smf: number) {\r\n        this.getStandardGenerator().filter = smf;\r\n        this._shadowMapFilter = this.getStandardGenerator().filter;\r\n        this.setShadowMapViewerTexture();\r\n    }\r\n\r\n    public get shadowMapBias(): number {\r\n        return this._shadowMapBias;\r\n    }\r\n\r\n    public set shadowMapBias(smb: number) {\r\n        this._shadowMapBias = smb;\r\n        this.getStandardGenerator().bias = smb;\r\n    }\r\n\r\n    public get shadowMapNormalBias(): number {\r\n        return this._shadowMapNormalBias;\r\n    }\r\n\r\n    public set shadowMapNormalBias(smnb: number) {\r\n        this._shadowMapNormalBias = smnb;\r\n        this.getStandardGenerator().normalBias = smnb;\r\n    }\r\n\r\n    public get shadowMapDarkness(): number {\r\n        return this._shadowMapDarkness;\r\n    }\r\n\r\n    public set shadowMapDarkness(smd: number) {\r\n        this._shadowMapDarkness = smd;\r\n        this.getStandardGenerator().darkness = smd;\r\n    }\r\n\r\n    public get shadowMapQuality(): number {\r\n        return this._shadowMapQuality;\r\n    }\r\n\r\n    public set shadowMapQuality(smq: number) {\r\n        this._shadowMapQuality = smq;\r\n        this.getStandardGenerator().filteringQuality = smq;\r\n    }\r\n\r\n    public get shadowMapDepthScale(): number {\r\n        return this._shadowMapDepthScale;\r\n    }\r\n\r\n    public set shadowMapDepthScale(smds: number) {\r\n        this._shadowMapDepthScale = smds;\r\n        this.getStandardGenerator().depthScale = smds;\r\n    }\r\n\r\n    public get shadowMapBlurScale(): number {\r\n        return this._shadowMapBlurScale;\r\n    }\r\n\r\n    public set shadowMapBlurScale(smbs: number) {\r\n        this._shadowMapBlurScale = smbs;\r\n        this.getStandardGenerator().blurScale = smbs;\r\n    }\r\n\r\n    public get shadowMapUseKernelBlur(): boolean {\r\n        return this._shadowMapUseKernelBlur;\r\n    }\r\n\r\n    public set shadowMapUseKernelBlur(smukb: boolean) {\r\n        this._shadowMapUseKernelBlur = smukb;\r\n        this.getStandardGenerator().useKernelBlur = smukb;\r\n    }\r\n\r\n    public get shadowMapBlurKernel(): number {\r\n        return this._shadowMapBlurKernel;\r\n    }\r\n\r\n    public set shadowMapBlurKernel(smbk: number) {\r\n        this._shadowMapBlurKernel = smbk;\r\n        this.getStandardGenerator().blurKernel = smbk;\r\n    }\r\n\r\n    public get shadowMapBlurBoxOffset(): number {\r\n        return this._shadowMapBlurBoxOffset;\r\n    }\r\n\r\n    public set shadowMapBlurBoxOffset(smbbo: number) {\r\n        this._shadowMapBlurBoxOffset = smbbo;\r\n        this.getStandardGenerator().blurBoxOffset = smbbo;\r\n    }\r\n\r\n    public get shadowMapLightSizeUVRatio(): number {\r\n        return this._shadowMapLightSizeUVRatio;\r\n    }\r\n\r\n    public set shadowMapLightSizeUVRatio(smlsuvr: number) {\r\n        this._shadowMapLightSizeUVRatio = smlsuvr;\r\n        this.getStandardGenerator().contactHardeningLightSizeUVRatio = smlsuvr;\r\n    }\r\n\r\n    public get lightNearPlane(): number {\r\n        return this._lightNearPlane;\r\n    }\r\n\r\n    public set lightNearPlane(lnp: number) {\r\n        this._lightNearPlane = lnp;\r\n        this.sun.shadowMinZ = lnp;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get lightFarPlane(): number {\r\n        return this._lightFarPlane;\r\n    }\r\n\r\n    public set lightFarPlane(lfp: number) {\r\n        this._lightFarPlane = lfp;\r\n        this.sun.shadowMaxZ = lfp;\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get showLightHelper(): boolean {\r\n        return this._showLightHelper;\r\n    }\r\n\r\n    public set showLightHelper(slh: boolean) {\r\n        this._showLightHelper = slh;\r\n\r\n        if (this._lightGizmo && !slh) {\r\n            this._lightGizmo.dispose();\r\n            this._lightGizmo = null as any;\r\n        }\r\n\r\n        if (slh) {\r\n            this._lightGizmo = new LightGizmo();\r\n            this._lightGizmo.light = this.sun;\r\n        }\r\n\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    public get autoCalcShadowZBounds(): boolean {\r\n        return this._autoCalcShadowZBounds;\r\n    }\r\n\r\n    public set autoCalcShadowZBounds(acszb: boolean) {\r\n        this._autoCalcShadowZBounds = acszb;\r\n        this.sun.autoCalcShadowZBounds = acszb;\r\n        if (this._autoCalcShadowZBounds) {\r\n            this.sun.setShadowProjectionMatrix(Matrix.Identity(), (this.getStandardGenerator() as any)._viewMatrix, this.getStandardGenerator().getShadowMap()!.renderList!);\r\n        } else {\r\n            this._lightNearPlane = this.sun.shadowMinZ;\r\n            this._lightFarPlane = this.sun.shadowMaxZ;\r\n\r\n            const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowZBounds' } });\r\n\r\n            window.dispatchEvent(event);\r\n        }\r\n        this.buildLightHelper();\r\n    }\r\n\r\n    protected getLightExtents(): { min: Vector3, max: Vector3 } | null {\r\n        const light = this.sun as any;\r\n\r\n        return {\r\n            \"min\": new Vector3(light._orthoLeft, light._orthoBottom, this.sun.shadowMinZ),\r\n            \"max\": new Vector3(light._orthoRight, light._orthoTop, this.sun.shadowMaxZ),\r\n        };\r\n    }\r\n\r\n    protected getViewMatrix(): Matrix | null {\r\n        return (this.getStandardGenerator() as any)._viewMatrix;\r\n    }\r\n\r\n    protected buildLightHelper(): void {\r\n        this._lightHelperFrustumLines.forEach((mesh) => {\r\n            mesh.dispose();\r\n        });\r\n\r\n        this._lightHelperFrustumLines = [];\r\n\r\n        if (!this._showLightHelper) {\r\n            return;\r\n        }\r\n\r\n        const lightExtents = this.getLightExtents();\r\n        const lightView = this.getViewMatrix();\r\n\r\n        if (!lightExtents || !lightView) {\r\n            return;\r\n        }\r\n\r\n        const invLightView = Matrix.Invert(lightView);\r\n\r\n        const n1 = new Vector3(lightExtents.max.x, lightExtents.max.y, lightExtents.min.z);\r\n        const n2 = new Vector3(lightExtents.max.x, lightExtents.min.y, lightExtents.min.z);\r\n        const n3 = new Vector3(lightExtents.min.x, lightExtents.min.y, lightExtents.min.z);\r\n        const n4 = new Vector3(lightExtents.min.x, lightExtents.max.y, lightExtents.min.z);\r\n\r\n        const near1 = Vector3.TransformCoordinates(n1, invLightView);\r\n        const near2 = Vector3.TransformCoordinates(n2, invLightView);\r\n        const near3 = Vector3.TransformCoordinates(n3, invLightView);\r\n        const near4 = Vector3.TransformCoordinates(n4, invLightView);\r\n\r\n        const f1 = new Vector3(lightExtents.max.x, lightExtents.max.y, lightExtents.max.z);\r\n        const f2 = new Vector3(lightExtents.max.x, lightExtents.min.y, lightExtents.max.z);\r\n        const f3 = new Vector3(lightExtents.min.x, lightExtents.min.y, lightExtents.max.z);\r\n        const f4 = new Vector3(lightExtents.min.x, lightExtents.max.y, lightExtents.max.z);\r\n\r\n        const far1 = Vector3.TransformCoordinates(f1, invLightView);\r\n        const far2 = Vector3.TransformCoordinates(f2, invLightView);\r\n        const far3 = Vector3.TransformCoordinates(f3, invLightView);\r\n        const far4 = Vector3.TransformCoordinates(f4, invLightView);\r\n\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"nearlines\", { points: [near1, near2, near3, near4, near1] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"farlines\",  { points: [far1, far2, far3, far4, far1] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"trlines\", { points: [ near1, far1 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"brlines\", { points: [ near2, far2 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"tllines\", { points: [ near3, far3 ] }, this.scene));\r\n        this._lightHelperFrustumLines.push(MeshBuilder.CreateLines(\"bllines\", { points: [ near4, far4 ] }, this.scene));\r\n\r\n        const makePlane = (name: string, color: Color3, positions: Array<number>) => {\r\n            let plane = new Mesh(name + \"plane\", this.scene),\r\n                mat = new StandardMaterial(name + \"PlaneMat\", this.scene);\r\n\r\n            plane.material = mat;\r\n\r\n            mat.emissiveColor = color;\r\n            mat.alpha = 0.3;\r\n            mat.backFaceCulling = false;\r\n            mat.disableLighting = true;\r\n\r\n            const indices = [0, 1, 2, 0, 2, 3];\r\n\r\n            const vertexData = new VertexData();\r\n\r\n            vertexData.positions = positions;\r\n            vertexData.indices = indices;\r\n\r\n            vertexData.applyToMesh(plane);\r\n\r\n            this._lightHelperFrustumLines.push(plane);\r\n        };\r\n\r\n        makePlane(\"near\",   new Color3(1, 0, 0),    [near1.x, near1.y, near1.z, near2.x, near2.y, near2.z, near3.x, near3.y, near3.z, near4.x, near4.y, near4.z ]);\r\n        makePlane(\"far\",    new Color3(0.3, 0, 0),  [far1.x, far1.y, far1.z, far2.x, far2.y, far2.z, far3.x, far3.y, far3.z, far4.x, far4.y, far4.z ]);\r\n        makePlane(\"right\",  new Color3(0, 1, 0),    [near1.x, near1.y, near1.z, far1.x, far1.y, far1.z, far2.x, far2.y, far2.z, near2.x, near2.y, near2.z ]);\r\n        makePlane(\"left\",   new Color3(0, 0.3, 0),  [near4.x, near4.y, near4.z, far4.x, far4.y, far4.z, far3.x, far3.y, far3.z, near3.x, near3.y, near3.z ]);\r\n        makePlane(\"top\",    new Color3(0, 0, 1),    [near1.x, near1.y, near1.z, far1.x, far1.y, far1.z, far4.x, far4.y, far4.z, near4.x, near4.y, near4.z ]);\r\n        makePlane(\"bottom\", new Color3(0, 0, 0.3),  [near2.x, near2.y, near2.z, far2.x, far2.y, far2.z, far3.x, far3.y, far3.z, near3.x, near3.y, near3.z ]);\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this.gui = new StandardShadowGUI(this.name, this.scene.getEngine(), this._container, this);\r\n\r\n        this.gui.createGUI();\r\n    }\r\n\r\n    public async initialize(scene: ISceneDescription, ambientColor: Color3, sunDir: Vector3): Promise<ISampleSplit> {\r\n        this.scene.metadata = { \"name\": this.name };\r\n        this._sceneName = scene.dname;\r\n\r\n        this._sunDir = sunDir;\r\n        this._sunColor = scene.sunColor.clone();\r\n\r\n        this.sun = new DirectionalLight(\"sun\", sunDir, this.scene);\r\n        this.sun.intensity = 1;\r\n        this.sun.shadowMinZ = scene.light.nearPlane;\r\n        this.sun.shadowMaxZ = scene.light.farPlane;\r\n        this.sun.diffuse = this._sunColor;\r\n\r\n        (window as any).sun = this.sun;\r\n\r\n        this._skybox = Utils.addSkybox(\"Clouds.dds\", this.scene, 100);\r\n\r\n        await Utils.loadObj(this.scene, scene.path, scene.name);\r\n\r\n        this.scene.activeCamera = this.camera;\r\n\r\n        const useTextureAtlas = true;\r\n\r\n        const meshes: Mesh[] = [];\r\n        const textureBlocks: Array<IAtlasTile> = [];\r\n        const textureNameToIndex: { [name: string]: number } = {};\r\n        const texturePromises: Array<Promise<void>> = [];\r\n\r\n        this.scene.meshes.forEach((m) => {\r\n            if (m.name == 'skyBox' || m.name.indexOf(\"_shadowmap\") >= 0) { return; }\r\n\r\n            if (!m.material) { return; }\r\n\r\n            meshes.push(m as Mesh);\r\n\r\n            let mat;\r\n\r\n            if (useTextureAtlas) {\r\n                const stdmat = m.material as StandardMaterial;\r\n\r\n                mat = new CustomMaterial(m.material.name, this.scene);\r\n    \r\n                mat.Fragment_Custom_Diffuse(`\r\n                    float fx = clamp(fract(vDiffuseUV.x), 0., 1.), fy = clamp(fract(vDiffuseUV.y), 0., 1.);\r\n                    vec2 uvCoord = vec2(vColor.x + fx * vColor.z, vColor.y + fy * vColor.w);\r\n                    baseColor = texture(diffuseSampler, uvCoord);\r\n                `);\r\n    \r\n                mat.diffuseTexture = stdmat.diffuseTexture;\r\n\r\n                m.material = mat;\r\n            } else {\r\n                mat = m.material as StandardMaterial;\r\n            }\r\n\r\n            mat.diffuseColor = new Color3(1., 1., 1.);\r\n            mat.specularColor = new Color3(0., 0., 0.);\r\n            mat.ambientColor = ambientColor;\r\n            mat.ambientTexture = null;\r\n            mat.backFaceCulling = scene.backfaceCulling;\r\n\r\n            if (!mat.diffuseTexture) {\r\n                mat.ambientColor = new Color3(0, 0, 0);\r\n                console.log(\"mesh no texture\", m.name);\r\n            } else if (useTextureAtlas) {\r\n                const diffuseTexture = mat.diffuseTexture as Texture;\r\n                if (diffuseTexture.uScale !== 1 || diffuseTexture.vScale !== 1) {\r\n                    console.log(\"texture scaled\", diffuseTexture.url);\r\n                }\r\n                texturePromises.push(new Promise((resolve) => {\r\n                    diffuseTexture.onLoadObservable.add(() => {\r\n                        if (!textureNameToIndex[diffuseTexture.url!]) {\r\n                            textureNameToIndex[diffuseTexture.url!] = textureBlocks.length;\r\n                            textureBlocks.push({ w: diffuseTexture.getSize().width, h: diffuseTexture.getSize().height, obj: diffuseTexture } as IAtlasTile);\r\n                        }\r\n                        resolve();\r\n                    });\r\n                }));\r\n            }\r\n            //!mat.freeze();\r\n\r\n            m.receiveShadows = true;\r\n\r\n            if (useTextureAtlas) {\r\n                (m as Mesh).bakeCurrentTransformIntoVertices();\r\n            }\r\n\r\n            if (scene.scaling != 1) {\r\n                let matrix = Matrix.Identity();\r\n                matrix.scaleToRef(scene.scaling, matrix);\r\n                matrix.setRowFromFloats(3, 0, 0, 0, 1);\r\n                (m as Mesh).bakeTransformIntoVertices(matrix);\r\n                m.refreshBoundingInfo();\r\n            }\r\n        });\r\n\r\n        if (useTextureAtlas) {\r\n            await Promise.all(texturePromises);\r\n\r\n            textureBlocks.sort((a: IAtlasTile, b: IAtlasTile) => {\r\n                const va = Math.max(a.w, a.h);\r\n                const vb = Math.max(b.w, b.h);\r\n                return vb < va ? -1 : vb > va ? 1 : 0;\r\n            });\r\n            \r\n            const atlas = new AtlasPacker();\r\n\r\n            if (!atlas.fit(textureBlocks)) {\r\n                console.log(\"shit!\", textureBlocks);\r\n            } else {\r\n                console.log(\"Atlas dimensions=\", atlas.getSize());\r\n            }\r\n\r\n            console.log(textureBlocks);\r\n\r\n            const { w: width, h: height } = atlas.getSize();\r\n            const canvas = document.createElement(\"canvas\");\r\n            const ctx = canvas.getContext(\"2d\")!;\r\n\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n\r\n            ctx.fillStyle = 'rgb(0, 0, 0)';\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            for (let n = 0; n < textureBlocks.length; ++n) {\r\n                const block = textureBlocks[n];\r\n                const w = block.w, h = block.h, x = block.fit!.x, y = block.fit!.y;\r\n                const texture = (block as any).obj as Texture;\r\n\r\n                const data = texture.readPixels()! as Uint8Array;\r\n                const imgData = ctx.createImageData(w, h);\r\n\r\n                for (let i = 0; i < imgData.data.length; i += 4) {\r\n                    imgData.data[i + 0] = data[i + 0];\r\n                    imgData.data[i + 1] = data[i + 1];\r\n                    imgData.data[i + 2] = data[i + 2];\r\n                    imgData.data[i + 3] = data[i + 3];\r\n                }\r\n\r\n                ctx.putImageData(imgData, x, y);\r\n\r\n                textureNameToIndex[((block as any).obj as Texture).url!] = n;\r\n            }\r\n\r\n            const atlasImageData = ctx.getImageData(0, 0, width, height);\r\n\r\n            //const atlasTexture = RawTexture.CreateRGBATexture(atlasImageData.data, width, height, this.scene, true, false, Constants.TEXTURE_LINEAR_LINEAR_MIPLINEAR);\r\n            const atlasTexture = RawTexture.CreateRGBATexture(atlasImageData.data, width, height, this.scene, false, false, Constants.TEXTURE_LINEAR_LINEAR);\r\n\r\n            atlasTexture.anisotropicFilteringLevel = 1;\r\n\r\n            //const img = canvas.toDataURL(\"image/png\");\r\n            //this.saveData(\"atlas\", img);\r\n\r\n            meshes.forEach((m) => {\r\n                const mat = m.material as StandardMaterial;\r\n                if (!mat.diffuseTexture) {\r\n                    return;\r\n                }\r\n\r\n                const diffuseTexture = mat.diffuseTexture as Texture;\r\n                const url = diffuseTexture.url!;\r\n\r\n                const block = textureBlocks[textureNameToIndex[url]];\r\n                const w = block.w, h = block.h, x = block.fit!.x, y = block.fit!.y;\r\n\r\n                const totalVertices = m.getTotalVertices();\r\n                const tileinfos = [];\r\n\r\n                const ofst = 0.5;\r\n\r\n                for (let v = 0; v < totalVertices; v++) {\r\n                    tileinfos[v * 4 + 0] = (x + ofst) / width;\r\n                    tileinfos[v * 4 + 1] = (y + ofst) / height;\r\n                    tileinfos[v * 4 + 2] = (w - ofst * 2) / width;\r\n                    tileinfos[v * 4 + 3] = (h - ofst * 2) / height;\r\n                }\r\n\r\n                m.setVerticesData(\"color\", tileinfos);\r\n            });\r\n\r\n            const nmesh = Mesh.MergeMeshes(meshes, true, true, undefined, false, false);\r\n\r\n            (nmesh!.material as StandardMaterial).diffuseTexture = atlasTexture;\r\n\r\n            nmesh!.receiveShadows = true;\r\n        }\r\n\r\n        this.createShadowGenerator();\r\n\r\n        return this;\r\n    }\r\n\r\n    public async saveData(filename: string, data: any): Promise<void> {\r\n        const blob = await (await fetch(data)).blob();\r\n        const url = URL.createObjectURL(blob);\r\n        let a = document.createElement('a');\r\n        a.href = url;\r\n        a.target = '_blank';\r\n        a.download = filename + '.png';\r\n        a.click();\r\n        setTimeout(function() { URL.revokeObjectURL(url); }, 4E4); // 40s\r\n    }\r\n\r\n    public convertToPng(imgData: ImageData) {\r\n        let canvas = document.createElement(\"canvas\");\r\n\r\n        canvas.width = imgData.width;\r\n        canvas.height = imgData.height;\r\n\r\n        const context: any = canvas.getContext('2d');\r\n\r\n        context.putImageData(imgData, 0, 0);\r\n\r\n        return canvas.toDataURL('image/png');\r\n    }\r\n\r\n    protected createGenerator(): ShadowGenerator {\r\n        return new ShadowGenerator(this.shadowMapSize, this.sun);\r\n    }\r\n\r\n    protected setShadowMapViewerTexture(): void {\r\n        (this._shadowMapPlane.material as StandardMaterial).diffuseTexture = this._shadowMapFilter !== ShadowGenerator.FILTER_PCF ? (this._shadowGenerator as any).getShadowMap() : null;\r\n    }\r\n\r\n    protected createShadowGenerator(): void {\r\n        if (this._shadowGenerator) {\r\n            this._shadowGenerator.dispose();\r\n            this._shadowGenerator = null as any;\r\n        }\r\n\r\n        const shadowGenerator = this.createGenerator();\r\n\r\n        this._shadowGenerator = shadowGenerator;\r\n\r\n        shadowGenerator.bias = this._shadowMapBias;\r\n        shadowGenerator.normalBias = this._shadowMapNormalBias;\r\n        shadowGenerator.darkness = this._shadowMapDarkness;\r\n        shadowGenerator.filter = this._shadowMapFilter;\r\n        shadowGenerator.filteringQuality = this._shadowMapQuality;\r\n        shadowGenerator.depthScale = this._shadowMapDepthScale;\r\n        shadowGenerator.blurScale = this._shadowMapBlurScale;\r\n        shadowGenerator.useKernelBlur = this._shadowMapUseKernelBlur;\r\n        shadowGenerator.blurKernel = this._shadowMapBlurKernel;\r\n        shadowGenerator.blurBoxOffset = this._shadowMapBlurBoxOffset;\r\n        shadowGenerator.contactHardeningLightSizeUVRatio = this._shadowMapLightSizeUVRatio;\r\n\r\n        this.setShadowMapViewerTexture();\r\n\r\n        (window as any).sg = shadowGenerator;\r\n\r\n        const renderList = shadowGenerator.getShadowMap()?.renderList!;\r\n\r\n        let num = 0, lstm: Array<AbstractMesh> = [];\r\n        this.scene.meshes.forEach((m) => {\r\n            if (m.name == 'skyBox') { return; }\r\n            renderList.push(m);\r\n        });\r\n        lstm.forEach((m) => {\r\n            m.dispose();\r\n        });\r\n    }\r\n\r\n    public render(): void {\r\n        this._skybox.position.copyFrom(this.camera.position);\r\n        this.scene.render();\r\n\r\n        /*if (this._animateLight && this._autoCalcShadowZBounds) {\r\n            this._lightNearPlane = this.sun.shadowMinZ;\r\n            this._lightFarPlane = this.sun.shadowMaxZ;\r\n\r\n            const event = new CustomEvent('gui_set_value', { detail: { type: 'setShadowZBounds' } });\r\n\r\n            window.dispatchEvent(event);\r\n        }*/\r\n    }\r\n\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport SplitBaseGUI from \"./SplitBaseGUI\";\r\n\r\nexport default class StandardShadowGUI extends SplitBaseGUI {\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        const Properties = () => {\r\n            return (\r\n                <>\r\n                </>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n}\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    Color3,\r\n    Color4,\r\n    SceneLoader,\r\n    UniversalCamera,\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport Sample, { enumSplitMode } from \"../Sample\";\r\nimport ISampleSplit from \"./ISampleSplit\";\r\n\r\nimport GlobalGUI from \"./GlobalGUI\";\r\nimport StandardShadow from \"./StandardShadow\";\r\nimport CSM from \"./CSM\";\r\n\r\nexport default class CSMSample extends Sample {\r\n\r\n    protected _sunDir:          Vector3;\r\n    protected _ambientColor:    Color3;\r\n\r\n    constructor(engine: Engine, canvas: HTMLCanvasElement) {\r\n        super(engine, canvas);\r\n\r\n        this._sunDir = new Vector3(-1, -1, -1);\r\n//        this._sunDir = new Vector3(32, -30, 22);\r\n        this._sunDir.normalize();\r\n        this._ambientColor = new Color3(0.3, 0.3, 0.3);\r\n        this._clearColor = new Color4(0.17773, 0.41797, 0.65234, 1);\r\n\r\n        this.registerClass(\"std\", StandardShadow);\r\n        this.registerClass(\"csm\", CSM);\r\n\r\n        this.splitMode = enumSplitMode.LINEAR;\r\n        this.splitType = \"csm\";\r\n\r\n        this._gui = new GlobalGUI(\"Global settings\", this._engine, this);\r\n\r\n        let ocont = jQuery('<div id=\"fps2\"></div>').css('position', 'absolute').css('left', '2px').css('top', '2px').css('z-index', '201');\r\n\r\n        jQuery(document.body).append(ocont);\r\n    }\r\n\r\n    protected create(): void {\r\n        Promise.all([this.createNewSplit()]).then(() => {\r\n            SceneLoader.ShowLoadingScreen = false;\r\n            this.createGUI();\r\n        });\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this._gui!.zIndex = 200;\r\n        this._gui!.createGUI();\r\n    }\r\n\r\n    public async createNewSplit() {\r\n        this.detachControlFromAllCameras();\r\n\r\n        let split = this.addSplit(this.splitType!, this.splitClasses.get(this.splitType!)!.className, false, false) as ISampleSplit,\r\n            camera = split.camera;\r\n\r\n        const gscene = (this._gui as GlobalGUI)!.scenes[(this._gui as GlobalGUI).selectedScene];\r\n\r\n        split.group = (this._gui as GlobalGUI).selectedScene;\r\n        split.isLoading = true;\r\n\r\n        camera.position = gscene.camera.position.clone();\r\n        if (gscene.camera.rotation) {\r\n            camera.rotation.copyFrom(gscene.camera.rotation);\r\n        } else {\r\n            camera.setTarget(gscene.camera.target.clone());\r\n        }\r\n\r\n        return split.initialize(gscene, this._ambientColor, this._sunDir.clone()).then(() => {\r\n            split.isLoading = false;\r\n            split.createGUI();\r\n            this.resyncCameras();\r\n            this.attachControlToAllCameras();\r\n        });\r\n    }\r\n\r\n    public render(): void {\r\n        super.render();\r\n\r\n        jQuery('#fps2').html(this._engine.getFps().toFixed() + \" fps\");\r\n    }\r\n\r\n    protected createSceneAndCamera(attachControls: boolean): [Scene, UniversalCamera] {\r\n        const [scene, camera] = super.createSceneAndCamera(attachControls);\r\n\r\n        scene.ambientColor = new Color3(1, 1, 1);\r\n        scene.clearColor = this._clearColor;\r\n\r\n        camera.fov = Math.PI / 4 * 0.75;\r\n        camera.minZ = 0.25;\r\n        camera.maxZ = 250;\r\n\r\n        return [scene, camera];\r\n    }\r\n\r\n}\r\n\r\nSample.registerSampleClass(\"csm2\", {\r\n    \"displayName\": \"Implementation of the Cascaded Shadow Maps rendering technic\",\r\n    \"description\": \"\",\r\n    \"class\": CSMSample,\r\n});\r\n","/******************************************************************************\r\nFrom: https://github.com/jakesgordon/bin-packing\r\n\r\nThis is a very simple binary tree based bin packing algorithm that is initialized\r\nwith a fixed width and height and will fit each block into the first node where\r\nit fits and then split that node into 2 parts (down and right) to track the\r\nremaining whitespace.\r\nBest results occur when the input blocks are sorted by height, or even better\r\nwhen sorted by max(width,height).\r\nInputs:\r\n------\r\n  w:       width of target rectangle\r\n  h:      height of target rectangle\r\n  blocks: array of any objects that have .w and .h attributes\r\nOutputs:\r\n-------\r\n  marks each block that fits with a .fit attribute pointing to a\r\n  node with .x and .y coordinates\r\nExample:\r\n-------\r\n  var blocks = [\r\n    { w: 100, h: 100 },\r\n    { w: 100, h: 100 },\r\n    { w:  80, h:  80 },\r\n    { w:  80, h:  80 },\r\n    etc\r\n    etc\r\n  ];\r\n  var packer = new Packer(500, 500);\r\n  packer.fit(blocks);\r\n  for(var n = 0 ; n < blocks.length ; n++) {\r\n    var block = blocks[n];\r\n    if (block.fit) {\r\n      Draw(block.fit.x, block.fit.y, block.w, block.h);\r\n    }\r\n  }\r\n******************************************************************************/\r\nimport { Nullable } from \"babylonjs/types\";\r\n\r\nexport interface IAtlasTile {\r\n    w: number;\r\n    h: number;\r\n    fit?: Nullable<IAtlasNode>;\r\n}\r\n\r\ninterface IAtlasNode {\r\n    x: number;\r\n    y: number;\r\n    w: number;\r\n    h: number;\r\n    used?: boolean;\r\n    right?: Nullable<IAtlasNode>;\r\n    down?: Nullable<IAtlasNode>;\r\n}\r\n\r\nexport class AtlasPacker {\r\n\r\n    protected _root: IAtlasNode;\r\n\r\n    constructor(w: number = 0, h: number = 0) {\r\n        this._root = { x: 0, y: 0, w: w, h: h };\r\n    }\r\n\r\n    public fit(blocks: Array<IAtlasTile>): boolean {\r\n        if (this._root.w === 0 && this._root.h === 0) {\r\n            this._fitGrowing(blocks);\r\n        } else {\r\n            this._fit(blocks);\r\n        }\r\n\r\n        for (let n = 0 ; n < blocks.length ; n++) {\r\n            if (!blocks[n].fit) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public getSize(): { w: number, h: number } {\r\n        return { w: this._root.w, h: this._root.h };\r\n    }\r\n\r\n    protected _fit(blocks: Array<IAtlasTile>) {\r\n        let node: Nullable<IAtlasNode>;\r\n        for (let n = 0; n < blocks.length; n++) {\r\n            const block = blocks[n];\r\n            if (node = this._findNode(this._root, block.w, block.h)) {\r\n                block.fit = this._splitNode(node, block.w, block.h);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _fitGrowing(blocks: Array<IAtlasTile>) {\r\n        const len = blocks.length;\r\n        const w = len > 0 ? blocks[0].w : 0;\r\n        const h = len > 0 ? blocks[0].h : 0;\r\n\r\n        this._root.w = w;\r\n        this._root.h = h;\r\n\r\n        let node;\r\n        for (let n = 0; n < len; n++) {\r\n            const block = blocks[n];\r\n            if (node = this._findNode(this._root, block.w, block.h)) {\r\n                block.fit = this._splitNode(node, block.w, block.h);\r\n            } else {\r\n                block.fit = this._growNode(block.w, block.h);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    protected _findNode(root: IAtlasNode, w: number, h: number): Nullable<IAtlasNode> {\r\n        if (root.used) {\r\n            return this._findNode(root.right!, w, h) || this._findNode(root.down!, w, h);\r\n        } else if ((w <= root.w) && (h <= root.h)) {\r\n            return root;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    protected _splitNode(node: IAtlasNode, w: number, h: number): IAtlasNode {\r\n        node.used = true;\r\n        node.down = { x: node.x, y: node.y + h, w: node.w, h: node.h - h };\r\n        node.right = { x: node.x + w, y: node.y, w: node.w - w, h: h };\r\n\r\n        return node;\r\n    }\r\n\r\n    protected _growNode(w: number, h: number): Nullable<IAtlasNode> {\r\n        var canGrowDown = (w <= this._root.w);\r\n        var canGrowRight = (h <= this._root.h);\r\n\r\n        var shouldGrowRight = canGrowRight && (this._root.h >= (this._root.w + w)); // attempt to keep square-ish by growing right when height is much greater than width\r\n        var shouldGrowDown = canGrowDown && (this._root.w >= (this._root.h + h)); // attempt to keep square-ish by growing down  when width  is much greater than height\r\n\r\n        if (shouldGrowRight) {\r\n            return this._growRight(w, h);\r\n        } else if (shouldGrowDown) {\r\n            return this._growDown(w, h);\r\n        } else if (canGrowRight) {\r\n            return this._growRight(w, h);\r\n        } else if (canGrowDown) {\r\n            return this._growDown(w, h);\r\n        }\r\n\r\n        return null; // need to ensure sensible root starting size to avoid this happening\r\n    }\r\n\r\n    protected _growRight(w: number, h: number): Nullable<IAtlasNode> {\r\n        this._root = {\r\n            used: true,\r\n            x: 0,\r\n            y: 0,\r\n            w: this._root.w + w,\r\n            h: this._root.h,\r\n            down: this._root,\r\n            right: { x: this._root.w, y: 0, w: w, h: this._root.h }\r\n        };\r\n\r\n        let node = this._findNode(this._root, w, h);\r\n\r\n        return node ? this._splitNode(node, w, h) : null;\r\n    }\r\n\r\n    protected _growDown(w: number, h: number): Nullable<IAtlasNode> {\r\n        this._root = {\r\n          used: true,\r\n          x: 0,\r\n          y: 0,\r\n          w: this._root.w,\r\n          h: this._root.h + h,\r\n          down:  { x: 0, y: this._root.h, w: this._root.w, h: h },\r\n          right: this._root\r\n        };\r\n\r\n        let node = this._findNode(this._root, w, h);\r\n\r\n        return node ? this._splitNode(node, w, h) : null;\r\n    }\r\n}","import {\r\n    DirectionalLight,\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    HemisphericLight,\r\n    Matrix,\r\n    Mesh,\r\n    InternalTexture,\r\n    Nullable,\r\n    Engine,\r\n    PassPostProcess,\r\n    Texture,\r\n    Effect,\r\n    PostProcess,\r\n    PostProcessRenderPipeline,\r\n    PostProcessRenderEffect,\r\n    RenderTargetTexture,\r\n    Constants,\r\n    PostProcessManager,\r\n} from \"babylonjs\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\nimport Utils from \"../Utils\";\r\n\r\nexport default class DepthMinMax extends SampleBasic {\r\n\r\n    private _dummyFramebuffer: WebGLFramebuffer;\r\n    private _skyBox: Mesh;\r\n\r\n    protected async populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position.x = 40;\r\n        camera.position.y = 5;\r\n        camera.position.z = 5;\r\n\r\n        camera.fov = Math.PI / 4 * 0.75;\r\n        camera.minZ = 0.25;\r\n        camera.maxZ = 250;\r\n\r\n        camera.setTarget(new Vector3(39, 5, 5));\r\n\r\n        //this._skyBox = Utils.addSkybox(\"Clouds.dds\", scene, 100);\r\n\r\n        await Utils.loadObj(scene, \"./resources/3d/powerplant/\", \"powerplant.obj\");\r\n\r\n        const scaling = 0.5;\r\n\r\n        scene.meshes.forEach((m) => {\r\n            if (m.name == 'skyBox') { return; }\r\n\r\n            if (!m.material) { return; }\r\n\r\n            let matrix = Matrix.Identity();\r\n            matrix.scaleToRef(scaling, matrix);\r\n            matrix.setRowFromFloats(3, 0, 0, 0, 1);\r\n            (m as Mesh).bakeTransformIntoVertices(matrix);\r\n            m.refreshBoundingInfo();\r\n        });\r\n\r\n        let sunDir = new Vector3(32, -30, 22);\r\n\r\n        let sun = new DirectionalLight(\"sun\", sunDir, scene);\r\n        sun.intensity = 1;\r\n\r\n        let hemil = new HemisphericLight(\"hemil\", new Vector3(0, 1, 0), scene);\r\n        hemil.intensity = 1;\r\n\r\n        var depthRenderer = scene.enableDepthRenderer(camera, false);\r\n\r\n        depthRenderer.getDepthMap().updateSamplingMode(Constants.TEXTURE_NEAREST_NEAREST/*Texture.NEAREST_SAMPLINGMODE*/);\r\n        depthRenderer.useOnlyInActiveCamera = true;\r\n        depthRenderer.getDepthMap().ignoreCameraViewport = false;\r\n\r\n        var depthMap = depthRenderer.getDepthMap();\r\n\r\n        //\r\n        Effect.ShadersStore.depthReductionInitialFragmentShader = `\r\n            #version 300 es\r\n            precision highp float;\r\n            precision highp int;\r\n\r\n            in vec2 vUV;\r\n\r\n            uniform sampler2D textureSampler;\r\n            uniform sampler2D depthTexture;\r\n\r\n            //#define METHOD1\r\n\r\n            out vec2 glFragColor;\r\n\r\n            void main(void)\r\n            {\r\n            #ifdef METHOD1\r\n                ivec2 size = textureSize(depthTexture, 0);\r\n                vec2 texelSize = vec2(1.0 / float(size.x), 1.0 / float(size.y));\r\n\r\n                float f1 = texture(depthTexture, vUV).r;\r\n                float f2 = texture(depthTexture, vUV + vec2(texelSize.x, 0.0)).r;\r\n                float f3 = texture(depthTexture, vUV + vec2(texelSize.x, texelSize.y)).r;\r\n                float f4 = texture(depthTexture, vUV + vec2(0.0, texelSize.y)).r;\r\n            #else\r\n                vec2 size = vec2(textureSize(depthTexture, 0) - 1);\r\n                vec2 texcoord = vUV * size;\r\n                ivec2 coord = ivec2(texcoord);\r\n\r\n                float f1 = texelFetch(depthTexture, coord, 0).r;\r\n                float f2 = texelFetch(depthTexture, coord + ivec2(1, 0), 0).r;\r\n                float f3 = texelFetch(depthTexture, coord + ivec2(1, 1), 0).r;\r\n                float f4 = texelFetch(depthTexture, coord + ivec2(0, 1), 0).r;\r\n            #endif\r\n\r\n                float minz = min(min(min(f1, f2), f3), f4);\r\n                float maxz = max(max(max(sign(1.0 - f1) * f1, sign(1.0 - f2) * f2), sign(1.0 - f3) * f3), sign(1.0 - f4) * f4);\r\n\r\n                glFragColor = vec2(minz, maxz);\r\n            }\r\n        `;\r\n\r\n        //\r\n        Effect.ShadersStore.depthReductionFragmentShader = `\r\n            #version 300 es\r\n            precision highp float;\r\n            precision highp int;\r\n\r\n            in vec2 vUV;\r\n\r\n            uniform sampler2D textureSampler;\r\n\r\n            //#define METHOD1\r\n\r\n            out vec2 glFragColor;\r\n\r\n            void main(void)\r\n            {\r\n            #ifdef METHOD1\r\n                ivec2 size = textureSize(textureSampler, 0);\r\n                vec2 texelSize = vec2(1.0 / float(size.x), 1.0 / float(size.y));\r\n\r\n                vec2 f1 = texture(textureSampler, vUV).rg;\r\n                vec2 f2 = texture(textureSampler, vUV + vec2(texelSize.x, 0.0)).rg;\r\n                vec2 f3 = texture(textureSampler, vUV + vec2(texelSize.x, texelSize.y)).rg;\r\n                vec2 f4 = texture(textureSampler, vUV + vec2(0.0, texelSize.y)).rg;\r\n            #else\r\n                vec2 size = vec2(textureSize(textureSampler, 0) - 1);\r\n                vec2 texcoord = vUV * size;\r\n                ivec2 coord = ivec2(texcoord);\r\n\r\n                vec2 f1 = texelFetch(textureSampler, coord, 0).rg;\r\n                vec2 f2 = texelFetch(textureSampler, coord + ivec2(1, 0), 0).rg;\r\n                vec2 f3 = texelFetch(textureSampler, coord + ivec2(1, 1), 0).rg;\r\n                vec2 f4 = texelFetch(textureSampler, coord + ivec2(0, 1), 0).rg;\r\n            #endif\r\n\r\n                float minz = min(min(min(f1.x, f2.x), f3.x), f4.x);\r\n                float maxz = max(max(max(f1.y, f2.y), f3.y), f4.y);\r\n\r\n                glFragColor = vec2(minz, maxz);\r\n            }\r\n        `;\r\n\r\n        //\r\n        Effect.ShadersStore.depthReductionALastFragmentShader = `\r\n            #version 300 es\r\n            precision highp float;\r\n            precision highp int;\r\n\r\n            in vec2 vUV;\r\n\r\n            uniform sampler2D textureSampler;\r\n\r\n            out vec2 glFragColor;\r\n\r\n            void main(void)\r\n            {\r\n                ivec2 size = textureSize(textureSampler, 0);\r\n                vec2 texcoord = vUV * (vec2(size - 1));\r\n                ivec2 coord = ivec2(texcoord);\r\n\r\n                vec2 f1 = texelFetch(textureSampler, coord % size, 0).rg;\r\n                vec2 f2 = texelFetch(textureSampler, (coord + ivec2(1, 0)) % size, 0).rg;\r\n                vec2 f3 = texelFetch(textureSampler, (coord + ivec2(1, 1)) % size, 0).rg;\r\n                vec2 f4 = texelFetch(textureSampler, (coord + ivec2(0, 1)) % size, 0).rg;\r\n\r\n                float minz = min(f1.x, f2.x);\r\n                float maxz = max(f1.y, f2.y);\r\n\r\n                glFragColor = vec2(minz, maxz);\r\n            }\r\n        `;\r\n\r\n        //\r\n        Effect.ShadersStore.depthReductionLastFragmentShader = `\r\n            #version 300 es\r\n            precision highp float;\r\n            precision highp int;\r\n\r\n            in vec2 vUV;\r\n\r\n            uniform sampler2D textureSampler;\r\n\r\n            out vec2 glFragColor;\r\n\r\n            void main(void)\r\n            {\r\n                vec2 f1 = texelFetch(textureSampler, ivec2(0), 0).rg;\r\n\r\n                glFragColor = f1;\r\n            }\r\n        `;\r\n\r\n        //var imagePass = new PassPostProcess(\"imagePass\", 1.0, null, Texture.NEAREST_SAMPLINGMODE, this._engine);\r\n\r\n        var depthReductionPhases: PostProcess[] = [];\r\n\r\n        // phase 0\r\n        var depthReductionInitial = new (PostProcess as any)(\r\n            'Initial depth reduction phase',\r\n            'depthReductionInitial',  // shader\r\n            null,\r\n            ['depthTexture'], // textures\r\n            1.0,  // options\r\n            null, // camera\r\n            Constants.TEXTURE_NEAREST_NEAREST, // sampling\r\n            this._engine, // engine\r\n            false, // reusable\r\n            undefined, // defines\r\n            Constants.TEXTURETYPE_HALF_FLOAT,\r\n            undefined,\r\n            undefined,\r\n            undefined,\r\n            Constants.TEXTUREFORMAT_RG,\r\n        );\r\n\r\n        depthReductionInitial.autoClear = false;\r\n        depthReductionInitial.forceFullscreenViewport = false;\r\n\r\n        depthReductionInitial.onApply = (effect: Effect) => {\r\n            effect.setTexture('depthTexture', depthMap);\r\n        };\r\n\r\n        depthReductionPhases.push(depthReductionInitial);\r\n\r\n        let w = depthMap.getSize().width, h = depthMap.getSize().height;\r\n        let index = 1;\r\n        let depthReduction: PostProcess;\r\n\r\n        while (w > 1 || h > 1) {\r\n            w = Math.max(Math.round(w / 2), 1);\r\n            h = Math.max(Math.round(h / 2), 1);\r\n\r\n            console.log(w, h);\r\n\r\n            depthReduction = new (PostProcess as any)(\r\n                'Depth reduction phase ' + index,\r\n                (w == 1 && h == 1) ? 'depthReductionLast' : (w == 1 || h == 1) ? 'depthReductionALast' : 'depthReduction',  // shader\r\n                null, // attributes\r\n                null,\r\n                { width: w, height: h },  // options\r\n                null, // camera\r\n                Constants.TEXTURE_NEAREST_NEAREST, // sampling\r\n                this._engine, // engine\r\n                false, // reusable\r\n                undefined, // defines\r\n                Constants.TEXTURETYPE_HALF_FLOAT,\r\n                undefined,\r\n                undefined,\r\n                undefined,\r\n                Constants.TEXTUREFORMAT_RG,\r\n            );\r\n\r\n            depthReduction.autoClear = false;\r\n            depthReduction.forceFullscreenViewport = false;\r\n\r\n            depthReductionPhases.push(depthReduction);\r\n\r\n            index++;\r\n\r\n            if ((w == 1 && h == 1) || (w == 2 && h == 1)/* || (w == 6 && h == 3)*/) {\r\n                let func = (w: number, h: number, depthReduction: PostProcess) => {\r\n                    let first0 = true;\r\n                    let buffer0 = new Float32Array(4 * w * h);\r\n                    return () => {\r\n                        if (first0) {\r\n                            let texture = depthReduction.inputTexture;\r\n                            this._readTexturePixels(scene.getEngine(), texture, w, h, -1, 0, buffer0);\r\n                            if ((buffer0[0] != 0 && buffer0[0] != 1) || buffer0[1] != 0) {\r\n                                first0 = false;\r\n                                console.log('w = ' + w + ', h = ' + h, buffer0);\r\n                            }\r\n                        }\r\n                    };\r\n                };\r\n                depthReduction.onAfterRenderObservable.add(func(w, h, depthReduction));\r\n\r\n            }\r\n        }\r\n\r\n        /*var imagePass = new (PassPostProcess as any)(\r\n            \"imagePass\",\r\n            { width: w, height: h },\r\n            null,\r\n            Constants.TEXTURE_NEAREST_NEAREST,\r\n            this._engine,\r\n            false,\r\n            Constants.TEXTURETYPE_HALF_FLOAT,\r\n            undefined,\r\n            Constants.TEXTUREFORMAT_RG,\r\n        );\r\n\r\n        imagePass.autoClear = false;\r\n        imagePass.forceFullscreenViewport = false;\r\n\r\n        depthReductionPhases.push(imagePass);\r\n\r\n        imagePass.onApply = (effect: Effect) => {\r\n            effect.setTextureFromPostProcess('textureSampler', depthReductionPhases[1]);\r\n        };*/\r\n\r\n        // the render pipeline\r\n        /*var pipeline = new PostProcessRenderPipeline(this._engine, 'pipeline');\r\n        var renderPasses = new PostProcessRenderEffect(\r\n            this._engine, 'renderPasses', function() { return depthReductionPhases; });\r\n\r\n        pipeline.addEffect(renderPasses);\r\n        scene.postProcessRenderPipelineManager.addPipeline(pipeline);\r\n        scene.postProcessRenderPipelineManager.attachCamerasToRenderPipeline('pipeline', camera);*/\r\n\r\n        let postProcessManager = new PostProcessManager(scene);\r\n\r\n        scene.onBeforeDrawPhaseObservable.add(() => {\r\n            //postProcessManager._prepareFrame(depthMap.getInternalTexture(), depthReductionPhases);\r\n            depthReductionPhases[0].activate(camera, depthMap.getInternalTexture());\r\n\r\n            postProcessManager.directRender(depthReductionPhases, depthReductionPhases[0].inputTexture, false);\r\n\r\n            this._engine.unBindFramebuffer(depthReductionPhases[0].inputTexture, false);\r\n        });\r\n\r\n        var buffer = new Float32Array(4 * depthMap.getSize().width * depthMap.getSize().height);\r\n\r\n        let first = true;\r\n\r\n        scene.onBeforeRenderObservable.add(() => {\r\n            if (this._skyBox) {\r\n                this._skyBox.position.copyFrom(camera.position);\r\n            }\r\n        });\r\n\r\n        scene.onAfterRenderObservable.add(() => {\r\n\r\n            if (first) {\r\n                this._readTexturePixels(scene.getEngine(), depthMap._texture!, depthMap.getSize().width, depthMap.getSize().height, -1, 0, buffer);\r\n                first = false;\r\n                console.log('calc min max', this.calcMinMax(buffer));\r\n                console.log(buffer);\r\n            }\r\n\r\n        });\r\n\r\n        return Promise.resolve(0);\r\n    }\r\n\r\n    public _readTexturePixels(engine: Engine, texture: InternalTexture, width: number, height: number, faceIndex = -1, level = 0, buffer: Nullable<ArrayBufferView> = null): ArrayBufferView {\r\n        let gl = engine._gl;\r\n        if (!this._dummyFramebuffer) {\r\n            let dummy = gl.createFramebuffer();\r\n\r\n            if (!dummy) {\r\n                throw new Error(\"Unable to create dummy framebuffer\");\r\n            }\r\n\r\n            this._dummyFramebuffer = dummy;\r\n        }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this._dummyFramebuffer);\r\n\r\n        if (faceIndex > -1) {\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex, texture._webGLTexture, level);\r\n        } else {\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture._webGLTexture, level);\r\n        }\r\n\r\n        let readType = (texture.type !== undefined) ? engine._getWebGLTextureType(texture.type) : gl.UNSIGNED_BYTE;\r\n\r\n        switch (readType) {\r\n            case gl.UNSIGNED_BYTE:\r\n                if (!buffer) {\r\n                    buffer = new Uint8Array(4 * width * height);\r\n                }\r\n                readType = gl.UNSIGNED_BYTE;\r\n                break;\r\n            default:\r\n                if (!buffer) {\r\n                    buffer = new Float32Array(4 * width * height);\r\n                }\r\n                readType = gl.FLOAT;\r\n                break;\r\n        }\r\n\r\n        gl.readPixels(0, 0, width, height, gl.RGBA, readType, <DataView>buffer);\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, (engine as any)._currentFramebuffer);\r\n\r\n        return buffer;\r\n    }\r\n\r\n    protected calcMinMax(buffer: Float32Array): [number, number] {\r\n        let min = 1, max = 0;\r\n\r\n        for (let i = 0; i < buffer.length; i += 4) {\r\n            let f = buffer[i];\r\n\r\n            if (f < min) {\r\n                min = f;\r\n            }\r\n            if (f > max && f < 1.0) {\r\n                max = f;\r\n            }\r\n        }\r\n\r\n        return [min, max];\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"depthminmax\", {\r\n    \"displayName\": \"Calculate depth min and max in scene zbuffer\",\r\n    \"description\": \"\",\r\n    \"class\": DepthMinMax,\r\n});\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    HemisphericLight,\r\n    StandardMaterial,\r\n    MeshBuilder,\r\n    Effect,\r\n    ShaderMaterial,\r\n    Color4,\r\n    PointLight,\r\n    Color3,\r\n    Mesh,\r\n    Engine,\r\n    DynamicTexture,\r\n    AbstractMesh,\r\n    Material,\r\n} from \"babylonjs\";\r\n\r\nimport * as GUI from \"babylonjs-gui\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\nexport default class DrawEdges extends SampleBasic {\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position.x = 0;\r\n        camera.position.y = 5;\r\n        camera.position.z = -10;\r\n\r\n        camera.setTarget(Vector3.Zero());\r\n\r\n        scene.clearColor = new Color4(0.54, 0.74, 1., 1);\r\n\r\n        var light = new HemisphericLight(\"light1\", new Vector3(0, 1, 0), scene);\r\n        light.intensity = 0.7;\r\n        var pl = new PointLight(\"pl\", Vector3.Zero(), scene);\r\n        pl.diffuse = new Color3(1, 1, 1);\r\n        pl.specular = new Color3(1, 1, 1);\r\n        pl.intensity = 0.8;\r\n\r\n        // GUI\r\n        var advancedTexture = GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"ui1\");\r\n\r\n        var createLabel = function(mesh: AbstractMesh) {\r\n            var label = new GUI.Rectangle(\"label for \" + mesh.name);\r\n            label.height = \"30px\";\r\n            label.alpha = 0.5;\r\n            label.width = \"100px\";\r\n            label.linkOffsetY = 30;\r\n            advancedTexture.addControl(label);\r\n            label.linkWithMesh(mesh);\r\n\r\n            var text1 = new GUI.TextBlock();\r\n            text1.text = mesh.name;\r\n            text1.color = \"black\";\r\n            label.addControl(text1);\r\n\r\n            return label;\r\n        };\r\n\r\n        const whiteMaterials = true;\r\n\r\n        Effect.ShadersStore[\"customVertexShader\"] = `\r\n            precision highp float;\r\n            // Attributes\r\n            attribute vec3 position;\r\n            // Uniforms\r\n            uniform mat4 worldViewProjection;\r\n            uniform mat4 world;\r\n            // Varying\r\n            varying vec4 wpos;\r\n            void main(void) {\r\n                vec4 q = vec4(position, 1.0);\r\n                wpos = world * q;\r\n                gl_Position = worldViewProjection * q;\r\n            }`;\r\n\r\n        Effect.ShadersStore[\"customFragmentShader\"] = `\r\n            precision highp float;\r\n            uniform vec3 lineColor;\r\n            varying vec4 wpos;\r\n            void main(void) {\r\n                vec4 col = vec4(lineColor, 1.);\r\n                float sum = wpos.x + wpos.y + wpos.z;\r\n                if (mod(sum, .33) < 0.12) discard;\r\n                gl_FragColor = vec4(col.xyz, 0.3);\r\n            }`;\r\n\r\n        // define material\r\n        const lineMaterial1 = new StandardMaterial(\"lineMaterial_1\", scene);\r\n        lineMaterial1.emissiveColor = whiteMaterials ? new Color3(0, 0, 0) : new Color3(1, 1, 1);\r\n        lineMaterial1.disableLighting = true;\r\n\r\n        var lineMaterial1_hidden = new ShaderMaterial(\"shader\", scene, {\r\n            vertex: \"custom\",\r\n            fragment: \"custom\",\r\n            },\r\n            {\r\n                attributes: [\"position\"],\r\n                uniforms: [\"world\", \"worldViewProjection\", \"lineColor\"],\r\n                needAlphaBlending: true\r\n            });\r\n\r\n        lineMaterial1_hidden.setColor3(\"lineColor\", lineMaterial1.emissiveColor);\r\n        lineMaterial1_hidden.depthFunction = Engine.ALWAYS;\r\n\r\n        const lineMaterial2 = new StandardMaterial(\"lineMaterial_2\", scene);\r\n        lineMaterial2.diffuseColor = new Color3(1, 0, 0);\r\n\r\n        const materialX = new StandardMaterial(\"materialX\", scene);\r\n        materialX.diffuseColor = whiteMaterials ? new Color3(1, 1, 1) : new Color3(0, 0, 1);\r\n        if (whiteMaterials) {\r\n            materialX.emissiveColor = materialX.diffuseColor;\r\n            materialX.disableLighting = true;\r\n        }\r\n        // materialX.alpha = 0.2;\r\n\r\n        const materialZ = new StandardMaterial(\"materialZ\", scene);\r\n        materialZ.diffuseColor = whiteMaterials ? new Color3(1, 1, 1) : new Color3(0, 1, 0);\r\n        if (whiteMaterials) {\r\n            materialZ.emissiveColor = materialZ.diffuseColor;\r\n            materialZ.disableLighting = true;\r\n        }\r\n        // materialZ.alpha = 0.2;\r\n\r\n        const materialY = new StandardMaterial(\"materialY\", scene);\r\n        materialY.diffuseColor = whiteMaterials ? new Color3(1, 1, 1) : new Color3(1, 0, 0);\r\n        if (whiteMaterials) {\r\n            materialY.emissiveColor = materialY.diffuseColor;\r\n            materialY.disableLighting = true;\r\n        }\r\n        // materialY.alpha = 0.2;\r\n\r\n        // create a line\r\n        const createLine = (id: string, position: Vector3, length: number, direction: string, radius: number, mat?: Material) => {\r\n            if (!radius) { radius = 0.005; }\r\n            if (!mat) { mat = lineMaterial1; }\r\n            const points = direction === 'y'\r\n            ? [new Vector3(0, -length / 2, 0), new Vector3(0, length / 2, 0)]\r\n            : direction === 'x'\r\n                ? [new Vector3(-length / 2, 0, 0), new Vector3(length / 2, 0, 0)]\r\n                : [new Vector3(0, 0, -length / 2), new Vector3(0, 0, length / 2)];\r\n\r\n            const shape = MeshBuilder.CreateTube(id, {path: points, radius: radius, sideOrientation: Mesh.DOUBLESIDE}, scene);\r\n            shape.position = position;\r\n            shape.material = mat;\r\n            shape.renderingGroupId = 0;\r\n            return shape;\r\n        };\r\n\r\n        // distance from center of the shape to camera\r\n        const distance = (mesh: AbstractMesh) => {\r\n            const camPos = camera.position;\r\n            const meshPos = mesh.position;\r\n            const pow = Math.pow(meshPos.x - camPos.x, 2) + Math.pow(meshPos.y - camPos.y, 2) + Math.pow(meshPos.z - camPos.z, 2);\r\n            return Math.sqrt(pow);\r\n        };\r\n\r\n        const planes: any = {};\r\n        let counter = 0;\r\n        const markers: any = {};\r\n\r\n        // points should be in counter clockwise order\r\n        const CreatePlanes = (points: Array<Vector3>, y: number) => {\r\n            planes[`horizontal${counter}`] = MeshBuilder\r\n                .CreatePolygon(`horizontal${counter}`, {shape: points, sideOrientation: Mesh.DOUBLESIDE }, scene);\r\n            planes[`horizontal${counter}`].position.y = y;\r\n            planes[`horizontal${counter}`].material = materialY;\r\n            counter++;\r\n        };\r\n\r\n        const CreateMarkers = (points: Array<Vector3>) => {\r\n            points.forEach((p, i) => {\r\n                markers[`marker_${i}`] = Mesh.CreateSphere(`marker_${i}`, 32, 0.2, scene);\r\n                markers[`marker_${i}`].position = new Vector3(p.x, p.y, p.z);\r\n                markers[`marker_${i}`].material = lineMaterial2;\r\n            });\r\n        };\r\n\r\n        const a = 1.5;\r\n        const lineLength = 3;\r\n        const b = lineLength / 2;\r\n\r\n        const data = [\r\n            // top\r\n            { points: [0, a, b], length: lineLength, direction: 'x' },\r\n            { points: [-b, a, 0], length: lineLength, direction: 'z' },\r\n            { points: [0, a, -b], length: lineLength, direction: 'x' },\r\n            { points: [b, a, -b +  lineLength / 6], length: lineLength / 3, direction: 'z' },\r\n            { points: [lineLength / 3, a, -b + (lineLength / 3)], length: lineLength / 3, direction: 'x' },\r\n            { points: [b - lineLength / 3, a, 0], length: lineLength / 3, direction: 'z' },\r\n            { points: [lineLength / 3, a, b - lineLength / 3], length: lineLength / 3, direction: 'x' },\r\n            { points: [b, a, b - lineLength / 6], length: lineLength / 3, direction: 'z' },\r\n            // bottom\r\n            { points: [0, -a, b], length: lineLength, direction: 'x' },\r\n            { points: [-b, -a, 0], length: lineLength, direction: 'z' },\r\n            { points: [0, -a, -b], length: lineLength, direction: 'x' },\r\n            { points: [b, -a, -b +  lineLength / 6], length: lineLength / 3, direction: 'z' },\r\n            { points: [lineLength / 3, -a, -b + (lineLength / 3)], length: lineLength / 3, direction: 'x' },\r\n            { points: [b - lineLength / 3, -a, 0], length: lineLength / 3, direction: 'z' },\r\n            { points: [lineLength / 3, -a, b - lineLength / 3], length: lineLength / 3, direction: 'x' },\r\n            { points: [b, -a, b - lineLength / 6], length: lineLength / 3, direction: 'z' },\r\n            // pillars\r\n            { points: [b, 0, b], length: lineLength, direction: 'y' },\r\n            { points: [-b, 0, b], length: lineLength, direction: 'y' },\r\n            { points: [-b, 0, -b], length: lineLength, direction: 'y' },\r\n            { points: [b, 0, -b], length: lineLength, direction: 'y' },\r\n            { points: [b, 0, -b + lineLength / 3], length: lineLength, direction: 'y' },\r\n            { points: [b - lineLength / 3, 0, -b + lineLength / 3], length: lineLength, direction: 'y' },\r\n            { points: [b - lineLength / 3, 0, b - lineLength / 3], length: lineLength, direction: 'y' },\r\n            { points: [b, 0, b - lineLength / 3], length: lineLength, direction: 'y' }\r\n        ];\r\n\r\n        const genHorizontalFaces = () => {\r\n            // unique y values\r\n            const uniqueValues = [...new Set(data.map((x) => x.points[1]))];\r\n            uniqueValues.forEach((plane) => {\r\n                const f = data.filter((d) => d.points[1] === plane);\r\n                let face: Array<Vector3> = [];\r\n                f.forEach((p) => {\r\n                    if (p.direction === 'z') {\r\n                        face.push(new Vector3(p.points[0], p.points[1], p.points[2] + p.length / 2));\r\n                        face.push(new Vector3(p.points[0], p.points[1], p.points[2] - p.length / 2));\r\n                    }\r\n                    if (p.direction === 'x') {\r\n                        face.push(new Vector3(p.points[0] + p.length / 2, p.points[1], p.points[2]));\r\n                        face.push(new Vector3(p.points[0] - p.length / 2, p.points[1], p.points[2]));\r\n                    }\r\n                });\r\n                // remove duplicates\r\n                const dedup = face.filter((v, i, a) => a.findIndex((t) => (t.x === v.x && t.y === v.y && t.z === v.z)) === i);\r\n                if (dedup.length) {\r\n                    //CreateMarkers(dedup);\r\n                    CreatePlanes(dedup, plane);\r\n                }\r\n            });\r\n        };\r\n\r\n        const genVerticalFacesX = () => {\r\n            // unique y values\r\n            const uniqueValues = [...new Set(data.map((x) => x.points[2]))];\r\n            uniqueValues.forEach((plane) => {\r\n                const f1 = data.filter((d) => d.points[2] === plane && d.direction === 'x');\r\n                if (f1.length) {\r\n                    const unique = [...new Set(f1.map((x) => x.points[2]))];\r\n                    unique.forEach((x) => {\r\n                        const f = f1.filter((d) => d.points[2] === x);\r\n                        const height = f[0].points[1] - f[1].points[1];\r\n                        const yStart = Math.min(f[0].points[1], f[1].points[1]);\r\n                        planes[`verticalX${counter}`] = MeshBuilder\r\n                            .CreateBox(`verticalX${counter}`, {height, width: f[0].length, depth: 0.001}, scene);\r\n                        planes[`verticalX${counter}`].position =  new Vector3(f[0].points[0], 0, f[0].points[2]);\r\n                        planes[`verticalX${counter}`].material = materialX;\r\n                        counter++;\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        const genVerticalFacesZ = () => {\r\n            // unique y values\r\n            const uniqueValues = [...new Set(data.map((x) => x.points[2]))];\r\n            uniqueValues.forEach((plane) => {\r\n                const f1 = data.filter((d) => d.points[2] === plane && d.direction === 'z');\r\n                if (f1.length) {\r\n                    const unique = [...new Set(f1.map((x) => x.points[0]))];\r\n                    unique.forEach((z) => {\r\n                        const f = f1.filter((d) => d.points[0] === z);\r\n                        const height = f[0].points[1] - f[1].points[1];\r\n                        const yStart = Math.min(f[0].points[1], f[1].points[1]);\r\n                        planes[`verticalZ${counter}`] = MeshBuilder\r\n                            .CreateBox(`verticalZ${counter}`, {height, depth: f[0].length, width: 0.001}, scene);\r\n                        planes[`verticalZ${counter}`].position =  new Vector3(f[0].points[0], 0, f[0].points[2]);\r\n                        planes[`verticalZ${counter}`].material = materialZ;\r\n                        counter++;\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        const genMarkers = () => {\r\n            // unique y values\r\n            const uniqueValues = [...new Set(data.map((x) => x.points[1]))];\r\n            uniqueValues.forEach((plane) => {\r\n                const f = data.filter((d) => d.points[1] === plane);\r\n                let face: Array<Vector3> = [];\r\n                f.forEach((p) => {\r\n                    if (p.direction === 'z') {\r\n                        face.push(new Vector3(p.points[0], p.points[1], p.points[2] + p.length / 2));\r\n                        face.push(new Vector3(p.points[0], p.points[1], p.points[2] - p.length / 2));\r\n                    }\r\n                    if (p.direction === 'x') {\r\n                        face.push(new Vector3(p.points[0] + p.length / 2, p.points[1], p.points[2]));\r\n                        face.push(new Vector3(p.points[0] - p.length / 2, p.points[1], p.points[2]));\r\n                    }\r\n                });\r\n                // remove duplicates\r\n                const dedup = face.filter((v, i, a) => a.findIndex((t) => (t.x === v.x && t.y === v.y && t.z === v.z)) === i);\r\n                if (dedup.length) {\r\n                    CreateMarkers(dedup);\r\n                }\r\n            });\r\n        };\r\n\r\n        // comment these 3 functions to hide planes\r\n        genHorizontalFaces();\r\n        genVerticalFacesX();\r\n        genVerticalFacesZ();\r\n\r\n        const lines: any = {};\r\n        data.forEach((d, i) => {\r\n            const p = d.points;\r\n            lines[`line_${i}`] = createLine(`line_${i}`, new Vector3(p[0], p[1], p[2]) , d.length, d.direction, 0.03);\r\n        });\r\n\r\n        data.forEach((d, i) => {\r\n            const p = d.points;\r\n            const meshl = createLine(`line2_${i}`, new Vector3(p[0], p[1], p[2]) , d.length, d.direction, 0.005, lineMaterial1_hidden);\r\n        });\r\n\r\n        genMarkers();\r\n\r\n        function showWorldAxis(size: number) {\r\n            var makeTextPlane = function(text: string, color: string, size: number) {\r\n                var dynamicTexture = new DynamicTexture(\"DynamicTexture\", 50, scene, true);\r\n                dynamicTexture.hasAlpha = true;\r\n                dynamicTexture.drawText(text, 5, 40, \"bold 36px Arial\", color , \"transparent\", true);\r\n                var plane = Mesh.CreatePlane(\"TextPlane\", size, scene, true);\r\n                plane.material = new StandardMaterial(\"TextPlaneMaterial\", scene);\r\n                plane.material.backFaceCulling = false;\r\n                (plane.material as StandardMaterial).specularColor = new Color3(0, 0, 0);\r\n                (plane.material as StandardMaterial).diffuseTexture = dynamicTexture;\r\n            return plane;\r\n            };\r\n            var axisX = Mesh.CreateLines(\"axisX\", [\r\n            Vector3.Zero(), new Vector3(size, 0, 0), new Vector3(size * 0.95, 0.05 * size, 0),\r\n            new Vector3(size, 0, 0), new Vector3(size * 0.95, -0.05 * size, 0)\r\n            ], scene);\r\n            axisX.color = new Color3(1, 0, 0);\r\n            var xChar = makeTextPlane(\"X\", \"red\", size / 10);\r\n            xChar.position = new Vector3(0.9 * size, -0.05 * size, 0);\r\n            var axisY = Mesh.CreateLines(\"axisY\", [\r\n                Vector3.Zero(), new Vector3(0, size, 0), new Vector3(-0.05 * size, size * 0.95, 0),\r\n                new Vector3(0, size, 0), new Vector3(0.05 * size, size * 0.95, 0)\r\n                ], scene);\r\n            axisY.color = new Color3(0, 1, 0);\r\n            var yChar = makeTextPlane(\"Y\", \"green\", size / 10);\r\n            yChar.position = new Vector3(0, 0.9 * size, -0.05 * size);\r\n            var axisZ = Mesh.CreateLines(\"axisZ\", [\r\n                Vector3.Zero(), new Vector3(0, 0, size), new Vector3(0 , -0.05 * size, size * 0.95),\r\n                new Vector3(0, 0, size), new Vector3(0, 0.05 * size, size * 0.95)\r\n                ], scene);\r\n            axisZ.color = new Color3(0, 0, 1);\r\n            var zChar = makeTextPlane(\"Z\", \"blue\", size / 10);\r\n            zChar.position = new Vector3(0, 0.05 * size, 0.9 * size);\r\n        }\r\n\r\n        showWorldAxis(1);\r\n\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"drawedges\", {\r\n    \"displayName\": \"Create a Render Target Texture and use it in a post process pass\",\r\n    \"description\": \"\",\r\n    \"class\": DrawEdges,\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport {\r\n    Container,\r\n    Icon,\r\n    IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemSecondaryAction,\r\n    ListItemText,\r\n    Slider,\r\n    Typography,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    createMuiTheme,\r\n    makeStyles,\r\n    ThemeProvider,\r\n    withStyles,\r\n} from '@material-ui/core/styles';\r\n\r\nimport { yellow } from '@material-ui/core/colors';\r\n\r\nimport Draggable, { DraggableData, DraggableEvent } from 'react-draggable';\r\nimport { Resizable, ResizeDirection, NumberSize } from 're-resizable';\r\n\r\nimport {\r\n    Engine\r\n} from \"babylonjs\";\r\n\r\nexport interface IDimensions {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    minWidth: number;\r\n    minHeight: number;\r\n}\r\n\r\nexport enum enumDefaultPosition {\r\n    TOP_LEFT,\r\n    TOP_RIGHT,\r\n}\r\n\r\nexport const PrettoSlider = withStyles({\r\n    root: {\r\n      color: '#52af77',\r\n      height: 8,\r\n      width: '90%',\r\n      padding: 0,\r\n    },\r\n    thumb: {\r\n      height: 16,\r\n      width: 16,\r\n      backgroundColor: '#fff',\r\n      border: '2px solid currentColor',\r\n      marginTop: -6,\r\n      marginLeft: -2,\r\n      '&:focus,&:hover,&$active': {\r\n        boxShadow: 'inherit',\r\n      },\r\n      '&.Mui-disabled': {\r\n        width: 12,\r\n        height: 12,\r\n        marginTop: -4,\r\n      },\r\n    },\r\n    active: {},\r\n    valueLabel: {\r\n      left: 'calc(-50% - 4px)',\r\n    },\r\n    track: {\r\n      height: 6,\r\n      borderRadius: 4,\r\n    },\r\n    rail: {\r\n      height: 6,\r\n      borderRadius: 4,\r\n    },\r\n})(Slider);\r\n\r\nexport default class GUI {\r\n\r\n    public dimensions: IDimensions;\r\n    public zIndex: number;\r\n\r\n    protected _name:            string;\r\n    protected _engine:          Engine;\r\n    protected _showCloseButton: boolean;\r\n    protected _guiElemCont:     HTMLElement;\r\n    protected _defaultPos:      enumDefaultPosition;\r\n    protected _useStyles:       any;\r\n\r\n    constructor(name: string, engine: Engine) {\r\n        this._name = name;\r\n        this._engine = engine;\r\n        this._showCloseButton = true;\r\n\r\n        this.dimensions = {\r\n            x: 0,\r\n            y: 0,\r\n            width: 300,\r\n            height: 400,\r\n            minWidth: 100,\r\n            minHeight: 50,\r\n        };\r\n\r\n        this._guiElemCont = null as any;\r\n        this._defaultPos = enumDefaultPosition.TOP_RIGHT;\r\n        this.zIndex = 20;\r\n\r\n        this._useStyles = makeStyles((theme) => ({\r\n            propertyTitle: {\r\n              padding: '4px 0px 4px 8px',\r\n              textAlign: 'left',\r\n              color: 'white',\r\n              whiteSpace: 'nowrap',\r\n              marginBottom: theme.spacing(0),\r\n              textShadow: '1px 1px black',\r\n            },\r\n            propertyValue: {\r\n                padding: '4px 4px 4px 4px',\r\n                textAlign: 'left',\r\n                color: '#00ff00',\r\n                whiteSpace: 'nowrap',\r\n                marginBottom: theme.spacing(0),\r\n                backgroundColor: '#1565c060',\r\n                textShadow: 'none',\r\n            },\r\n            subPropertyTitle: {\r\n                padding: '4px 2px 4px 4px',\r\n                marginLeft: \"-12px\",\r\n                textAlign: 'left',\r\n                color: 'white',\r\n                whiteSpace: 'nowrap',\r\n                marginBottom: theme.spacing(0),\r\n                textShadow: '1px 1px black',\r\n            },\r\n        }));\r\n    }\r\n\r\n    public get showCloseButton(): boolean {\r\n        return this._showCloseButton;\r\n    }\r\n\r\n    public set showCloseButton(s: boolean) {\r\n        this._showCloseButton = s;\r\n    }\r\n\r\n    public get defaultPosition(): enumDefaultPosition {\r\n        return this._defaultPos;\r\n    }\r\n\r\n    public set defaultPosition(d: enumDefaultPosition) {\r\n        this._defaultPos = d;\r\n    }\r\n\r\n    protected createGUITheme() {\r\n        let theme = createMuiTheme({});\r\n        theme = {\r\n            ...theme,\r\n            overrides: {\r\n                MuiButton: {\r\n                },\r\n                MuiContainer: {\r\n                    fixed: {\r\n                        padding: '0',\r\n                        backgroundColor: '#e0e0e080',\r\n                        border: '1px solid white',\r\n                        color: 'white',\r\n                        height: '100%',\r\n                        overflowX: 'hidden',\r\n                        overflowY: 'auto',\r\n                    },\r\n                    maxWidthLg: {\r\n                        [theme.breakpoints.up(\"lg\")]: {\r\n                            maxWidth: 'inherit'\r\n                        },\r\n                    }\r\n                },\r\n                MuiExpansionPanel: {\r\n                    root: {\r\n                        '&$expanded': {\r\n                            margin: '0',\r\n                        }\r\n                    },\r\n                },\r\n                MuiExpansionPanelSummary: {\r\n                    root: {\r\n                        padding: '0 6px 0 4px',\r\n                        color: yellow[300],\r\n                        backgroundColor: '#40C0FF60',\r\n                        minHeight: 'inherit',\r\n                        textShadow: '1px 1px black',\r\n                        '&$expanded': {\r\n                            minHeight: 'inherit',\r\n                        }\r\n                    },\r\n                    expandIcon: {\r\n                        padding: '2px 8px 2px 0px',\r\n                        '&$expanded': {\r\n                            padding: '2px 0 2px 8px',\r\n                        }\r\n                    },\r\n                    content: {\r\n                        margin: 'inherit',\r\n                        '&$expanded': {\r\n                            margin: 'inherit',\r\n                        }\r\n                    },\r\n                },\r\n                MuiFilledInput: {\r\n                    input: {\r\n                        padding: \"0\",\r\n                    },\r\n                    underline: {\r\n                        '&:before': {\r\n                            borderBottom: '0px solid black',\r\n                        },\r\n                    },\r\n                },\r\n                MuiFormControl: {\r\n                    root: {\r\n                        width: \"100%\",\r\n                    },\r\n                },\r\n                MuiGrid: {\r\n                    \"spacing-xs-1\": {\r\n                        \"& > .MuiGrid-item\": {\r\n                            padding: \"1px\",\r\n                        },\r\n                    },\r\n                },\r\n                MuiIcon: {\r\n                    root: {\r\n                        'color': 'white',\r\n                    }\r\n                },\r\n                MuiInput: {\r\n                    underline: {\r\n                        \"&:before\": {\r\n                            borderBottom: \"0px solid black\",\r\n                        },\r\n                    },\r\n                },\r\n                MuiInputBase: {\r\n                    input: {\r\n                        padding: '0',\r\n                        color: '#00ff00',\r\n                    },\r\n                },\r\n                MuiListItem: {\r\n                    root: {\r\n                        textAlign: 'center',\r\n                        paddingTop: '0',\r\n                    },\r\n                },\r\n                MuiMenu: {\r\n                    paper: {\r\n                        backgroundColor: \"white\",\r\n                    },\r\n                },\r\n                MuiPaper: {\r\n                    root: {\r\n                        backgroundColor: 'transparent',\r\n                    },\r\n                },\r\n                MuiSelect: {\r\n                    icon: {\r\n                        color: \"white\",\r\n                    },\r\n                },\r\n                MuiSwitch: {\r\n                    colorSecondary: {\r\n                        \"&$checked\": {\r\n                            color: \"#69f0ae\",\r\n                            \"& + .MuiSwitch-track\": {\r\n                                backgroundColor: \"#69f0ae\",\r\n                            },\r\n                        },\r\n                    },\r\n                    root: {\r\n                        width: \"48px\",\r\n                        height: \"20px\",\r\n                        padding: \"0\",\r\n                    },\r\n                    switchBase: {\r\n                        paddingTop: \"4px\",\r\n                        height: \"12px\",\r\n                    },\r\n                    thumb: {\r\n                        width: '14px',\r\n                        height: '14px',\r\n                    },\r\n                },\r\n            },\r\n\r\n            props: {\r\n            }\r\n        };\r\n\r\n        return theme;\r\n    }\r\n\r\n    protected canClose(): boolean {\r\n        return true;\r\n    }\r\n\r\n    protected closed(): void {\r\n    }\r\n\r\n    public getBounds(): { x: number, y: number, w: number, h: number } {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            w: this._engine.getRenderWidth(),\r\n            h: this._engine.getRenderHeight() - 20\r\n        };\r\n    }\r\n\r\n    protected handleEvent(event: Event): boolean {\r\n        return true;\r\n    }\r\n\r\n    public createGUI(): void {\r\n        const theme = this.createGUITheme();\r\n\r\n        const GUI = () => {\r\n            const [disableCloseButton, setDisableCloseButton] = React.useState(!this.canClose());\r\n            const [bounds, setBounds] = React.useState({left: 0, top: 0, right: this._engine.getRenderWidth() - this.dimensions.width, bottom: this._engine.getRenderHeight() - 20 });\r\n            const [position, setPosition] = React.useState(() => {\r\n                let pos = { x: 2, y: 2 };\r\n\r\n                if (this.defaultPosition == enumDefaultPosition.TOP_RIGHT) {\r\n                    pos.x = Math.max(bounds.right - 2, bounds.left);\r\n                }\r\n\r\n                return  pos;\r\n            });\r\n            const [maxSizes, setMaxSizes] = React.useState({ maxWidth: this._engine.getRenderWidth(), maxHeight: this._engine.getRenderHeight() });\r\n            const [size, setSize] = React.useState({ width: this.dimensions.width, height: this.dimensions.height });\r\n\r\n            const onStopDrag = (e: DraggableEvent, data: DraggableData): void | false => {\r\n                this.dimensions.x = data.x;\r\n                this.dimensions.y = data.y;\r\n                setPosition({ x: this.dimensions.x, y: this.dimensions.y });\r\n                updateMaxSizes();\r\n            };\r\n\r\n            const updateBounds = (setGUIPosition: boolean = true) => {\r\n                const sbounds = this.getBounds();\r\n                setBounds({\r\n                    left: sbounds.x,\r\n                    top: sbounds.y,\r\n                    right: sbounds.x + sbounds.w - this.dimensions.width,\r\n                    bottom: sbounds.y + sbounds.h - 20\r\n                });\r\n                if (setGUIPosition) {\r\n                    this.dimensions.x = this.defaultPosition == enumDefaultPosition.TOP_RIGHT ? Math.max(sbounds.x + sbounds.w - this.dimensions.width - 2, 0) : 2;\r\n                    this.dimensions.y = 2;\r\n                    setPosition({ x: this.dimensions.x, y: this.dimensions.y });\r\n                }\r\n            };\r\n\r\n            const updateMaxSizes = () => {\r\n                const sbounds = this.getBounds();\r\n                setMaxSizes({\r\n                    maxWidth:  Math.max(sbounds.x + sbounds.w - this.dimensions.x, 0),\r\n                    maxHeight: Math.max(sbounds.y + sbounds.h - this.dimensions.y, 0)\r\n                });\r\n            };\r\n\r\n            const onStopResize = (event: MouseEvent | TouchEvent, direction: ResizeDirection, refToElement: HTMLDivElement, delta: NumberSize) => {\r\n                this.dimensions.width += delta.width;\r\n                this.dimensions.height += delta.height;\r\n                setSize({ width: this.dimensions.width, height: this.dimensions.height });\r\n                updateMaxSizes();\r\n                updateBounds(false);\r\n            };\r\n\r\n            const onResizeWindow = (event: Event) => {\r\n                const updatePosition = this.handleEvent(event);\r\n                updateMaxSizes();\r\n                updateBounds(updatePosition);\r\n            };\r\n\r\n            React.useEffect(() => {\r\n                const handler = (event: Event) => {\r\n                    const updatePosition = this.handleEvent(event);\r\n                    setDisableCloseButton(!this.canClose());\r\n                    updateBounds(updatePosition);\r\n                    updateMaxSizes();\r\n                };\r\n\r\n                window.addEventListener('split_added', handler);\r\n                window.addEventListener('split_removed', handler);\r\n                window.addEventListener('resize', onResizeWindow);\r\n\r\n                return () => {\r\n                    window.removeEventListener('split_added', handler);\r\n                    window.removeEventListener('split_removed', handler);\r\n                    window.removeEventListener('resize', onResizeWindow);\r\n                };\r\n            }, []);\r\n\r\n            return (\r\n                <ThemeProvider theme={theme}>\r\n                    <Draggable position={position} handle=\".gui_title\" bounds={bounds} onStop={onStopDrag}>\r\n                        <Resizable\r\n                            size={size}\r\n                            minWidth={this.dimensions.minWidth}\r\n                            minHeight={this.dimensions.minHeight}\r\n                            maxWidth={maxSizes.maxWidth}\r\n                            maxHeight={maxSizes.maxHeight}\r\n                            onResizeStop={onStopResize}\r\n                            enable={{ top: false, right: true, bottom: true, left: false, topRight: false, bottomRight: true, bottomLeft: false, topLeft: false }}\r\n                            style={{ zIndex: this.zIndex}}\r\n                            >\r\n\r\n                            <Container fixed>\r\n                                <List className=\"gui_title\" disablePadding={true}>\r\n                                    <ListItem>\r\n                                        <ListItemText primary={this._name} />\r\n                                        { this._showCloseButton &&\r\n                                            <ListItemSecondaryAction>\r\n                                                <IconButton edge=\"end\" style={{ marginTop: '-12px', marginRight: '-20px'}} onClick={this.closed.bind(this)} disabled={disableCloseButton}><Icon>cancel_presentation</Icon></IconButton>\r\n                                            </ListItemSecondaryAction>\r\n                                        }\r\n                                    </ListItem>\r\n                                </List>\r\n                                {this.createCustomGUI()}\r\n                            </Container>\r\n\r\n                        </Resizable>\r\n                    </Draggable>\r\n                </ThemeProvider>\r\n            );\r\n        };\r\n\r\n        this._guiElemCont = document.createElement(\"div\");\r\n\r\n        jQuery(this._guiElemCont).css('position', 'absolute').css('user-select', 'none').css('top', '0').css('left', '0').css('z-index', this.zIndex);\r\n\r\n        document.body.append(this._guiElemCont);\r\n\r\n        ReactDOM.render(<GUI />, this._guiElemCont);\r\n    }\r\n\r\n    protected createCustomGUI(): React.ReactElement {\r\n        return (\r\n            <React.Fragment>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    public showGUI(show: boolean): void {\r\n        jQuery(this._guiElemCont).css('display', show ? 'block' : 'none');\r\n    }\r\n\r\n    public toggleGUI(): void {\r\n        jQuery(this._guiElemCont).css('display', jQuery(this._guiElemCont).css('display') === 'none' ? 'block' : 'none');\r\n    }\r\n\r\n    public removeGUI(): void {\r\n        ReactDOM.unmountComponentAtNode(this._guiElemCont);\r\n        this._guiElemCont = null as any;\r\n    }\r\n\r\n}\r\n","import jQuery from \"jquery\";\r\n\r\nimport {\r\n    Engine\r\n} from \"babylonjs\";\r\n\r\nimport \"./allSamples\";\r\nimport Browser from \"./Browser\";\r\nimport Sample from \"./Sample\";\r\n\r\ndeclare var glMatrix: any;\r\n\r\nconst showDebugLayer = false;\r\n\r\nglMatrix.glMatrix.setMatrixArrayType(Array);\r\n\r\nconst qs = Browser.QueryString;\r\n\r\nconst canvas = document.getElementById('renderCanvas') as HTMLCanvasElement,\r\n      engine = new Engine(canvas, true, { premultipliedAlpha: false, stencil: true, disableWebGL2Support: false, preserveDrawingBuffer: true });\r\n\r\nfunction setContainerDimensions() {\r\n    engine.resize();\r\n}\r\n\r\njQuery(window).on('resize', setContainerDimensions);\r\njQuery(window).on('load', setContainerDimensions);\r\n\r\nlet sampleName = Sample.sampleList.keys().next().value;\r\n\r\nif (qs['sample']) {\r\n    sampleName = qs['sample'];\r\n}\r\n\r\nconst sample = Sample.createSample(sampleName, engine, canvas) as Sample;\r\n\r\nif (sample === null) {\r\n    alert(`Unknown sample \"${sampleName}\" !`);\r\n} else {\r\n    let divFps = document.getElementById(\"fps\") as HTMLElement;\r\n\r\n    /*if (showDebugLayer) {\r\n        scene.debugLayer.show({ embedMode: false, handleResize: false, overlay: true, showExplorer: true, showInspector: true });\r\n    }*/\r\n\r\n    engine.runRenderLoop(function() {\r\n        sample.onBeforeRender(engine.getDeltaTime() / 1000.0);\r\n\r\n        sample.render();\r\n\r\n        if (divFps) {\r\n            divFps.innerHTML = engine.getFps().toFixed(2) + \" fps\";\r\n        }\r\n    });\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n    Button,\r\n    Grid,\r\n    MenuItem,\r\n    Paper,\r\n    Select,\r\n    Switch,\r\n} from '@material-ui/core';\r\n\r\nimport {\r\n    withStyles,\r\n} from '@material-ui/core/styles';\r\n\r\nimport {\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport GUI, { enumDefaultPosition } from \"./GUI\";\r\nimport Sample, { enumSplitMode } from \"./Sample\";\r\n\r\nexport default class MainGUI extends GUI {\r\n\r\n    protected _parent:      Sample;\r\n\r\n    constructor(name: string, engine: Engine, parent: Sample) {\r\n        super(name, engine);\r\n\r\n        this._parent = parent;\r\n\r\n        this.dimensions.width = 250;\r\n        this.dimensions.height = 214;\r\n        this.showCloseButton = false;\r\n        this.defaultPosition = enumDefaultPosition.TOP_LEFT;\r\n    }\r\n\r\n    protected handleEvent(event: Event): boolean {\r\n        return false;\r\n    }\r\n\r\n    protected createCustomGUI(): React.ReactElement {\r\n        const GridQwerty = withStyles({\r\n            root: {\r\n                maxWidth: 60,\r\n            },\r\n        })(Grid);\r\n\r\n        const Properties = () => {\r\n            const classes = this._useStyles();\r\n            const [splitLayout, setSplitLayout] = React.useState(this._parent.splitMode);\r\n            const [splitType, setSplitType] = React.useState(this._parent.splitType);\r\n            const [qwertyMode, setQwertyMode] = React.useState(this._parent.qwertyMode);\r\n\r\n            const changeSplitLayout = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._parent.splitMode = event.target.value as number;\r\n                setSplitLayout(this._parent.splitMode);\r\n            };\r\n\r\n            const changeSplitType = (event: React.ChangeEvent<{ name?: string | undefined; value: unknown }>, child: React.ReactNode) => {\r\n                this._parent.splitType = event.target.value as string;\r\n                setSplitType(this._parent.splitType);\r\n            };\r\n\r\n            const changeQwertyMode = (event: React.ChangeEvent, checked: boolean) => {\r\n                setQwertyMode(checked);\r\n                this._parent.qwertyMode = checked;\r\n            };\r\n\r\n            React.useEffect(() => {\r\n                const handler = (event: Event) => {\r\n                    switch ((event as CustomEvent).detail.type) {\r\n                        case 'setSplitLayout': {\r\n                            setSplitLayout(this._parent.splitMode);\r\n                            break;\r\n                        }\r\n                    }\r\n                };\r\n\r\n                window.addEventListener('gui_set_value', handler);\r\n\r\n                return () => {\r\n                    window.removeEventListener('gui_set_value', handler);\r\n                };\r\n            }, []);\r\n\r\n            return (\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={6}>\r\n                        <Paper className={classes.propertyTitle}>QWERTY mode</Paper>\r\n                    </Grid>\r\n                    <GridQwerty item xs={6} className={classes.propertyValue}>\r\n                        <Paper className={classes.propertyValue}>\r\n                            <Switch checked={qwertyMode} onChange={changeQwertyMode} />\r\n                        </Paper>\r\n                    </GridQwerty>\r\n                    <Grid item xs={6}>\r\n                        <Paper className={classes.propertyTitle}>Split layout</Paper>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <Select\r\n                            className={classes.propertyValue}\r\n                            id=\"splitlayout\"\r\n                            value={splitLayout}\r\n                            onChange={changeSplitLayout}\r\n                            >\r\n                            <MenuItem value={enumSplitMode.SIDE_BY_SIDE}>Side by side</MenuItem>\r\n                            <MenuItem value={enumSplitMode.LINEAR}>Linear</MenuItem>\r\n                        </Select>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <Paper className={classes.propertyTitle}>Split type</Paper>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <Select\r\n                            className={classes.propertyValue}\r\n                            id=\"splittype\"\r\n                            value={splitType}\r\n                            onChange={changeSplitType}\r\n                            >\r\n                            { Array.from(this._parent.splitClasses.keys()).map((name) => {\r\n                                const stype = this._parent.splitClasses.get(name)!;\r\n                                return (\r\n                                    <MenuItem key={name} value={name}>{stype.className}</MenuItem>\r\n                                );\r\n                            }) }\r\n                        </Select>\r\n                    </Grid>\r\n                    {this.createCustomGUIProperties()}\r\n                    <Grid item xs={12} style={{ textAlign: 'center', marginTop: '8px' }}>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={this._parent.createNewSplit.bind(this._parent)}>\r\n                            Create Split\r\n                        </Button>\r\n                    </Grid>\r\n                </Grid>\r\n            );\r\n        };\r\n\r\n        return Properties();\r\n    }\r\n\r\n    protected createCustomGUIProperties(): React.ReactElement {\r\n        return (\r\n            <React.Fragment>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    HemisphericLight,\r\n    StandardMaterial,\r\n    Texture,\r\n    MeshBuilder,\r\n    PassPostProcess,\r\n    Effect,\r\n    ShaderMaterial,\r\n    RenderTargetTexture,\r\n    PostProcess,\r\n    PostProcessRenderPipeline,\r\n    PostProcessRenderEffect,\r\n    SceneLoader,\r\n    Nullable,\r\n    MaterialDefines\r\n} from \"babylonjs\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\nexport default class RTTAndPostProcess extends SampleBasic {\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position.x = 0;\r\n        camera.position.y = 5;\r\n        camera.position.z = -10;\r\n\r\n        camera.setTarget(Vector3.Zero());\r\n\r\n        // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\r\n        var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\r\n\r\n        // Default intensity is 1. Let's dim the light a small amount\r\n        light.intensity = 0.7;\r\n\r\n        // some material for the sphere.\r\n        var grass0 = new StandardMaterial(\"grass0\", scene);\r\n        grass0.diffuseTexture = new Texture(\"resources/texture/grass.png\", scene);\r\n\r\n        // Our built-in 'ground' shape.\r\n        var ground = MeshBuilder.CreateGround(\"ground\", {width: 6, height: 6}, scene);\r\n        ground.material = grass0;\r\n\r\n        // a depth pass.\r\n        const depthPass = scene.enableDepthRenderer();\r\n\r\n        // first pass, render scene with original materials\r\n        var imagePass = new PassPostProcess(\"imagePass\", 1.0, null, Texture.NEAREST_SAMPLINGMODE, this._engine);\r\n\r\n        // second pass with a shader material\r\n        Effect.ShadersStore.magicVertexShader = `\r\n            precision highp float;\r\n\r\n            attribute vec3 position;\r\n            attribute vec2 uv;\r\n\r\n    #ifdef INSTANCES\r\n        attribute vec4 world0;\r\n        attribute vec4 world1;\r\n        attribute vec4 world2;\r\n        attribute vec4 world3;\r\n    #else\r\n        uniform mat4 world;\r\n    #endif\r\n            uniform mat4 view;\r\n            uniform mat4 projection;\r\n            uniform mat4 worldViewProjection;\r\n\r\n            varying vec2 vUV;\r\n\r\n            #include<bonesDeclaration>\r\n\r\n            void main() {\r\n    #ifdef INSTANCES\r\n        mat4 finalWorld = mat4(world0, world1, world2, world3);\r\n    #else\r\n        mat4 finalWorld = world;\r\n    #endif\r\n\r\n                vec3 positionUpdated = position;\r\n\r\n                #include<bonesVertex>\r\n\r\n                vec4 worldPos = finalWorld * vec4(positionUpdated, 1.0);\r\n\r\n                vUV = uv;\r\n\r\n                gl_Position = projection * view * worldPos;\r\n            }`;\r\n        Effect.ShadersStore.magicFragmentShader = `\r\n            #ifdef GL_ES\r\n            precision mediump float;\r\n            #endif\r\n\r\n            varying vec2 vUV;\r\n\r\n            void main(void)\r\n            {\r\n                // basic, just returns a plain color\r\n                gl_FragColor = vec4(1.0, 1.0, 0.1, 1.0);\r\n            }\r\n        `;\r\n\r\n        const shaderMaterial = new ShaderMaterial(\r\n            'magic shader material', // human name\r\n            scene,\r\n            'magic', // shader path\r\n            {\r\n                attributes: [ 'position', 'normal', 'uv' ],\r\n                uniforms: [ 'world', 'worldView', 'worldViewProjection', 'view', 'projection', 'time', 'direction' ]\r\n            }\r\n        );\r\n\r\n        shaderMaterial.freeze();\r\n\r\n        const shaderMaterialForRobot = shaderMaterial.clone(\"cloned\");\r\n\r\n        shaderMaterialForRobot.freeze();\r\n\r\n        const renderTarget = new RenderTargetTexture('magic texture', 512, scene);\r\n        scene.customRenderTargets.push(renderTarget);\r\n\r\n        renderTarget.onBeforeRender = (e) => {\r\n            // Apply the shader on all meshes\r\n            for (let i = 0; i < renderTarget.renderList!.length; ++i) {\r\n                const mesh = renderTarget.renderList![i];\r\n                mesh.metadata = mesh.metadata || {};\r\n                if (mesh.material && !mesh.material.isFrozen && mesh.isReady(true)) { // the PBR material takes some time to be loaded, it's possible that in the first few frames mesh.material is null...\r\n                    const _orig_subMeshEffects: Array<[Nullable<Effect>, Nullable<MaterialDefines>]> = [];\r\n                    mesh.subMeshes.forEach((submesh) => {\r\n                        _orig_subMeshEffects.push([submesh.effect, submesh._materialDefines]);\r\n                    });\r\n                    mesh.material.freeze();\r\n                    mesh.metadata._saved_orig_material = mesh.material;\r\n                    mesh.metadata._orig_subMeshEffects = _orig_subMeshEffects;\r\n                }\r\n                if (!mesh.metadata._orig_subMeshEffects) { continue; }\r\n                mesh.material = i == 0 ? shaderMaterial : shaderMaterialForRobot;\r\n                if (mesh.metadata._rtt_subMeshEffects) {\r\n                    for (let s = 0; s < mesh.subMeshes.length; ++s) {\r\n                        mesh.subMeshes[s].setEffect(...(mesh.metadata._rtt_subMeshEffects[s] as [Nullable<Effect>, Nullable<MaterialDefines>]));\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        renderTarget.onAfterRender = () => {\r\n            // Set the original shader on all meshes\r\n            for (let i = 0; i < renderTarget.renderList!.length; ++i) {\r\n                const mesh = renderTarget.renderList![i];\r\n                if (!mesh.metadata._orig_subMeshEffects) { continue; }\r\n                if (!mesh.metadata._rtt_subMeshEffects) {\r\n                    mesh.metadata._rtt_subMeshEffects = [];\r\n                    mesh.subMeshes.forEach((submesh) => {\r\n                        mesh.metadata._rtt_subMeshEffects.push([submesh.effect, submesh._materialDefines]);\r\n                    });\r\n                }\r\n                mesh.material = mesh.metadata._saved_orig_material;\r\n                for (let s = 0; s < mesh.subMeshes.length; ++s) {\r\n                    mesh.subMeshes[s].setEffect(...(mesh.metadata._orig_subMeshEffects[s] as [Nullable<Effect>, Nullable<MaterialDefines>]));\r\n                }\r\n            }\r\n        };\r\n\r\n        // third pass: merge two passes\r\n        Effect.ShadersStore.finalVertexShader = `\r\n            precision highp float;\r\n\r\n            attribute vec3 position;\r\n            attribute vec2 uv;\r\n\r\n            uniform mat4 worldViewProjection;\r\n\r\n            varying vec2 vUV;\r\n\r\n            void main() {\r\n                vUV = uv;\r\n                gl_Position = worldViewProjection * vec4(position, 1.0);\r\n            }`;\r\n\r\n        Effect.ShadersStore.finalFragmentShader = `\r\n            #ifdef GL_ES\r\n            precision mediump float;\r\n            #endif\r\n\r\n            varying vec2 vUV;\r\n\r\n            uniform sampler2D textureSampler;\r\n            uniform sampler2D secondTexture;\r\n            uniform sampler2D depthTexture;\r\n\r\n            void main(void)\r\n            {\r\n                vec4 first = texture2D(textureSampler, vUV);\r\n                vec4 second = texture2D(secondTexture, vUV);\r\n                // mixes colors\r\n                gl_FragColor = mix(first, second, vUV.x);\r\n            }\r\n        `;\r\n\r\n        // create the pass\r\n        var finalPass = new PostProcess(\r\n            'Final compose shader',\r\n            'final',  // shader\r\n            null, // attributes\r\n            ['baseTexture', 'secondTexture', 'depthTexture' ], // textures\r\n            1.0,  // options\r\n            null, // camera\r\n            Texture.BILINEAR_SAMPLINGMODE, // sampling\r\n            this._engine // engine\r\n        );\r\n\r\n        finalPass.onApply = (effect) => {\r\n            effect.setTextureFromPostProcess('baseTexture', imagePass);\r\n            effect.setTexture('secondTexture', renderTarget);\r\n            effect.setTexture('depthTexture', depthPass.getDepthMap());\r\n        };\r\n\r\n        // the render pipeline\r\n        var pipeline = new PostProcessRenderPipeline(this._engine, 'pipeline');\r\n        var renderPasses = new PostProcessRenderEffect(\r\n            this._engine, 'renderPasses', function() { return [imagePass, finalPass]; });\r\n\r\n        pipeline.addEffect(renderPasses);\r\n        scene.postProcessRenderPipelineManager.addPipeline(pipeline);\r\n        scene.postProcessRenderPipelineManager.attachCamerasToRenderPipeline('pipeline', camera);\r\n\r\n        // Our built-in 'sphere' shape.\r\n        SceneLoader.ImportMesh(\"\", \"resources/3d/BrainStem/\", \"BrainStem.gltf\", scene, function(meshes) {\r\n            renderTarget.renderList!.push(ground);\r\n            meshes.forEach((mesh) => {\r\n                renderTarget.renderList!.push(mesh);\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"rttandpostprocess\", {\r\n    \"displayName\": \"Create a Render Target Texture and use it in a post process pass\",\r\n    \"description\": \"\",\r\n    \"class\": RTTAndPostProcess,\r\n});\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    HemisphericLight,\r\n    MeshBuilder,\r\n    Effect,\r\n    PostProcess,\r\n    Vector2,\r\n    Vector4,\r\n    Color3,\r\n} from \"babylonjs\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\nexport default class RayMarching extends SampleBasic {\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position.x = 10;\r\n        camera.position.y = 10;\r\n        camera.position.z = -10;\r\n\r\n        camera.setTarget(Vector3.Zero());\r\n\r\n        Effect.ShadersStore[\"raymarchVertexShader\"] = `\r\n        attribute vec2 position;\r\n        uniform vec2 scale;\r\n\r\n        // Output\r\n        varying vec2 vUV;\r\n        const vec2 madd = vec2(0.5, 0.5);\r\n        void main(void) {\r\n            vUV = (position * madd + madd) * scale;\r\n            gl_Position = vec4(position, 0.0, 1.0);\r\n        }\r\n    `;\r\n\r\n    Effect.ShadersStore[\"raymarchFragmentShader\"] = `\r\n        #ifdef GL_ES\r\n            precision highp float;\r\n        #endif\r\n\r\n        // Samplers\r\n        varying vec2 vUV;\r\n        uniform sampler2D textureSampler;\r\n        uniform sampler2D depthMap;\r\n\r\n        uniform vec2 resolution;\r\n\r\n        uniform float camMinZ;\r\n        uniform float camMaxZ;\r\n        uniform vec3 camPosition;\r\n        uniform vec3 camDirection;\r\n        uniform vec4 vLightData;\r\n        uniform float camFov;\r\n        uniform float time;\r\n\r\n        uniform mat4 camView;\r\n        uniform mat4 camProjection;\r\n        uniform mat4 camWorld;\r\n        uniform mat4 camTransform;\r\n\r\n        uniform vec3 backgroundColor;\r\n\r\n        #define MTL_BACKGROUND          -1.0\r\n        #define MTL_GROUND              1.0\r\n        #define MTL_AX                  2.0\r\n        #define MTL_AY                  3.0\r\n        #define MTL_AZ                  4.0\r\n        #define MTL_OBJ1                5.0\r\n        #define MTL_OBJ2                6.0\r\n\r\n        #define NORMAL_EPS              0.0001\r\n\r\n        #define MAX_RAYCAST_STEPS       100\r\n        #define STEP_DAMPING            0.86\r\n        #define DIST_EPSILON            0.001\r\n\r\n        #define BACKGROUND_COLOR        vec3(0.3, 0.342, 0.5)\r\n\r\n        #include<helperFunctions>\r\n        #include<__decl__lightFragment>[0]\r\n\r\n        struct lightingInfo\r\n        {\r\n            vec3 diffuse;\r\n            vec3 specular;\r\n        };\r\n\r\n\r\n        lightingInfo computeHemisphericLighting(vec3 viewDirectionW, vec3 vNormal, vec4 lightData, vec3 diffuseColor, vec3 specularColor, vec3 groundColor, float glossiness) {\r\n            lightingInfo result;\r\n\r\n            // Diffuse\r\n            float ndl = dot(vNormal, lightData.xyz) * 0.5 + 0.5;\r\n        #ifdef NDOTL\r\n            result.ndl = ndl;\r\n        #endif\r\n\r\n            result.diffuse = mix(groundColor, diffuseColor, ndl);\r\n\r\n        #ifdef SPECULARTERM\r\n            // Specular\r\n            vec3 angleW = normalize(viewDirectionW + lightData.xyz);\r\n            float specComp = max(0., dot(vNormal, angleW));\r\n            specComp = pow(specComp, max(1., glossiness));\r\n\r\n            result.specular = specComp * specularColor;\r\n        #endif\r\n                return result;\r\n        }\r\n\r\n        // Primitives\r\n        float plane(vec3 p, vec3 n, float offs) { return dot(p, n) - offs; }\r\n        float sphere(vec3 p, float r) { return length(p) - r; }\r\n        float cone(in vec3 p, vec2 n) { return dot(vec2(length(p.xz), p.y), n);}\r\n        float cone(vec3 p, float r, float h) {\r\n            float ang = atan(r, h);\r\n            vec2 n = vec2(cos(ang), sin(ang));\r\n            float d = cone(vec3(p.x, p.y - h, p.z), n);\r\n            return max(d, -p.y);\r\n        }\r\n        float cylinder(in vec3 p, float r) { return length(p.xz) - r; }\r\n        float cylinder(in vec3 p, float r, float h) { return max(cylinder(p, r), abs(p.y) - h*0.5); }\r\n        float torus(vec3 p, float ri, float ro) { return length(vec2(length(p.xz) - ri, p.y)) - ro; }\r\n\r\n        // Boolean operations\r\n        float diff(float d1, float d2) { return max(-d2, d1); }\r\n        float add(float d1, float d2) { return min(d2, d1); }\r\n        float intersect(float d1, float d2) { return max(d2, d1); }\r\n        // Boolean operations (with material ID in second component)\r\n        void diff(inout vec2 d1, in vec2 d2) {\r\n            if (-d2.x > d1.x) {\r\n                d1.x = -d2.x;\r\n                d1.y = d2.y;\r\n            }\r\n        }\r\n        void add(inout vec2 d1, in vec2 d2) { if (d2.x < d1.x) d1 = d2; }\r\n        void intersect(inout vec2 d1, in vec2 d2) { if (d1.x < d2.x) d1 = d2; }\r\n\r\n        // Affine transformations\r\n        vec3 translate(vec3 p, vec3 d) {\r\n            return p - d;\r\n        }\r\n        vec2 rotate(vec2 p, float ang) {\r\n            float c = cos(ang), s = sin(ang);\r\n            return vec2(p.x*c-p.y*s, p.x*s+p.y*c);\r\n        }\r\n        //  Repetition\r\n        float repeat(float coord, float spacing) {\r\n            return mod(coord, spacing) - spacing*0.5;\r\n        }\r\n        vec2 repeatAng(vec2 p, float n) {\r\n            float ang = 2.0*PI/n;\r\n            float sector = floor(atan(p.x, p.y)/ang + 0.5);\r\n            p = rotate(p, sector*ang);\r\n            return p;\r\n        }\r\n        vec3 repeatAngS(vec2 p, float n) {\r\n            float ang = 2.0*PI/n;\r\n            float sector = floor(atan(p.x, p.y)/ang + 0.5);\r\n            p = rotate(p, sector*ang);\r\n            return vec3(p.x, p.y, mod(sector, n));\r\n        }\r\n\r\n        vec2 map(vec3 p) {\r\n            vec3 yP = p;\r\n            yP.y = repeat(yP.y, 2.0);\r\n            vec2 res = vec2(sphere(yP-vec3(2.0,0.0,0.0), 1.0), MTL_GROUND);\r\n            return res;\r\n        }\r\n\r\n\r\n        vec3 calcNormal(in vec3 p)\r\n        {\r\n            vec2 d = vec2(NORMAL_EPS, 0.0);\r\n            return normalize(vec3(\r\n                map(p + d.xyy).x - map(p - d.xyy).x,\r\n                map(p + d.yxy).x - map(p - d.yxy).x,\r\n                map(p + d.yyx).x - map(p - d.yyx).x));\r\n        }\r\n\r\n\r\n        vec2 rayMarch(in vec3 ro, in vec3 rd) {\r\n            float t = 0.0;\r\n            float m = MTL_BACKGROUND;\r\n            for (int i=0; i < MAX_RAYCAST_STEPS; i++) {\r\n                vec2 res = map(ro + rd*t);\r\n                if (res.x < DIST_EPSILON) break;\r\n                t += res.x*STEP_DAMPING;\r\n                m = res.y;\r\n            }\r\n            return vec2(t, m);\r\n        }\r\n\r\n\r\n        vec3 getMaterialColor(float matID) {\r\n            vec3 col = backgroundColor;\r\n            if (matID <= MTL_GROUND) col = vec3(0.8, 0.8, 0.8);\r\n            else if (matID <= MTL_AX) col = vec3(1.0, 0.0, 0.0);\r\n            else if (matID <= MTL_AY) col = vec3(0.0, 1.0, 0.0);\r\n            else if (matID <= MTL_AZ) col = vec3(0.0, 0.0, 1.0);\r\n            else if (matID <= MTL_OBJ1) col = vec3(0.8, 0.8, 1.8);\r\n            else if (matID <= MTL_OBJ2) col = vec3(1.4, 1.3, 0.3);\r\n            else col = vec3(0.7, 0.7, 1.8);\r\n            return col;\r\n        }\r\n\r\n\r\n        vec3 applyFog(vec3 col, float dist) {\r\n            return mix(col, backgroundColor, dist);\r\n        }\r\n\r\n        vec4 render(in vec3 ro, in vec3 rd) {\r\n            vec2 res = rayMarch(ro, rd);\r\n            float t = res.x;\r\n            float mtlID = res.y;\r\n            vec3  lig = -rd;\r\n            vec3 pos = ro + t*rd;\r\n\r\n            vec4 posProj = camTransform * vec4(pos, 1);\r\n            float z = (posProj.z + camMinZ) / (camMaxZ + camMinZ);\r\n            if (z < 0.0 /*|| z > 1.0*/) { // no need to check against 1.0, as if z > 1.0 the check of z against depth in main() will fail\r\n                mtlID = MTL_BACKGROUND;\r\n                z = 1.0; // to be sure the test against depth fails in main()\r\n            }\r\n\r\n            vec3 nor = calcNormal(pos);\r\n            vec3 mtlColor = getMaterialColor(mtlID);\r\n            float ambient = 0.;\r\n            lightingInfo info = computeHemisphericLighting(rd, nor, vLightData, vec3(1.0, 1.0, 1.0)/*Light Color*/, vec3(1.0)/*Light Specular*/, vec3(0.)/*Ground Color*/, 0.0/*Glossy*/);\r\n\r\n            vec3 ref = reflect(rd, nor);\r\n            float specular = pow(clamp(dot(ref, vLightData.xyz), 0.0, 1.0), 16.0);\r\n\r\n            vec3 col = mtlColor*(ambient + info.diffuse + specular);\r\n            col = applyFog(col, z);\r\n\r\n            return vec4(col, z);\r\n        }\r\n\r\n        vec3 getRayFromScreenSpace()\r\n        {\r\n            mat4 invMat =  inverse(camTransform);\r\n            vec4 near = vec4((vUV.x - 0.5) * 2.0, (vUV.y - 0.5) * 2.0, -1, 1.0);\r\n            vec4 far = vec4((vUV.x - 0.5) * 2.0, (vUV.y - 0.5) * 2.0, 1, 1.0);\r\n            vec4 nearResult = invMat*near;\r\n            vec4 farResult = invMat*far;\r\n            nearResult /= nearResult.w;\r\n            farResult /= farResult.w;\r\n            vec3 dir = vec3(farResult - nearResult );\r\n            return normalize(dir);\r\n        }\r\n\r\n        void main(void){\r\n            vec4 baseColor = texture2D(textureSampler, vUV);\r\n            float depth = texture2D(depthMap, vUV).x;\r\n            vec2 p = vUV*2.0-1.0;\r\n            p.x *= resolution.x/resolution.y;\r\n            vec3 rayDir = getRayFromScreenSpace();\r\n            vec4 renderData = render(camPosition, rayDir);\r\n\r\n            if(renderData.w < depth){\r\n                baseColor.rgb = renderData.rgb;\r\n            }\r\n\r\n\r\n            gl_FragColor = baseColor;\r\n        }\r\n    `;\r\n\r\n        camera.minZ = 1;\r\n        camera.maxZ = 100.;\r\n        //scene.fogEnabled = true;\r\n\r\n        var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\r\n        light.intensity = 0.7;\r\n\r\n        var sphere = MeshBuilder.CreateSphere(\"sphere\", {diameter: 2, segments: 32}, scene);\r\n        sphere.position.y = 1;\r\n\r\n        var ground = MeshBuilder.CreateGround(\"ground\", {width: 6, height: 6}, scene);\r\n\r\n        var raymarchPass = new PostProcess(\"raymarching\", \"raymarch\",\r\n        [\r\n            'resolution',\r\n            'camMinZ',\r\n            'camMaxZ',\r\n            'camPosition',\r\n            'camDirection',\r\n            'camFov',\r\n            'camView',\r\n            'camProjection',\r\n            'camWorld',\r\n            'camTransform',\r\n            'vLightData',\r\n            'time',\r\n            'backgroundColor'\r\n        ],\r\n        [\r\n            'depthMap'\r\n        ], 1.0, camera, 0, this._engine, false, '', 0, 'raymarch');\r\n\r\n        var render = scene.enableDepthRenderer();\r\n        var time = 0.0;\r\n\r\n        raymarchPass.onApply = function(effect) {\r\n            time += scene.getEngine().getDeltaTime() * 0.001;\r\n            effect.setFloat('time', time);\r\n            effect.setTexture('depthMap', render.getDepthMap());\r\n            let cvas = scene.getEngine().getRenderingCanvas()!;\r\n            effect.setVector2('resolution', new Vector2(cvas.width, cvas.height));\r\n            effect.setVector3('camPosition', scene.activeCamera!.position);\r\n            effect.setVector3('camDirection', scene.activeCamera!.getForwardRay(1).direction);\r\n            effect.setFloat('camMinZ', scene.activeCamera!.minZ);\r\n            effect.setFloat('camMaxZ', scene.activeCamera!.maxZ);\r\n            effect.setFloat('camFov', scene.activeCamera!.fov);\r\n\r\n            effect.setMatrix('camView', scene.activeCamera!.getViewMatrix());\r\n            effect.setMatrix('camProjection', scene.activeCamera!.getProjectionMatrix());\r\n            effect.setMatrix('camWorld', scene.activeCamera!.getWorldMatrix());\r\n            effect.setMatrix('camTransform', scene.activeCamera!.getTransformationMatrix());\r\n\r\n            effect.setColor3('backgroundColor', new Color3(scene.clearColor.r, scene.clearColor.g, scene.clearColor.b));\r\n\r\n            let lightDir = light.direction.clone().normalize();\r\n\r\n            effect.setVector4('vLightData',\r\n                new Vector4(\r\n                    lightDir.x,\r\n                    lightDir.y,\r\n                    lightDir.z,\r\n                    0.0\r\n                )\r\n            );\r\n        };\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"raymarching\", {\r\n    \"displayName\":  \"A raymarching test\",\r\n    \"description\":  \"\",\r\n    \"class\": RayMarching,\r\n});\r\n","import {\r\n    Engine,\r\n    Scene,\r\n    UniversalCamera,\r\n    Vector3,\r\n    Viewport,\r\n    Color4,\r\n} from \"babylonjs\";\r\n\r\nimport MainGUI from \"./MainGUI\";\r\nimport Split from \"./Split\";\r\n\r\nconst cameraSpeed = 5,\r\n      shiftMultiplier = 3;\r\n\r\nexport enum enumSplitMode {\r\n    SIDE_BY_SIDE,\r\n    LINEAR\r\n}\r\n\r\nexport interface ISampleDescription {\r\n    displayName: string;\r\n    description: string;\r\n    class: typeof Sample;\r\n}\r\n\r\nexport default class Sample {\r\n\r\n    protected static _sampleList: Map<string, ISampleDescription> = new Map();\r\n\r\n    protected static readonly cameraKeys = {\r\n        \"azerty\": {\r\n            \"Up\": 90, // Z\r\n            \"Down\": 83, // S\r\n            \"Left\": 81, // Q\r\n            \"Right\": 68, // D\r\n        },\r\n\r\n        \"qwerty\": {\r\n            \"Up\": 87, // W\r\n            \"Down\": 83, // S\r\n            \"Left\": 65, // A\r\n            \"Right\": 68, // D\r\n        },\r\n    };\r\n\r\n    protected _engine:          Engine;\r\n    protected _canvas:          HTMLCanvasElement;\r\n    protected _mapKeys:         Map<String, boolean>;\r\n    protected _clearColor:      Color4;\r\n    protected _cameraSpeed:     number;\r\n    protected _gui:             MainGUI | null;\r\n    protected _qwertyMode:      boolean;\r\n\r\n    public splits:          Array<Split>;\r\n    public splitMode:       enumSplitMode;\r\n    public splitClasses:    Map<string, typeof Split>;\r\n    public splitType:       string | null;\r\n\r\n    public static get sampleList(): Map<string, ISampleDescription> {\r\n        return Sample._sampleList;\r\n    }\r\n\r\n    public static registerSampleClass(name: string, sample: ISampleDescription): void {\r\n        if (Sample._sampleList.get(name)) {\r\n            throw `registerSampleClass: name \"${name} already registered!\"`;\r\n        }\r\n        Sample._sampleList.set(name, sample);\r\n    }\r\n\r\n    public static createSample(name: string, engine: Engine, canvas: HTMLCanvasElement): Sample | null {\r\n        const sampleDescr = Sample._sampleList.get(name);\r\n\r\n        if (sampleDescr) {\r\n            const sample = new sampleDescr.class(engine, canvas);\r\n\r\n            sample.create();\r\n\r\n            return sample;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    constructor(engine: Engine, canvas: HTMLCanvasElement) {\r\n        this._engine = engine;\r\n        this._canvas = canvas;\r\n        this._mapKeys = new Map<String, boolean>();\r\n        this._clearColor = new Color4(0, 0, 0, 1);\r\n        this._cameraSpeed = cameraSpeed;\r\n        this._qwertyMode = false;\r\n\r\n        this.splits = [];\r\n        this.splitMode = enumSplitMode.LINEAR;\r\n        this.splitClasses = new Map();\r\n        this.splitType = null;\r\n        this._gui = null;\r\n\r\n        (window as any).__sample = this;\r\n        (window as any).__ss = this.splits;\r\n    }\r\n\r\n    public get qwertyMode(): boolean {\r\n        return this._qwertyMode;\r\n    }\r\n\r\n    public set qwertyMode(qm: boolean) {\r\n        this._qwertyMode = qm;\r\n        this.splits.forEach((split) => this.setCameraKeys(split.camera));\r\n    }\r\n\r\n    public get splitNumber(): number {\r\n        return this.splits.length;\r\n    }\r\n\r\n    public createNewSplit(): void {\r\n        if (this.splitClasses.size === 0) {\r\n            return;\r\n        }\r\n\r\n        this.addSplit(this.splitClasses.keys().next().value, \"\");\r\n    }\r\n\r\n    public onBeforeRender(deltaTime: number): void {\r\n        this.splits.forEach((split) => {\r\n            const camera = split.camera;\r\n\r\n            camera.speed = this._cameraSpeed * (this._mapKeys.get('Shift') ? shiftMultiplier : 1);\r\n\r\n            if (this._mapKeys.get(' ')) {\r\n                camera.cameraDirection = new Vector3(0, this._cameraSpeed / 5, 0);\r\n            }\r\n\r\n            if (this._mapKeys.get('x')) {\r\n                camera.cameraDirection = new Vector3(0, -this._cameraSpeed / 5, 0);\r\n            }\r\n        });\r\n\r\n        if (this._mapKeys.get(\"+\")) {\r\n            this._mapKeys.set(\"+\", false);\r\n            this.createNewSplit();\r\n        }\r\n\r\n        if (this._mapKeys.get(\"-\")) {\r\n            this._mapKeys.set(\"-\", false);\r\n            this.splits.forEach((split) => {\r\n                if (split.gui) {\r\n                    split.gui.toggleGUI();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this._mapKeys.get(\"F10\") && this._gui) {\r\n            this._mapKeys.set(\"F10\", false);\r\n            this._gui.toggleGUI();\r\n        }\r\n\r\n        this.splits.forEach((split, splitIndex) => {\r\n            if (this._mapKeys.get(`F${splitIndex + 1}`) && split.gui) {\r\n                this._mapKeys.set(`F${splitIndex + 1}`, false);\r\n                split.gui.toggleGUI();\r\n            }\r\n        });\r\n\r\n        if (this._mapKeys.get(\"/\")) {\r\n            this._mapKeys.set(\"/\", false);\r\n            this.splitMode = this.splitMode === enumSplitMode.LINEAR ? enumSplitMode.SIDE_BY_SIDE : enumSplitMode.LINEAR;\r\n            window.dispatchEvent(new CustomEvent('gui_set_value', { detail: { type: 'setSplitLayout' } }));\r\n        }\r\n    }\r\n\r\n    public render(): void {\r\n        const w = this._engine.getRenderWidth(),\r\n              h = this._engine.getRenderHeight(),\r\n              stepx = w / this.splits.length;\r\n\r\n        for (let i = 0; i < this.splits.length; ++i) {\r\n            const split = this.splits[i];\r\n\r\n            split.scene.autoClear = (i == 0);\r\n\r\n            switch (this.splitMode) {\r\n                case enumSplitMode.SIDE_BY_SIDE:\r\n                    split.camera.viewport = new Viewport(i / this.splits.length, 0, 1 / this.splits.length, 1);\r\n                    break;\r\n                case enumSplitMode.LINEAR:\r\n                    split.camera.viewport = new Viewport(0, 0, 1, 1);\r\n                    if (this.splits.length > 1) {\r\n                        split.scene.onBeforeDrawPhaseObservable.addOnce(() => {\r\n                            this._engine.enableScissor(stepx * i, 0, stepx * (i + 1), h);\r\n                        });\r\n                        split.scene.onAfterDrawPhaseObservable.addOnce(() => {\r\n                            this._engine.disableScissor();\r\n                        });\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (split.isLoading) {\r\n                this._engine.scissorClear(stepx * i, 0, stepx * (i + 1), h, this._clearColor);\r\n            } else {\r\n                split.render();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this._gui = new MainGUI(\"Global settings\", this._engine, this);\r\n\r\n        this._gui.createGUI();\r\n    }\r\n\r\n    protected create(): void {\r\n    }\r\n\r\n    protected resyncCameras(): void {\r\n        const groups = new Map<number, UniversalCamera>();\r\n\r\n        for (let i = 0; i < this.splits.length; ++i) {\r\n            const split = this.splits[i],\r\n                  scamera = split.camera;\r\n\r\n            const camera = groups.get(split.group);\r\n            if (!camera) {\r\n                groups.set(split.group, scamera);\r\n                scamera.update();\r\n                continue;\r\n            }\r\n\r\n            scamera.speed = camera.speed;\r\n            scamera.position = camera.position.clone();\r\n            scamera.rotation = camera.rotation.clone();\r\n            scamera.cameraDirection = camera.cameraDirection.clone();\r\n            scamera.cameraRotation = camera.cameraRotation.clone();\r\n        }\r\n    }\r\n\r\n    protected registerClass(splitClassName: string, splitClass: typeof Split): void {\r\n        this.splitClasses.set(splitClassName, splitClass);\r\n    }\r\n\r\n    public addSplit(splitClassName: string, splitName: string, attachControls: boolean = true, createGUI: boolean = true): Split | null {\r\n        const splitClass = this.splitClasses.get(splitClassName);\r\n\r\n        if (!splitClass) {\r\n            return null;\r\n        }\r\n        let [scene, camera] = this.createSceneAndCamera(attachControls);\r\n\r\n        const split = new splitClass(scene, camera, this, splitName);\r\n\r\n        this.splits.push(split);\r\n\r\n        if (createGUI) {\r\n            split.createGUI();\r\n        }\r\n\r\n        window.setTimeout(() => window.dispatchEvent(new Event('split_added')), 16); // let the time to the GUI to render before sending the event\r\n\r\n        return split;\r\n    }\r\n\r\n    public getSplitBounds(index: number | Split): { x: number, y: number, w: number, h: number } {\r\n        let splitIdx: number = 0;\r\n\r\n        if (typeof(index) == 'number') {\r\n            splitIdx = index;\r\n        } else {\r\n            splitIdx = this.splits.indexOf(index);\r\n        }\r\n\r\n        if (splitIdx < 0) {\r\n            return { x: 0, y: 0, w: 0, h: 0 };\r\n        }\r\n\r\n        let screenWidth = this._engine.getRenderWidth(),\r\n            screenHeight = this._engine.getRenderHeight(),\r\n            w = screenWidth / this.splits.length;\r\n\r\n        return {\r\n            x: splitIdx * screenWidth / this.splits.length,\r\n            y: 0,\r\n            w: w,\r\n            h: screenHeight\r\n        };\r\n    }\r\n\r\n    public removeSplit(index: number | Split): Split | null {\r\n        let split: Split | null = null;\r\n\r\n        if (typeof(index) == 'number') {\r\n            split = this.splits.splice(index, 1)[0];\r\n        } else {\r\n            const idx = this.splits.indexOf(index);\r\n            if (idx !== -1) {\r\n                split = this.splits.splice(idx, 1)[0];\r\n            }\r\n        }\r\n\r\n        if (split && split.gui) {\r\n            split.gui.removeGUI();\r\n        }\r\n\r\n        window.dispatchEvent(new Event('split_removed'));\r\n\r\n        return split;\r\n    }\r\n\r\n    protected attachControlToAllCameras(): void {\r\n        this.splits.forEach((split) => {\r\n            const camera = split.camera;\r\n\r\n            camera.attachControl(this._canvas, true);\r\n        });\r\n    }\r\n\r\n    protected detachControlFromAllCameras(): void {\r\n        this.splits.forEach((split) => {\r\n            const camera = split.camera;\r\n\r\n            camera.detachControl(this._canvas);\r\n        });\r\n    }\r\n\r\n    protected setCameraKeys(camera: UniversalCamera): void {\r\n        camera.keysUp = [Sample.cameraKeys[this._qwertyMode ? \"qwerty\" : \"azerty\"].Up];\r\n        camera.keysDown = [Sample.cameraKeys[this._qwertyMode ? \"qwerty\" : \"azerty\"].Down];\r\n        camera.keysLeft = [Sample.cameraKeys[this._qwertyMode ? \"qwerty\" : \"azerty\"].Left];\r\n        camera.keysRight = [Sample.cameraKeys[this._qwertyMode ? \"qwerty\" : \"azerty\"].Right];\r\n    }\r\n\r\n    protected createSceneAndCamera(attachControls: boolean = true): [Scene, UniversalCamera] {\r\n        const scene = new Scene(this._engine);\r\n        const camera = new UniversalCamera(\"camera\" + this.splits.length, new Vector3(0, 5, -10), scene);\r\n\r\n        camera.fov = Math.PI / 4;\r\n        camera.setTarget(Vector3.Zero());\r\n\r\n        camera.inertia = 0;\r\n        camera.angularSensibility = 500;\r\n\r\n        this.setCameraKeys(camera);\r\n\r\n        scene.onKeyboardObservable.add((kbInfo) => {\r\n            switch (kbInfo.type) {\r\n                case BABYLON.KeyboardEventTypes.KEYDOWN:\r\n                    this._mapKeys.set(kbInfo.event.key, true);\r\n                    if (kbInfo.event.key == \"F1\") {\r\n                        kbInfo.event.preventDefault();\r\n                    }\r\n                    break;\r\n                case BABYLON.KeyboardEventTypes.KEYUP:\r\n                    this._mapKeys.set(kbInfo.event.key, false);\r\n                    break;\r\n            }\r\n        });\r\n\r\n        this.enablePointerLock(scene);\r\n\r\n        if (attachControls) {\r\n            camera.attachControl(this._canvas, true);\r\n        }\r\n\r\n        scene.activeCamera = camera;\r\n\r\n        return [scene, camera];\r\n    }\r\n\r\n    protected enablePointerLock(scene: Scene): void {\r\n        let locked = false;\r\n\r\n        scene.onPointerObservable.add((pointerInfo) => {\r\n            switch (pointerInfo.type) {\r\n                case BABYLON.PointerEventTypes.POINTERDOWN:\r\n                    if (pointerInfo.event.button == 2) {\r\n                        if (!locked) {\r\n                            locked = true;\r\n                            this._canvas.requestPointerLock = this._canvas.requestPointerLock || this._canvas.msRequestPointerLock || this._canvas.mozRequestPointerLock || this._canvas.webkitRequestPointerLock;\r\n                            if (this._canvas.requestPointerLock) {\r\n                                this.detachControlFromAllCameras();\r\n                                this._canvas.requestPointerLock();\r\n                                window.setTimeout(() => this.attachControlToAllCameras(), 100);\r\n                            }\r\n                        } else {\r\n                            this.detachControlFromAllCameras();\r\n                            document.exitPointerLock();\r\n                            locked = false;\r\n                            window.setTimeout(() => this.attachControlToAllCameras(), 100);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n","import { Scene, UniversalCamera } from \"babylonjs\";\r\n\r\nimport Sample from \"./Sample\";\r\nimport Split from \"./Split\";\r\n\r\nclass SplitBasic extends Split {\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string = \"default\") {\r\n        super(scene, camera, parent, name);\r\n    }\r\n}\r\n\r\nexport default class SampleBasic extends Sample {\r\n\r\n    protected _split: Split;\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n    }\r\n\r\n    protected create() {\r\n        this.registerClass(\"split\", SplitBasic);\r\n\r\n        let split = this.addSplit(\"split\", \"basic\", true, false) as SplitBasic;\r\n\r\n        this._split = split;\r\n\r\n        this.populateScene(split.scene, split.camera);\r\n\r\n        jQuery(document.body).append('<div id=\"fps\"></div>');\r\n    }\r\n\r\n}\r\n","import { Color4 } from 'babylonjs';\r\n\r\nexport const NEAR = 1;\r\nexport const FAR = 2;\r\nexport const UI_TEXTURE_ID = 'UI_TEXTURE_ID';\r\nexport const RENDERING_2D_TEXTURE = 'RENDERING_2D_TEXTURE';\r\nexport const RU = 1.75; // 1U = 1.75inches\r\nexport const RU2D = 2;\r\nexport const RACK_INDEX_BG_COLOR = '#333333';\r\nexport const RACK_INDEX_TEXT_COLOR = '#FFFFFF';\r\nexport const NO_COLOR = new Color4(1, 1, 1, 1);\r\nexport const HOOK_SIZE = 0.5;\r\nexport const DEFAULT_SCALE = 20;\r\n","import {\r\n    Scene,\r\n    UniversalCamera,\r\n    Color4,\r\n} from \"babylonjs\";\r\n\r\nimport { RENDERING_2D_TEXTURE } from \"./constants\";\r\nimport { create2dPlan, createPlan, createRooms, racksToRooms } from \"./utils\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\nimport {\r\n    AdvancedDynamicTexture,\r\n    Checkbox,\r\n    Control,\r\n    TextBlock,\r\n    Container,\r\n} from \"babylonjs-gui\";\r\n\r\nexport default class ScrollViewer extends SampleBasic {\r\n\r\n    protected _countChildren(lc: Control[]): number {\r\n        let num = 0;\r\n\r\n        for (let c of lc) {\r\n            num++;\r\n            if (c instanceof Container) {\r\n                num += this._countChildren(c._children);\r\n            }\r\n        }\r\n\r\n        return num;\r\n    }\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position.copyFromFloats(-250, 250, -250);\r\n\r\n        scene.clearColor = new Color4(0.9, 0.9, 0.85, 1.0);\r\n        //scene.attachControl();\r\n\r\n        const adt = AdvancedDynamicTexture.CreateFullscreenUI(\r\n          RENDERING_2D_TEXTURE,\r\n          false,\r\n          scene\r\n        );\r\n        adt.renderScale = 1.5;\r\n        adt.isForeground = false;\r\n\r\n        const mappingConfig = {\r\n          roomPadding: 5,\r\n          racksSpacingX: 10,\r\n          racksSpacingY: 80,\r\n          minRoomWidth: 100,\r\n          minRoomDepth: 100,\r\n          planPadding: 10,\r\n          roomSpacingX: 50,\r\n          roomHeight: 100,\r\n          planHeight: 0\r\n        };\r\n\r\n        const racks = createRooms({\r\n          rooms: 10,\r\n          racksPerRoom: 100,\r\n          devicesPerRack: 30,\r\n          devicesPerPosition: 1,\r\n          rackHeight: 49,\r\n          racksPerRow: 3,\r\n          deviceHeight: 1\r\n        });\r\n\r\n        const rooms = racksToRooms(racks, mappingConfig);\r\n        const planData = createPlan(\"plan001\", rooms, mappingConfig);\r\n        const main = create2dPlan(planData);\r\n\r\n        main.forceHorizontalBar = true;\r\n        main.forceVerticalBar = true;\r\n\r\n        var checkbox = new Checkbox();\r\n        checkbox.top = \"5px\";\r\n        checkbox.left = \"5px\";\r\n        checkbox.width = \"20px\";\r\n        checkbox.height = \"20px\";\r\n        checkbox.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        checkbox.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        checkbox.isChecked = false;\r\n        checkbox.color = \"green\";\r\n        checkbox.onIsCheckedChangedObservable.add(function(value) {\r\n            main.freezeControls = value;\r\n            setbuckets.isEnabled = value;\r\n        });\r\n        adt.addControl(checkbox);\r\n\r\n        var header = new TextBlock();\r\n        header.top = \"5px\";\r\n        header.left = \"30px\";\r\n        header.text = \"freeze controls\";\r\n        header.width = \"120px\";\r\n        header.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.color = \"black\";\r\n        adt.addControl(header);\r\n\r\n        var setbuckets = new Checkbox();\r\n        setbuckets.top = \"30px\";\r\n        setbuckets.left = \"30px\";\r\n        setbuckets.width = \"20px\";\r\n        setbuckets.height = \"20px\";\r\n        setbuckets.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        setbuckets.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        setbuckets.isChecked = false;\r\n        setbuckets.isEnabled = false;\r\n        setbuckets.color = \"green\";\r\n        setbuckets.onIsCheckedChangedObservable.add(function(value) {\r\n            main.setBucketSizes(value ? 280 : 0, value ? 30 : 0);\r\n        });\r\n        adt.addControl(setbuckets);\r\n\r\n        header = new TextBlock();\r\n        header.top = \"30px\";\r\n        header.left = \"55px\";\r\n        header.text = \"use buckets\";\r\n        header.width = \"120px\";\r\n        header.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.textVerticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.color = \"black\";\r\n        adt.addControl(header);\r\n\r\n        var stats = new TextBlock();\r\n        stats.top = \"55px\";\r\n        stats.left = \"5px\";\r\n        stats.text = \"\";\r\n        stats.width = \"500px\";\r\n        stats.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stats.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        stats.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stats.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        stats.color = \"black\";\r\n        adt.addControl(stats);\r\n\r\n        scene.onBeforeRenderObservable.add(() => adt.markAsDirty()); // make sure the GUI is redrawn continously\r\n\r\n        let numChildControls = this._countChildren(main._children);\r\n\r\n        let lastTime = new Date().getTime();\r\n\r\n        scene.onAfterRenderObservable.add(() => {\r\n            let curTime = new Date().getTime();\r\n\r\n            stats.text = numChildControls + \" controls, \" + adt.numLayoutCalls + \" layout calls, \" + adt.numRenderCalls + \" render calls\";\r\n            //console.log(\"duration=\" + (curTime - lastTime));\r\n\r\n            lastTime = curTime;\r\n        });\r\n\r\n        adt.addControl(main);\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"scrollviewer\", {\r\n    \"displayName\": \"Display lots of controls in a scroll viewer\",\r\n    \"description\": \"\",\r\n    \"class\": ScrollViewer,\r\n});\r\n","import {\r\n    Button,\r\n    Control,\r\n    Image,\r\n    Rectangle,\r\n    ScrollViewer,\r\n    StackPanel,\r\n    TextBlock\r\n} from \"babylonjs-gui\";\r\n\r\n  import {\r\n    chunk,\r\n    flatMap,\r\n    flatten,\r\n    forEach,\r\n    keyBy,\r\n    map,\r\n    random,\r\n    reduce\r\n  } from \"lodash\";\r\n  import { DEFAULT_SCALE, RU, RU2D } from \"./constants\";\r\n  import {\r\n    IRackView3dDeviceMembersData,\r\n    IRackViewChassisData,\r\n    IRackViewChassisLayoutData,\r\n    IRackViewDeviceData,\r\n    IRackViewPlanData,\r\n    IRackViewRackData,\r\n    IRackViewRackPositionData,\r\n    IRackViewRawDevice,\r\n    IRackViewRawRack,\r\n    IRackViewRawRackPosition,\r\n    IRackViewRoomData\r\n  } from \"./types\";\r\n\r\n  export function randomId(label: string) {\r\n    return `${label}-${Math.floor(Math.random() * 10000).toString(32)}`;\r\n  }\r\n  export const createDevice = (\r\n    index = random(100),\r\n    data: Partial<IRackViewRawDevice> = {}\r\n  ): IRackViewRawDevice => {\r\n    return {\r\n      humanKey: randomId(\"node\"),\r\n      childType: \"PhysicalNode\",\r\n      indexInsideContainer: 0,\r\n      id: index,\r\n      members: [],\r\n      ...data\r\n    };\r\n  };\r\n\r\n  export const createRack = (\r\n    index = random(1000),\r\n    data: Partial<IRackViewRawRack> = {}\r\n  ): IRackViewRawRack => {\r\n    const room = data.room || \"room1\";\r\n    return {\r\n      room,\r\n      id: index,\r\n      humanKey: randomId(\"rack\"),\r\n      height: 42,\r\n      width: 19,\r\n      depth: 34,\r\n      angle: 0,\r\n      inverted: false,\r\n      xCoordinate: 0,\r\n      yCoordinate: 0,\r\n      positions: [],\r\n      ...data\r\n    };\r\n  };\r\n\r\n  export const createMany = (\r\n    factory: (index: number) => any = createDevice,\r\n    count: number = 10\r\n  ) => {\r\n    return Array.from({ length: count }, (_, index) => factory(index));\r\n  };\r\n\r\n  export const createChassis = (\r\n    index = random(1000),\r\n    data: Partial<IRackViewRawDevice> = {}\r\n  ): IRackViewRawDevice => {\r\n    let layout = \"-2,5\";\r\n    if (data.layout) {\r\n      layout = data.layout;\r\n    }\r\n    const { rows, cols } = parseChassisLayout(layout);\r\n    const humanKey = randomId(\"chassis\");\r\n    const members = createMany(\r\n      (deviceIndex) =>\r\n        createDevice(deviceIndex, {\r\n          humanKey: randomId(\"node\"),\r\n          indexInsideContainer: deviceIndex % 3\r\n        }),\r\n      cols * rows\r\n    );\r\n\r\n    return {\r\n      ...createDevice(),\r\n      ...data,\r\n      members,\r\n      layout,\r\n      humanKey,\r\n      childType: \"Chassis\"\r\n    };\r\n  };\r\n  export const attachDevicesToRack = (\r\n    rack: IRackViewRawRack,\r\n    devices: IRackViewRawDevice[],\r\n    { devicesPerPosition = 1, height = 1 } = {}\r\n  ): IRackViewRawRack => {\r\n    rack.positions = map(devices, (device, index) => {\r\n      const p =\r\n        typeof devicesPerPosition === \"number\"\r\n          ? index % Math.round(devices.length / devicesPerPosition)\r\n          : index;\r\n      return {\r\n        device,\r\n        height,\r\n        position: p > 0 ? p * height : p\r\n      };\r\n    });\r\n    return rack;\r\n  };\r\n\r\n  export const createRacks = (\r\n    index = random(100),\r\n    {\r\n      racks = 2,\r\n      racksPerRow = 2,\r\n      devicesPerRack = 20,\r\n      devicesPerPosition = 2,\r\n      rackHeight = 50,\r\n      deviceHeight = 1,\r\n      deviceFactory = createDevice,\r\n      rackFactory = createRack\r\n    } = {}\r\n  ): IRackViewRawRack[] => {\r\n    return createMany(\r\n      (rackIndex) =>\r\n        attachDevicesToRack(\r\n          rackFactory(rackIndex, {\r\n            height: rackHeight,\r\n            room: `room-${index}`,\r\n            xCoordinate: rackIndex % racksPerRow,\r\n            yCoordinate: Math.floor(rackIndex / racksPerRow)\r\n          }),\r\n          createMany(deviceFactory, devicesPerRack),\r\n          { devicesPerPosition, height: deviceHeight }\r\n        ),\r\n      racks\r\n    );\r\n  };\r\n\r\n  export function createRooms({\r\n    rooms = 1,\r\n    racksPerRoom = 10,\r\n    racksPerRow = 2,\r\n    devicesPerRack = 20,\r\n    devicesPerPosition = 2,\r\n    rackHeight = 50,\r\n    deviceHeight = 1,\r\n    deviceFactory = createDevice,\r\n    rackFactory = createRack\r\n  } = {}): IRackViewRawRack[] {\r\n    return flatten(\r\n      createMany(\r\n        (index) =>\r\n          createRacks(index, {\r\n            racksPerRow,\r\n            deviceFactory,\r\n            devicesPerPosition,\r\n            devicesPerRack,\r\n            rackHeight,\r\n            deviceHeight,\r\n            rackFactory,\r\n            racks: racksPerRoom\r\n          }),\r\n        rooms\r\n      )\r\n    );\r\n  }\r\n\r\n  export function parseChassisLayout(\r\n    chassisLayout: string,\r\n    members?: number\r\n  ): IRackViewChassisLayoutData {\r\n    let cols = 3;\r\n    let rows = Math.ceil(members! / 3) || 3;\r\n    let layout: \"H\" | \"V\" = \"H\";\r\n    if (layout) {\r\n      layout = chassisLayout[0] === \"|\" ? \"V\" : \"H\";\r\n      const dimensions = chassisLayout.substring(1).split(\",\");\r\n      cols = dimensions[0] ? +dimensions[0] : cols;\r\n      rows = dimensions[1] ? +dimensions[1] : rows;\r\n    }\r\n    return {\r\n      cols,\r\n      rows,\r\n      layout,\r\n      slots: cols * rows\r\n    };\r\n  }\r\n  export function createSimpleButton(name: string, text: string): Button {\r\n    const button = Button.CreateSimpleButton(name, text);\r\n    button.pointerEnterAnimation = () => {};\r\n    button.pointerOutAnimation = () => {};\r\n    button.pointerUpAnimation = () => {};\r\n    button.pointerDownAnimation = () => {};\r\n    return button;\r\n  }\r\n  export function getScaledValue(value: number) {\r\n    return value * DEFAULT_SCALE;\r\n  }\r\n\r\n  export function createChassisLayoutGrid(\r\n    chassis: IRackViewRawDevice\r\n  ): IRackViewRackPositionData[] {\r\n    /* TODO: implement vertical layout*/\r\n    const { cols, rows } = parseChassisLayout(\r\n      chassis.layout as string,\r\n      chassis.members.length\r\n    );\r\n\r\n    const grid: any = [];\r\n    for (let x = 0; x < rows; x += 1) {\r\n      grid[x] = [];\r\n      for (let y = 0; y < cols; y += 1) {\r\n        grid[x][y] = {\r\n          humanKey: \"EmptySlot\",\r\n          childType: \"EmptySlot\",\r\n          indexInsideContainer: 0,\r\n          entity: {},\r\n          $members: [],\r\n          parentSlot: 0\r\n        };\r\n      }\r\n    }\r\n\r\n    const notPositioned: any = [];\r\n    forEach(chassis.members, (dev) => {\r\n      const x = Math.floor(dev.indexInsideContainer / cols);\r\n      const y = dev.indexInsideContainer % cols;\r\n      const pos = grid[x] ? grid[x][y] : null;\r\n      if (pos && pos.childType === \"EmptySlot\") {\r\n        grid[x][y] = dev;\r\n      } else {\r\n        notPositioned.push(dev);\r\n      }\r\n    });\r\n\r\n    const emptyPositions = flatMap(grid, (row, rowIndex) =>\r\n      reduce(\r\n        row,\r\n        (all: any, dev: IRackViewRawDevice, index: number) => {\r\n          if (dev.childType === \"EmptySlot\") {\r\n            all.push({ x: rowIndex, y: index });\r\n          }\r\n          return all;\r\n        },\r\n        []\r\n      )\r\n    );\r\n\r\n    forEach(\r\n      notPositioned.sort(\r\n        (a: any, b: any) => a.indexInsideContainer - b.indexInsideContainer\r\n      ),\r\n      (dev) => {\r\n        const pos = emptyPositions.shift();\r\n        if (pos) {\r\n          grid[pos.x][pos.y] = dev;\r\n        }\r\n      }\r\n    );\r\n\r\n    return map(grid, (row: any, index: any) => {\r\n      const devices = map(row, (dev: IRackViewRawDevice, i: number) => {\r\n        dev.parentSlot = i;\r\n        return deviceTo3d(dev);\r\n      });\r\n      const position = {\r\n        devices,\r\n        id: Date.now(),\r\n        name: chassis.humanKey,\r\n        height: 1,\r\n        parentSlot: index,\r\n        slotSize: RU\r\n      };\r\n      return position;\r\n    });\r\n  }\r\n  export function getContainerMembers(\r\n    device: IRackViewRawDevice\r\n  ): IRackView3dDeviceMembersData[] {\r\n    if (!device.members) {\r\n      return [];\r\n    }\r\n    return device.members.sort((a, b) => {\r\n      a.name = a.humanKey || a.$fkRight.humanKey;\r\n      return a.indexInsideContainer - b.indexInsideContainer;\r\n    });\r\n  }\r\n\r\n  export function deviceTo3d(device: IRackViewRawDevice): IRackViewDeviceData {\r\n    return {\r\n      name: device.humanKey,\r\n      type: device.childType,\r\n      indexInsideContainer: device.indexInsideContainer,\r\n      id: device.id,\r\n      powerStatus: device.powerStatus,\r\n      members: getContainerMembers(device),\r\n      parentSlot: (device as any).parentSlot || 0\r\n    };\r\n  }\r\n  export function chassisTo3d(chassis: IRackViewRawDevice): IRackViewChassisData {\r\n    const device = deviceTo3d(chassis) as IRackViewChassisData;\r\n    device.layout = parseChassisLayout(chassis.layout as string, chassis.members.length);\r\n    device.depth = 30;\r\n    device.positions = createChassisLayoutGrid(chassis);\r\n    return device;\r\n  }\r\n  export function rackTo3d(rack: IRackViewRawRack): IRackViewRackData {\r\n    return {\r\n      id: rack.id,\r\n      name: rack.humanKey,\r\n      slots: rack.height,\r\n      width: rack.width,\r\n      height: rack.height * RU,\r\n      room: rack.room,\r\n      depth: rack.depth,\r\n      angle: rack.angle,\r\n      inverted: rack.inverted,\r\n      xCoordinate: rack.xCoordinate,\r\n      yCoordinate: rack.yCoordinate,\r\n      parentPosition: { x: 0, y: 0, z: 0, col: 0, row: 0 },\r\n      positions: populateRackPositions(rack)\r\n    };\r\n  }\r\n  export const createRackPosition = (\r\n    rackPosition: IRackViewRawRackPosition,\r\n    spreadedPositions: IRackViewRackPositionData[]\r\n  ): IRackViewRackPositionData => {\r\n    const { height, position } = rackPosition;\r\n    let target = spreadedPositions[position];\r\n    if (!target) {\r\n      target = {\r\n        height,\r\n        parentSlot: position,\r\n        devices: [],\r\n        isChassis:\r\n          rackPosition.device.childType === \"Chassis\" &&\r\n          rackPosition.device.members.length > 0,\r\n        slotSize: RU\r\n      };\r\n\r\n      for (let h = 0; h < rackPosition.height; h += 1) {\r\n        if (spreadedPositions[position + h]) {\r\n          // invalid overlap\r\n          return null as any;\r\n        }\r\n      }\r\n      for (let h = 0; h < height; h += 1) {\r\n        spreadedPositions[position + h] = target;\r\n      }\r\n    }\r\n    if (target.height !== height) {\r\n      return null as any;\r\n    }\r\n\r\n    return target;\r\n  };\r\n  export function populateRackPositions(\r\n    rack: IRackViewRawRack\r\n  ): IRackViewRackPositionData[] {\r\n    const spreadedPositions: any = [];\r\n    const positionsHash = reduce(\r\n      rack.positions,\r\n      (all, rackPosition) => {\r\n        const position = createRackPosition(rackPosition, spreadedPositions);\r\n        if (position) {\r\n          if (position.isChassis) {\r\n            position.devices.push(chassisTo3d(rackPosition.device));\r\n            (all as any)[position.parentSlot] = position;\r\n          } else {\r\n            const device = deviceTo3d(rackPosition.device);\r\n            position.devices.push(device);\r\n            (all as any)[position.parentSlot] = position;\r\n          }\r\n        }\r\n        return all;\r\n      },\r\n      {}\r\n    );\r\n    const positions: IRackViewRackPositionData[] = Object.values(positionsHash);\r\n    forEach(positions, (position) => {\r\n      if (!position.isChassis) {\r\n        forEach(position.devices, (device, index) => {\r\n          device.parentSlot = index;\r\n        });\r\n        position.devices.sort((a, b) => {\r\n          return a.indexInsideContainer - b.indexInsideContainer;\r\n        });\r\n      }\r\n    });\r\n    return positions;\r\n  }\r\n\r\n  export function racksToRooms(\r\n    racks: IRackViewRawRack[],\r\n    config: any\r\n  ): IRackViewRoomData[] {\r\n    const rooms: IRackViewRoomData[] = Object.values(\r\n      reduce(\r\n        racks,\r\n        (roomsHash: Record<string, IRackViewRoomData>, rack, index) => {\r\n          const rack3d = rackTo3d(rack);\r\n          if (!roomsHash[rack.room]) {\r\n            roomsHash[rack.room] = {\r\n              id: index,\r\n              cols: Math.max(0, rack3d.xCoordinate),\r\n              rows: Math.max(0, rack3d.yCoordinate),\r\n              name: rack.room,\r\n              width: 2 * config.roomPadding,\r\n              depth: 2 * config.roomPadding,\r\n              height: config.roomHeight,\r\n              racks: [rack3d],\r\n              info: {\r\n                maxRackWidth: 3,\r\n                maxRackDepth: 34,\r\n                maxRackHeight: 49\r\n              }\r\n            };\r\n          } else {\r\n            roomsHash[rack.room].racks.push(rack3d);\r\n            roomsHash[rack.room].cols = Math.max(\r\n              roomsHash[rack.room].cols,\r\n              rack3d.xCoordinate\r\n            );\r\n            roomsHash[rack.room].rows = Math.max(\r\n              roomsHash[rack.room].rows,\r\n              rack3d.yCoordinate\r\n            );\r\n            roomsHash[rack.room].info.maxRackWidth = Math.max(\r\n              roomsHash[rack.room].info.maxRackWidth,\r\n              rack3d.width as number\r\n            );\r\n            roomsHash[rack.room].info.maxRackDepth = Math.max(\r\n              roomsHash[rack.room].info.maxRackDepth,\r\n              rack3d.depth as number\r\n            );\r\n            roomsHash[rack.room].info.maxRackHeight = Math.max(\r\n              roomsHash[rack.room].info.maxRackHeight,\r\n              rack3d.height as number\r\n            );\r\n          }\r\n          return roomsHash;\r\n        },\r\n        {}\r\n      )\r\n    );\r\n\r\n    forEach(rooms, (room: IRackViewRoomData) => {\r\n      room.rows += 1;\r\n      room.cols += 1;\r\n      const roomGrid = Array.from({ length: room.rows }, (_, row) => {\r\n        let rowWidth = 0;\r\n        let lastXCoords = config.roomPadding;\r\n        const racksRow = Array.from({ length: room.cols }, (__, col) => {\r\n          const rack = room.racks.find(\r\n            (r) => r.xCoordinate === col && r.yCoordinate === row\r\n          );\r\n          if (rack) {\r\n            rack.parentPosition!.x = lastXCoords;\r\n            rack.parentPosition!.col = rack.xCoordinate;\r\n            rack.parentPosition!.row = rack.yCoordinate;\r\n            lastXCoords +=\r\n              ([90, 270].includes(rack.angle) ? rack.depth : rack.width) +\r\n              config.racksSpacingX;\r\n            rack.parentPosition!.z =\r\n              config.roomPadding + row * (rack.depth + config.racksSpacingY);\r\n            rowWidth +=\r\n              ([90, 270].includes(rack.angle) ? rack.depth : rack.width) +\r\n              config.racksSpacingX;\r\n          }\r\n          return rack;\r\n        }).filter(Boolean);\r\n        room.depth += room.info.maxRackDepth + config.racksSpacingY;\r\n        room.height += room.info.maxRackHeight + config.racksSpacingY;\r\n        room.width = Math.max(rowWidth, room.width as number);\r\n        return racksRow;\r\n      });\r\n      (room.racks as any) = roomGrid.flat();\r\n      if (<number>room.width < config.minRoomWidth) {\r\n        room.width = config.minRoomWidth;\r\n      }\r\n      if (<number>room.depth < config.minRoomDepth) {\r\n        room.depth = config.minRoomDepth;\r\n      }\r\n    });\r\n    return rooms;\r\n  }\r\n  export function createPlan(\r\n    name: string,\r\n    rooms: IRackViewRoomData[],\r\n    config: any\r\n  ): IRackViewPlanData {\r\n    const plan: IRackViewPlanData = {\r\n      name,\r\n      rooms\r\n    };\r\n    let maxRoomWidth = 10;\r\n    let roomWidthSum = 0;\r\n    let maxRoomDepth = 10;\r\n    let roomWidthCumulative = 0;\r\n\r\n    forEach(plan.rooms, (room, index) => {\r\n      maxRoomWidth = Math.max(maxRoomWidth, room.width as number);\r\n      roomWidthSum += room.width as number;\r\n      maxRoomDepth = Math.max(maxRoomDepth, room.depth as number);\r\n      room.parentPosition = {\r\n        col: index,\r\n        row: 0,\r\n        x: config.planPadding + index * config.planPadding + roomWidthCumulative,\r\n        y: 0,\r\n        z: config.planPadding\r\n      };\r\n      roomWidthCumulative += room.width as number;\r\n    });\r\n    plan.width =\r\n      2 * config.planPadding +\r\n      roomWidthSum +\r\n      config.planPadding * (plan.rooms.length - 1);\r\n    plan.depth = 2 * config.planPadding + maxRoomDepth;\r\n    plan.height = config.planHeight;\r\n    return plan;\r\n  }\r\n\r\n  export function devicesToRacks(\r\n    roomName: string,\r\n    devices: IRackViewRawDevice[]\r\n  ) {\r\n    const devicesChunks = chunk(devices, 43);\r\n    const racksPerRow = 2;\r\n    return createMany(\r\n      (index) =>\r\n        attachDevicesToRack(\r\n          createRack(index, {\r\n            height: 42,\r\n            room: roomName,\r\n            xCoordinate: index % racksPerRow,\r\n            yCoordinate: Math.floor(index / racksPerRow)\r\n          }),\r\n          devicesChunks[index],\r\n          { devicesPerPosition: 1, height: 1 }\r\n        ),\r\n      devicesChunks.length\r\n    );\r\n  }\r\n\r\n  const rackMargin = 10;\r\n  const headerColor = \"#424242\";\r\n  const containerColor = \"#757575\";\r\n  const slotsColor = \"#e0e0e0\";\r\n  const borderColor = \"#bdbdbd\";\r\n\r\n  export function create2dPlan({\r\n    id,\r\n    depth,\r\n    width,\r\n    rooms\r\n  }: IRackViewPlanData): ScrollViewer {\r\n    const scroll = new ScrollViewer(`plan-${id}-scroll`);\r\n    scroll.width = 1;\r\n    scroll.height = 0.9;\r\n    scroll.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n    const plan = new Rectangle(`plan-${id}`);\r\n    scroll.addControl(plan);\r\n    plan.background = \"\";\r\n    plan.thickness = 0;\r\n    plan.widthInPixels = getScaledValue(width as number);\r\n    plan.heightInPixels = getScaledValue(depth as number);\r\n    plan.horizontalAlignment = 0;\r\n    plan.verticalAlignment = 0;\r\n    forEach(rooms, (roomData, index) => {\r\n      const room = create2dRoom(roomData);\r\n      const position = roomData.parentPosition;\r\n      room.topInPixels = getScaledValue(position!.y) + 50;\r\n      room.leftInPixels = getScaledValue(position!.x);\r\n      plan.addControl(room);\r\n    });\r\n    return scroll;\r\n  }\r\n\r\n  export function create2dRoom({\r\n    id,\r\n    info,\r\n    cols,\r\n    racks\r\n  }: IRackViewRoomData): StackPanel {\r\n    const room = new StackPanel(`room-${id}`);\r\n    room.isVertical = false;\r\n    room.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    room.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n    room.background = \"\";\r\n    room.widthInPixels = (getScaledValue(info.maxRackWidth) + rackMargin) * cols;\r\n    room.height = 1;\r\n    for (let col = 0; col < cols; col += 1) {\r\n      const colStack = new StackPanel(`room-${id}-col-${col}`);\r\n      colStack.background = \"\";\r\n      colStack.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n      colStack.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n      colStack.isVertical = true;\r\n      colStack.height = 1;\r\n      colStack.widthInPixels = getScaledValue(info.maxRackWidth) + rackMargin;\r\n      room.addControl(colStack);\r\n    }\r\n    info.maxRackWidth += RU2D;\r\n    forEach(racks, (rackData) => {\r\n      const [rack] = create2dRack(rackData);\r\n      const position = rackData.parentPosition;\r\n      const col = room.getChildByName(\r\n        `room-${id}-col-${position!.col}`\r\n      ) as StackPanel;\r\n      col.addControl(rack);\r\n    });\r\n    return room;\r\n  }\r\n\r\n  export function create2dRack({\r\n    id,\r\n    slots,\r\n    height,\r\n    positions,\r\n    width,\r\n    name\r\n  }: IRackViewRackData): [Rectangle, StackPanel, Rectangle] {\r\n    const slotSize = RU2D;\r\n    const widthInPixels = getScaledValue(width! + slotSize);\r\n    const rack = new Rectangle(`rack-${id}`);\r\n    rack.horizontalAlignment = Rectangle.HORIZONTAL_ALIGNMENT_LEFT;\r\n    rack.verticalAlignment = Rectangle.VERTICAL_ALIGNMENT_TOP;\r\n    rack.heightInPixels = getScaledValue(height! + slotSize) + rackMargin; // includes one extra slot for name\r\n    rack.widthInPixels = widthInPixels;\r\n    rack.color = headerColor;\r\n    rack.thickness = 2;\r\n    rack.paddingBottomInPixels = rackMargin;\r\n\r\n    const rackContainer = new StackPanel(`rack-${id}-container`);\r\n    rackContainer.isVertical = true;\r\n    rackContainer.height = 1;\r\n    rackContainer.widthInPixels = widthInPixels;\r\n    rack.addControl(rackContainer);\r\n\r\n    const rackHeader = createSimpleButton(`rack-${id}-header`, name!);\r\n    rackHeader.background = headerColor;\r\n    rackHeader.color = \"white\";\r\n    rackHeader.thickness = 0;\r\n    rackHeader.textBlock!.fontSize = getScaledValue(0.9);\r\n    rackHeader.heightInPixels = getScaledValue(slotSize);\r\n    rackHeader.width = 1;\r\n    rackHeader.textBlock!.zIndex = 2;\r\n\r\n    const rackStatus = new Rectangle(`rack-${id}-status`);\r\n    rackStatus.height = 1;\r\n    rackStatus.width = 1;\r\n    rackStatus.thickness = 0;\r\n    rackStatus.zIndex = 1;\r\n    rackStatus.alpha = 0.6;\r\n    rackHeader.addControl(rackStatus);\r\n    rackContainer.addControl(rackHeader);\r\n\r\n    const rackSlots = new StackPanel(`rack-${id}-slots`);\r\n    rackSlots.width = 1;\r\n    rackSlots.heightInPixels = getScaledValue(slotSize) * slots;\r\n    rackSlots.isVertical = false;\r\n    rackContainer.addControl(rackSlots);\r\n\r\n    const rackSlotNumbers = new StackPanel(`rack-${id}-slot-numbers`);\r\n    rackSlotNumbers.background = slotsColor;\r\n    rackSlotNumbers.widthInPixels = getScaledValue(slotSize);\r\n    rackSlotNumbers.height = 1;\r\n    rackSlotNumbers.isVertical = true;\r\n    rackSlots.addControl(rackSlotNumbers);\r\n    for (let index = 1; index <= slots; index += 1) {\r\n      const position = createSimpleButton(`rack-${id}-pos-${index}`, `${index}`);\r\n      position.heightInPixels = getScaledValue(slotSize);\r\n      position.width = 1;\r\n      position.background = slotsColor;\r\n      position.thickness = 0.5;\r\n      position.color = borderColor;\r\n      position.textBlock!.fontSize = getScaledValue(0.7);\r\n      position.textBlock!.color = \"black\";\r\n      rackSlotNumbers.addControl(position);\r\n    }\r\n    rackSlotNumbers.useBitmapCache = true;\r\n\r\n    const rackPositions = new StackPanel(`rack-${id}-positions`);\r\n    rackPositions.background = containerColor;\r\n    rackPositions.widthInPixels = widthInPixels - rackSlotNumbers.widthInPixels;\r\n    rackPositions.height = 1;\r\n    rackPositions.isVertical = true;\r\n    rackSlots.addControl(rackPositions);\r\n    rackPositions.useBitmapCache = true;\r\n\r\n    const rackHeight = slots * slotSize;\r\n    const positionsHash = keyBy(positions, \"parentSlot\");\r\n    let slot = 0;\r\n    while (slot <= slots) {\r\n      if (positionsHash[slot]) {\r\n        const positionData = positionsHash[slot];\r\n        positionData.width = width;\r\n        const rackPosition = create2dRackPosition(positionData);\r\n        rackPosition.heightInPixels =\r\n          getScaledValue(positionData.height!) * slotSize;\r\n        rackPositions.addControl(rackPosition);\r\n        slot += positionData.height!;\r\n        continue;\r\n      } else {\r\n        const emptyPosition = create2dRackPosition();\r\n        emptyPosition.heightInPixels = getScaledValue(1) * slotSize;\r\n        emptyPosition.background = \"#757575\";\r\n        rackPositions.addControl(emptyPosition);\r\n      }\r\n      slot += 1;\r\n    }\r\n    return [rack, rackPositions, rackStatus];\r\n  }\r\n\r\n  export function create2dRackPosition(data?: IRackViewRackPositionData) {\r\n    const position = new StackPanel(\r\n      `rack-position-${data ? data.id : Date.now()}`\r\n    );\r\n    position.isVertical = false;\r\n    position.background = slotsColor;\r\n    position.shadowOffsetY = -2;\r\n    position.shadowColor = borderColor;\r\n    position.width = 1;\r\n    if (data) {\r\n      const { devices, width, height, depth } = data;\r\n      const slots = devices.length;\r\n      const slotSize = width! / slots;\r\n      forEach(devices, (deviceData) => {\r\n        deviceData.width = slots > 0 ? width! / slots : width;\r\n        deviceData.height = height;\r\n        deviceData.depth = depth;\r\n        const [device] = create2dDevice(deviceData);\r\n        device.widthInPixels = getScaledValue(width!) / slots;\r\n        position.addControl(device);\r\n      });\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  export function create2dDevice(\r\n    device: IRackViewDeviceData\r\n  ): [Rectangle, Rectangle] {\r\n    const { id, type } = device;\r\n    const deviceContainer = new Rectangle(`device-${id}`);\r\n    deviceContainer.heightInPixels = getScaledValue(RU2D);\r\n    deviceContainer.useBitmapCache = true;\r\n    deviceContainer.shadowOffsetY = 2;\r\n    deviceContainer.shadowOffsetX = 2;\r\n    deviceContainer.paddingBottomInPixels = 2;\r\n    deviceContainer.thickness = 0;\r\n    deviceContainer.shadowColor = borderColor;\r\n    deviceContainer.background = slotsColor;\r\n    deviceContainer.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    deviceContainer.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n    deviceContainer.useBitmapCache = true;\r\n\r\n    if (type === \"EmptySlot\") {\r\n      return [deviceContainer, null as any];\r\n    }\r\n    const deviceIcon = new Image(\r\n      `device-${type}-icon`,\r\n      `/textures/devices/${type}.png`\r\n    );\r\n    deviceIcon.width = 0.1;\r\n    deviceIcon.height = 1;\r\n    deviceIcon.paddingBottomInPixels = 2;\r\n    deviceIcon.paddingLeftInPixels = 2;\r\n    deviceIcon.paddingRightInPixels = 2;\r\n    deviceIcon.paddingTopInPixels = 2;\r\n    deviceIcon.zIndex = 2;\r\n    deviceIcon.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\r\n    deviceContainer.addControl(deviceIcon);\r\n\r\n    const deviceName = new TextBlock(`device-${id}-name`, device.name);\r\n    deviceName.width = 0.9;\r\n    deviceName.height = 1;\r\n    deviceName.fontSize = getScaledValue(0.9);\r\n    deviceName.zIndex = 2;\r\n    deviceName.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    deviceName.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n    deviceContainer.addControl(deviceName);\r\n\r\n    const deviceStatus = new Rectangle(`device-${id}-status`);\r\n    deviceStatus.width = 1;\r\n    deviceStatus.height = 1;\r\n    deviceStatus.zIndex = 1;\r\n    deviceStatus.thickness = 0;\r\n    deviceStatus.background = slotsColor;\r\n    deviceStatus.alpha = 0.6;\r\n    deviceContainer.addControl(deviceStatus);\r\n    return [deviceContainer, deviceStatus];\r\n  }\r\n","import {\r\n    Scene,\r\n    UniversalCamera,\r\n} from \"babylonjs\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\nimport {\r\n    AdvancedDynamicTexture,\r\n    Checkbox,\r\n    TextBlock,\r\n    Control,\r\n    ScrollViewer,\r\n    Container,\r\n    Button,\r\n} from \"babylonjs-gui\";\r\n\r\nexport default class ScrollViewer2 extends SampleBasic {\r\n\r\n    protected _countChildren(lc: Control[]): number {\r\n        let num = 0;\r\n\r\n        for (let c of lc) {\r\n            num++;\r\n            if (c instanceof Container) {\r\n                num += this._countChildren(c._children);\r\n            }\r\n        }\r\n\r\n        return num;\r\n    }\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        var adt = AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n\r\n        var checkbox = new Checkbox();\r\n        checkbox.top = \"5px\";\r\n        checkbox.left = \"5px\";\r\n        checkbox.width = \"20px\";\r\n        checkbox.height = \"20px\";\r\n        checkbox.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        checkbox.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        checkbox.isChecked = false;\r\n        checkbox.color = \"green\";\r\n        checkbox.onIsCheckedChangedObservable.add(function(value) {\r\n            sv.freezeControls = value;\r\n            setbuckets.isEnabled = value;\r\n        });\r\n        adt.addControl(checkbox);\r\n\r\n        var header = new TextBlock();\r\n        header.top = \"5px\";\r\n        header.left = \"30px\";\r\n        header.text = \"freeze controls\";\r\n        header.width = \"120px\";\r\n        header.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.color = \"white\";\r\n        adt.addControl(header);\r\n\r\n        var setbuckets = new Checkbox();\r\n        setbuckets.top = \"30px\";\r\n        setbuckets.left = \"30px\";\r\n        setbuckets.width = \"20px\";\r\n        setbuckets.height = \"20px\";\r\n        setbuckets.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        setbuckets.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        setbuckets.isChecked = false;\r\n        setbuckets.isEnabled = false;\r\n        setbuckets.color = \"green\";\r\n        setbuckets.onIsCheckedChangedObservable.add(function(value) {\r\n            sv.setBucketSizes(value ? 110 : 0, value ? 40 : 0);\r\n        });\r\n        adt.addControl(setbuckets);\r\n\r\n        header = new TextBlock();\r\n        header.top = \"30px\";\r\n        header.left = \"55px\";\r\n        header.text = \"use buckets\";\r\n        header.width = \"120px\";\r\n        header.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.textVerticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.color = \"white\";\r\n        adt.addControl(header);\r\n\r\n        var stats = new TextBlock();\r\n        stats.top = \"55px\";\r\n        stats.left = \"5px\";\r\n        stats.text = \"\";\r\n        stats.width = \"500px\";\r\n        stats.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stats.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        stats.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stats.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        stats.color = \"white\";\r\n        adt.addControl(stats);\r\n\r\n        var sv = new ScrollViewer();\r\n        sv.width = 0.50;\r\n        sv.height = 0.75;\r\n        sv.background = \"orange\";\r\n        sv.forceHorizontalBar = true;\r\n        sv.forceVerticalBar = true;\r\n\r\n        (window as any).sv = sv;\r\n\r\n        adt.addControl(sv);\r\n\r\n        var cwidth = 10000, cheight = 10000;\r\n        var numButtons = 10000;\r\n        var btnWidth = 100, btnHeight = 30, btnFontSize = 12;\r\n        var colors = ['red', 'blue', 'green', 'yellow', 'white', 'lightgreen'];\r\n\r\n        var main = new Container();\r\n        main.width = cwidth + \"px\";\r\n        main.height = cheight + \"px\";\r\n\r\n        sv.addControl(main);\r\n\r\n        for (let i = 0; i < numButtons; ++i) {\r\n            var btn = Button.CreateSimpleButton(\"btn\" + i, \"Button \" + i);\r\n            btn.width = btnWidth + \"px\";\r\n            btn.height = btnHeight + \"px\";\r\n            btn.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n            btn.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n            btn.fontSize = btnFontSize;\r\n            btn.background = colors[Math.floor(Math.random() * colors.length)];\r\n            btn.left = Math.random() * cwidth + \"px\";\r\n            btn.top = Math.random() * cheight + \"px\";\r\n            main.addControl(btn);\r\n        }\r\n\r\n        scene.onBeforeRenderObservable.add(() => adt.markAsDirty()); // make sure the GUI is redrawn continously\r\n\r\n        let numChildControls = this._countChildren(main._children);\r\n\r\n        scene.onAfterRenderObservable.add(() => {\r\n            stats.text = numChildControls + \" controls, \" + adt.numLayoutCalls + \" layout calls, \" + adt.numRenderCalls + \" render calls\";\r\n        });\r\n\r\n    }\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"scrollviewer2\", {\r\n    \"displayName\": \"Display lots of controls in a scroll viewer\",\r\n    \"description\": \"\",\r\n    \"class\": ScrollViewer2,\r\n});\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    PointLight,\r\n    Color3,\r\n    CubeTexture,\r\n    SceneLoader,\r\n    ArcRotateCamera,\r\n    PBRMaterial,\r\n    DebugLayer,\r\n    Engine,\r\n    Nullable,\r\n} from \"babylonjs\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\ninterface IParams {\r\n    path: string;\r\n    model: string;\r\n    sheenColor: Color3;\r\n    metallic: number;\r\n    metallicF0Factor: number;\r\n    roughness: number;\r\n    sheenRoughness: number;\r\n    lightPos: Vector3;\r\n    lightIntensity: number;\r\n    iblIntensity: number;\r\n    camAlpha: number;\r\n    camBeta: number;\r\n    camRadius: number;\r\n    setCamera: boolean;\r\n    albedoColor: Nullable<Color3>;\r\n    albedoScaling: boolean;\r\n}\r\n\r\nconst envTextures = [\r\n    {\r\n        \"name\": \"&lt;None&gt;\",\r\n        \"path\": \"\",\r\n    },\r\n    {\r\n        \"name\": \"Studio\",\r\n        \"path\": \"https://assets.babylonjs.com/environments/studio.env\",\r\n    },\r\n    {\r\n        \"name\": \"Country\",\r\n        \"path\": \"resources/texture/country.env\",\r\n    },\r\n    {\r\n        \"name\": \"Forest\",\r\n        \"path\": \"resources/texture/forest.env\",\r\n    },\r\n    {\r\n        \"name\": \"Night\",\r\n        \"path\": \"resources/texture/night.env\",\r\n    },\r\n];\r\n\r\nconst scenes = [\r\n    {\r\n        \"name\": \"Cloth on ball\",\r\n        \"num\": 0,\r\n    },\r\n    {\r\n        \"name\": \"Couch pillow\",\r\n        \"num\": 1,\r\n    },\r\n    {\r\n        \"name\": \"Cloth on cup\",\r\n        \"num\": 3,\r\n    }\r\n];\r\n\r\nconst materials = [\r\n    {\r\n        \"name\": \"Blue\",\r\n        \"albedo\": new BABYLON.Color3(12 / 255, 60 / 255, 222 / 255),\r\n        \"sheen\": new BABYLON.Color3(1, 1, 1),\r\n        \"sheenRoughness\": 0.5,\r\n    },\r\n    {\r\n        \"name\": \"Red\",\r\n        \"albedo\": new BABYLON.Color3(0, 0, 0),\r\n        \"sheen\": new BABYLON.Color3(1, 0, 0),\r\n        \"sheenRoughness\": 1.0,\r\n    },\r\n    {\r\n        \"name\": \"White\",\r\n        \"albedo\": new BABYLON.Color3(1, 1, 1),\r\n        \"sheen\": new BABYLON.Color3(207 / 255, 207 / 255, 207 / 255),\r\n        \"sheenRoughness\": 0.5,\r\n    },\r\n];\r\n\r\nexport default class Sheen extends SampleBasic {\r\n\r\n    private _scene: Scene;\r\n    private _currEnv: number;\r\n    private _currScene: number;\r\n    private _currMaterial: number;\r\n    private _material: PBRMaterial;\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        this._scene = scene;\r\n        this._currEnv = 2;\r\n        this._currScene = 2;\r\n        this._currMaterial = 0;\r\n\r\n        this._loadScene(this._currScene);\r\n    }\r\n\r\n    private _loadScene(numScene: number): void {\r\n        let scene = this._scene;\r\n\r\n        if (scene.debugLayer.isVisible()) {\r\n            scene.debugLayer.hide();\r\n        }\r\n\r\n        this._releaseScene(scene);\r\n\r\n        this._currScene = numScene;\r\n\r\n        const params = this._getModelParams(scenes[numScene].num);\r\n\r\n        SceneLoader.Append(params.path, params.model, scene, () => {\r\n            if (scene.activeCamera) {\r\n                scene.activeCamera._activeMeshes.dispose();\r\n                scene.activeCamera = null;\r\n            }\r\n\r\n            while (scene.cameras.length) {\r\n                scene.cameras[0].dispose();\r\n            }\r\n\r\n            scene.createDefaultCamera(true, true, true);\r\n\r\n            this._split.camera = scene.activeCamera as unknown as UniversalCamera;\r\n\r\n            scene.environmentIntensity = params.iblIntensity;\r\n\r\n            var l = new PointLight(\"light\", params.lightPos, scene);\r\n\r\n            l.intensity = params.lightIntensity;\r\n\r\n            var camera = scene.activeCamera as unknown as ArcRotateCamera;\r\n\r\n            camera.alpha = Math.PI / 3;\r\n            camera.beta = Math.PI / 2 - 0.3;\r\n            //camera.useAutoRotationBehavior = true;\r\n            camera.lowerRadiusLimit = 0.5;\r\n            camera.upperRadiusLimit = 1000;\r\n            camera.panningSensibility = 0;\r\n            camera.pinchDeltaPercentage = 0.005;\r\n\r\n            if (params.setCamera) {\r\n                camera.alpha = params.camAlpha;\r\n                camera.beta = params.camBeta;\r\n                camera.radius = params.camRadius;\r\n            }\r\n\r\n            var mesh = scene.meshes[1];\r\n            var mat = mesh.material as PBRMaterial;\r\n\r\n            (window as any).mat = mat;\r\n            this._material = mat;\r\n\r\n            if (params.albedoColor) {\r\n                mat.albedoColor = params.albedoColor;\r\n            }\r\n            mat.metallic = params.metallic;\r\n            mat.metallicF0Factor = params.metallicF0Factor;\r\n            mat.roughness = params.roughness;\r\n            mat.sheen.color = params.sheenColor;\r\n            mat.sheen.isEnabled = true;\r\n            mat.sheen.roughness = params.sheenRoughness;\r\n            mat.sheen.albedoScaling = params.albedoScaling;\r\n\r\n            this._changeMaterial(this._currMaterial);\r\n\r\n            this._setEnvironment(this._currEnv);\r\n\r\n            /*var t = 0;\r\n\r\n            scene.onBeforeRenderObservable.add(() => {\r\n                l.position.x = 7 * Math.cos(t);\r\n                l.position.z = 7 * Math.sin(t);\r\n                t += 0.02;\r\n            });*/\r\n\r\n            /*mat.inspectableCustomProperties = [\r\n                {\r\n                    label: \"Enable shadowing term\",\r\n                    propertyName: \"enableShadowingTerm\",\r\n                    type: BABYLON.InspectableType.Checkbox\r\n                }\r\n            ];*/\r\n\r\n            DebugLayer.InspectorURL = 'resources/lib/babylon.inspector.bundle.max.js';\r\n\r\n            scene.debugLayer.show({ showExplorer: true }).then(() => {\r\n                window.setTimeout(() => {\r\n                    scene.debugLayer.select(mat, \"SHEEN\");\r\n                    this._makeGUI(scene, mat);\r\n                }, 500);\r\n            });\r\n        });\r\n    }\r\n\r\n    private _getModelParams(numModel: number): IParams {\r\n        const params = this._getDefaultParams();\r\n\r\n        switch (numModel) {\r\n            case 0:\r\n                params.sheenColor = new Color3(1, 1, 1);\r\n                params.albedoColor = new Color3(12 / 255, 60 / 255, 222 / 255);\r\n                params.sheenRoughness = 0.4;\r\n                params.setCamera = true;\r\n                params.camAlpha = 1.0471975511965976;\r\n                params.camBeta = 1.2707963267948965;\r\n                params.camRadius = 6.954951280362775;\r\n                break;\r\n            case 1:\r\n                params.path = \"resources/3d/couch_pillow/\";\r\n                params.model = \"scene.gltf\";\r\n                params.sheenColor = new Color3(207 / 255, 207 / 255, 207 / 255);\r\n                break;\r\n            case 2:\r\n                params.path = \"resources/3d/4_sacks/\";\r\n                params.model = \"scene.gltf\";\r\n                params.sheenColor = new Color3(207 / 255, 207 / 255, 207 / 255);\r\n                params.lightPos = new Vector3(3, 100, 0);\r\n                params.lightIntensity = 1000;\r\n                break;\r\n            case 3:\r\n                params.path = \"resources/3d/cloth_on_cup/\";\r\n                params.model = \"scene.gltf\";\r\n                params.sheenColor = new Color3(1, 1, 1);\r\n                params.lightPos = new Vector3(3, 10, 0);\r\n                params.lightIntensity = 100;\r\n                params.setCamera = true;\r\n                params.camAlpha = -1.3933468840693315;\r\n                params.camBeta = 0.9755170324890405;\r\n                params.camRadius = 7.6498204430171235;\r\n                params.albedoColor = new Color3(12 / 255, 60 / 255, 222 / 255);\r\n                break;\r\n        }\r\n\r\n        return params;\r\n    }\r\n\r\n    private _getDefaultParams(): IParams {\r\n        return {\r\n            path: \"https://models.babylonjs.com/Sheen/\",\r\n            model: \"Cloth.gltf\",\r\n            sheenColor: new Color3(159 / 255, 162 / 255, 247 / 255),\r\n            metallic: 0,\r\n            metallicF0Factor: 0.0,\r\n            roughness: 0.8,\r\n            sheenRoughness: 0.5,\r\n            lightPos: new Vector3(3, 3, 0),\r\n            lightIntensity: 16,\r\n            iblIntensity: 0.25,\r\n            camAlpha: -1,\r\n            camBeta: -1,\r\n            camRadius: -1,\r\n            setCamera: false,\r\n            albedoColor: null,\r\n            albedoScaling: true,\r\n        };\r\n    }\r\n\r\n    private _changeMaterial(matIdx: number): void {\r\n        this._currMaterial = matIdx;\r\n\r\n        const material = materials[matIdx];\r\n\r\n        this._material.sheen.color = material.sheen;\r\n        this._material.sheen.roughness = material.sheenRoughness;\r\n        this._material.albedoColor = material.albedo;\r\n    }\r\n\r\n    private _makeGUI(scene: Scene, mat: PBRMaterial): void {\r\n        let c = jQuery('#renderCanvas').parent();\r\n\r\n        c.css('position', 'relative')\r\n            .css('text-shadow', '1px 1px black')\r\n            .css('font-family', '\"Arial');\r\n\r\n        let that = this as any;\r\n\r\n        let environmentTexture = jQuery('<span>Env texture </span>')\r\n            .append('<select>' + envTextures.map((env, idx) => '<option value=\"' + idx + '\" ' + (idx == this._currEnv ? 'selected' : '') + '>' + env.name + '</option>').join('') + '</select>')\r\n            .css('color', 'white')\r\n            .css('position', 'absolute')\r\n            .css('left', '10px')\r\n            .css('top', '10px')\r\n            .on('change', function(e) {\r\n                that._setEnvironment(parseInt('' + jQuery(this).find('select').val()));\r\n            });\r\n\r\n        let sceneObjects = jQuery('<span>Scene </span>')\r\n            .append('<select>' + scenes.map((sc, idx) => '<option value=\"' + idx + '\" ' + (idx == this._currScene ? 'selected' : '') + '>' + sc.name + '</option>').join('') + '</select>')\r\n            .css('color', 'white')\r\n            .css('position', 'absolute')\r\n            .css('left', '10px')\r\n            .css('top', '35px')\r\n            .on('change', function(e) {\r\n                that._loadScene(parseInt('' + jQuery(this).find('select').val()));\r\n            });\r\n\r\n        let sceneMaterials = jQuery('<span>Material </span>')\r\n            .append('<select>' + materials.map((mat, idx) => '<option value=\"' + idx + '\" ' + (idx == this._currMaterial ? 'selected' : '') + '>' + mat.name + '</option>').join('') + '</select>')\r\n            .css('color', 'white')\r\n            .css('position', 'absolute')\r\n            .css('left', '10px')\r\n            .css('top', '60px')\r\n            .on('change', function(e) {\r\n                that._changeMaterial(parseInt('' + jQuery(this).find('select').val()));\r\n            });\r\n\r\n        let enableSheen = jQuery('<span>Enable sheen </span>')\r\n            .append('<input type=\"checkbox\" checked>')\r\n            .css('color', 'white')\r\n            .css('position', 'absolute')\r\n            .css('left', '10px')\r\n            .css('top', '85px')\r\n            .on('click', function(e) {\r\n                mat.sheen.isEnabled = jQuery(this).find('input').prop('checked');\r\n            });\r\n\r\n        c.append(environmentTexture);\r\n        c.append(sceneObjects);\r\n        c.append(sceneMaterials);\r\n        c.append(enableSheen);\r\n    }\r\n\r\n    private _setEnvironment(envNum: number): void {\r\n        this._currEnv = envNum;\r\n\r\n        let sky = this._scene.getMeshByID('hdrSkyBox');\r\n\r\n        if (sky) {\r\n            sky.material?.dispose();\r\n            sky.dispose();\r\n        }\r\n\r\n        if (envNum === 0) {\r\n            this._scene.environmentIntensity = 0;\r\n        } else {\r\n            if (this._scene.environmentTexture) {\r\n                this._scene.environmentTexture.dispose();\r\n            }\r\n            this._scene.environmentTexture = CubeTexture.CreateFromPrefilteredData(envTextures[envNum].path, this._scene);\r\n            this._scene.createDefaultSkybox(this._scene.environmentTexture!, false, 1000, 0, false);\r\n            const params = this._getModelParams(scenes[this._currScene].num);\r\n            this._scene.environmentIntensity = params.iblIntensity;\r\n        }\r\n    }\r\n\r\n    private _getEnvBRDFTexture(engine: Engine, scene: Scene): void {\r\n        window.setTimeout(() => {\r\n            let w = 256, h = 256;\r\n            let buffer = new Float32Array(4 * w * h);\r\n\r\n            engine._readTexturePixels(scene.environmentBRDFTexture.getInternalTexture()!, w, h, -1, 0, buffer);\r\n\r\n            let img = {\r\n                name: \"environmentBRDF\",\r\n                r: [],\r\n                g: [],\r\n                b: [],\r\n            };\r\n\r\n            for (let i = 0; i < w * h; ++i) {\r\n                (img.r as number[]).push(buffer[i * 4 + 0]);\r\n                (img.g as number[]).push(buffer[i * 4 + 1]);\r\n                (img.b as number[]).push(buffer[i * 4 + 2]);\r\n            }\r\n\r\n            console.log(JSON.stringify(img));\r\n\r\n            (window as any).ii = img;\r\n        }, 2000);\r\n\r\n    }\r\n\r\n    private _releaseScene(scene: Scene): void {\r\n        scene.beforeRender = null;\r\n        scene.afterRender = null;\r\n\r\n        scene.skeletons = [];\r\n        scene.morphTargetManagers = [];\r\n        (scene as any)._transientComponents = [];\r\n        scene._isReadyForMeshStage.clear();\r\n        scene._beforeEvaluateActiveMeshStage.clear();\r\n        scene._evaluateSubMeshStage.clear();\r\n        scene._activeMeshStage.clear();\r\n        scene._cameraDrawRenderTargetStage.clear();\r\n        scene._beforeCameraDrawStage.clear();\r\n        scene._beforeRenderTargetDrawStage.clear();\r\n        scene._beforeRenderingGroupDrawStage.clear();\r\n        scene._beforeRenderingMeshStage.clear();\r\n        scene._afterRenderingMeshStage.clear();\r\n        scene._afterRenderingGroupDrawStage.clear();\r\n        scene._afterCameraDrawStage.clear();\r\n        scene._afterRenderTargetDrawStage.clear();\r\n        scene._afterRenderStage.clear();\r\n        scene._beforeCameraUpdateStage.clear();\r\n        scene._beforeClearStage.clear();\r\n        scene._gatherRenderTargetsStage.clear();\r\n        scene._gatherActiveCameraRenderTargetsStage.clear();\r\n        scene._pointerMoveStage.clear();\r\n        scene._pointerDownStage.clear();\r\n        scene._pointerUpStage.clear();\r\n\r\n        for (let component of scene._components) {\r\n            component.dispose();\r\n        }\r\n\r\n        scene._components = [];\r\n\r\n        scene.importedMeshesFiles = new Array<string>();\r\n\r\n        if (scene.stopAllAnimations) {\r\n            scene.stopAllAnimations();\r\n        }\r\n\r\n        scene.resetCachedMaterial();\r\n\r\n        // Smart arrays\r\n        (scene as any)._activeMeshes.reset();\r\n        scene._activeParticleSystems.reset();\r\n        (scene as any)._activeSkeletons.reset();\r\n        (scene as any)._softwareSkinnedMeshes.reset();\r\n        (scene as any)._renderTargets.reset();\r\n        (scene as any)._registeredForLateAnimationBindings.reset();\r\n        (scene as any)._meshesForIntersections.reset();\r\n        (scene as any)._toBeDisposed = [];\r\n\r\n        // Abort active requests\r\n        for (let request of (scene as any)._activeRequests) {\r\n            request.abort();\r\n        }\r\n\r\n        // Events\r\n        scene.onDisposeObservable.clear();\r\n        scene.onBeforeRenderObservable.clear();\r\n        scene.onAfterRenderObservable.clear();\r\n        scene.onBeforeRenderTargetsRenderObservable.clear();\r\n        scene.onAfterRenderTargetsRenderObservable.clear();\r\n        scene.onAfterStepObservable.clear();\r\n        scene.onBeforeStepObservable.clear();\r\n        scene.onBeforeActiveMeshesEvaluationObservable.clear();\r\n        scene.onAfterActiveMeshesEvaluationObservable.clear();\r\n        scene.onBeforeParticlesRenderingObservable.clear();\r\n        scene.onAfterParticlesRenderingObservable.clear();\r\n        scene.onBeforeDrawPhaseObservable.clear();\r\n        scene.onAfterDrawPhaseObservable.clear();\r\n        scene.onBeforeAnimationsObservable.clear();\r\n        scene.onAfterAnimationsObservable.clear();\r\n        scene.onDataLoadedObservable.clear();\r\n        scene.onBeforeRenderingGroupObservable.clear();\r\n        scene.onAfterRenderingGroupObservable.clear();\r\n        scene.onMeshImportedObservable.clear();\r\n        scene.onBeforeCameraRenderObservable.clear();\r\n        scene.onAfterCameraRenderObservable.clear();\r\n        scene.onReadyObservable.clear();\r\n        scene.onNewCameraAddedObservable.clear();\r\n        scene.onCameraRemovedObservable.clear();\r\n        scene.onNewLightAddedObservable.clear();\r\n        scene.onLightRemovedObservable.clear();\r\n        scene.onNewGeometryAddedObservable.clear();\r\n        scene.onGeometryRemovedObservable.clear();\r\n        scene.onNewTransformNodeAddedObservable.clear();\r\n        scene.onTransformNodeRemovedObservable.clear();\r\n        scene.onNewMeshAddedObservable.clear();\r\n        scene.onMeshRemovedObservable.clear();\r\n        scene.onNewSkeletonAddedObservable.clear();\r\n        scene.onSkeletonRemovedObservable.clear();\r\n        scene.onNewMaterialAddedObservable.clear();\r\n        scene.onMaterialRemovedObservable.clear();\r\n        scene.onNewTextureAddedObservable.clear();\r\n        scene.onTextureRemovedObservable.clear();\r\n        scene.onPrePointerObservable.clear();\r\n        scene.onPointerObservable.clear();\r\n        scene.onPreKeyboardObservable.clear();\r\n        scene.onKeyboardObservable.clear();\r\n        scene.onActiveCameraChanged.clear();\r\n\r\n        //scene.detachControl();\r\n\r\n        // Detach cameras\r\n        var canvas = scene.getEngine().getInputElement();\r\n\r\n        if (canvas) {\r\n            var index;\r\n            for (index = 0; index < scene.cameras.length; index++) {\r\n                scene.cameras[index].detachControl(canvas);\r\n            }\r\n        }\r\n\r\n        // Release animation groups\r\n        while (scene.animationGroups.length) {\r\n            scene.animationGroups[0].dispose();\r\n        }\r\n\r\n        // Release lights\r\n        while (scene.lights.length) {\r\n            scene.lights[0].dispose();\r\n        }\r\n\r\n        // Release meshes\r\n        while (scene.meshes.length) {\r\n            scene.meshes[0].dispose(true);\r\n        }\r\n        while (scene.transformNodes.length) {\r\n            scene.transformNodes[0].dispose(true);\r\n        }\r\n\r\n        // Release materials\r\n        if ((scene as any)._defaultMaterial) {\r\n            (scene as any)._defaultMaterial.dispose();\r\n        }\r\n        while (scene.multiMaterials.length) {\r\n            scene.multiMaterials[0].dispose();\r\n        }\r\n        while (scene.materials.length) {\r\n            scene.materials[0].dispose();\r\n        }\r\n\r\n        // Release particles\r\n        while (scene.particleSystems.length) {\r\n            scene.particleSystems[0].dispose();\r\n        }\r\n\r\n        // Release postProcesses\r\n        while (scene.postProcesses.length) {\r\n            scene.postProcesses[0].dispose();\r\n        }\r\n\r\n        // Release textures\r\n        while (scene.textures.length) {\r\n            scene.textures[0].dispose();\r\n        }\r\n\r\n        (scene as any).environmentBRDFTexture = null;\r\n\r\n        // Release UBO\r\n        /*!scene._sceneUbo.dispose();\r\n\r\n        if (scene._multiviewSceneUbo) {\r\n            scene._multiviewSceneUbo.dispose();\r\n        }*/\r\n\r\n        // Post-processes\r\n        //!scene.postProcessManager.dispose();\r\n\r\n        // Remove from engine\r\n        /*index = scene._engine.scenes.indexOf(this);\r\n\r\n        if (index > -1) {\r\n            this._engine.scenes.splice(index, 1);\r\n        }\r\n*/\r\n        this._engine.wipeCaches(true);\r\n    }\r\n\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"sheen\", {\r\n    \"displayName\": \"Test of the new sheen implementation\",\r\n    \"description\": \"\",\r\n    \"class\": Sheen,\r\n});\r\n","import {\r\n    Scene,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Texture,\r\n    Vector3,\r\n    HemisphericLight,\r\n    MeshBuilder,\r\n    DepthRenderer,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport Split from \"../Split\";\r\n\r\nexport default class DepthLinearNoShader extends Split {\r\n\r\n    public createGUI(): void {\r\n        this.gui!.dimensions.height = 50;\r\n        this.gui!.showCloseButton = false;\r\n\r\n        super.createGUI();\r\n    }\r\n\r\n    public initialize(): void {\r\n        var light = new HemisphericLight(\"HemiLight\", new Vector3(0, 2, 0), this.scene);\r\n\r\n        this.camera.maxZ = 100;\r\n\r\n        var renderer = (this.scene as any).enableDepthRenderer(this.camera, false) as DepthRenderer;\r\n\r\n        renderer.useOnlyInActiveCamera = true;\r\n        renderer.getDepthMap().ignoreCameraViewport = false;\r\n\r\n        // Box1\r\n        var boxMaterial = new StandardMaterial(\"box\", this.scene);\r\n\r\n        boxMaterial.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box = MeshBuilder.CreateBox(\"box\", {}, this.scene);\r\n\r\n        box.material = boxMaterial;\r\n\r\n        // Box2\r\n        var box2Material = new StandardMaterial(\"box2\", this.scene);\r\n\r\n        box2Material.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box2 = MeshBuilder.CreateBox(\"box2\", {}, this.scene);\r\n\r\n        box2.material = box2Material;\r\n        box2.position.x = 1.5;\r\n        box2.position.z = 2;\r\n\r\n        var canvasZone = document.body;\r\n\r\n        var sprites = [\r\n            { pos: new Vector3(1, 0, 0), elem: document.createElement('div'), color: '#00ff00', width: 40, height: 40 },\r\n            { pos: new Vector3(0, 0.5, 1.0), elem: document.createElement('div'), color: '#ff0000', width: 40, height: 40 }\r\n        ];\r\n\r\n        sprites.forEach((sprite) => {\r\n            sprite.elem.style.position = 'absolute';\r\n            sprite.elem.style.width = sprite.width + 'px';\r\n            sprite.elem.style.height = sprite.height + 'px';\r\n            sprite.elem.style.backgroundColor = sprite.color;\r\n            sprite.elem.style.top = '0px';\r\n            sprite.elem.style.left = '0px';\r\n\r\n            canvasZone.appendChild(sprite.elem);\r\n        });\r\n\r\n        var depthMap = renderer.getDepthMap();\r\n\r\n        var buffer = new Float32Array(4 * depthMap.getSize().width * depthMap.getSize().height);\r\n\r\n        //this.scene.autoClear = true;\r\n\r\n        this.scene.onAfterRenderObservable.add(() => {\r\n\r\n            depthMap.readPixels(0, 0, buffer); // that's too slow to do that each frame...\r\n\r\n            sprites.forEach((sprite) => {\r\n                var posInView = Vector3.TransformCoordinates(sprite.pos, this.scene.getViewMatrix());\r\n                var posInViewProj = Vector3.TransformCoordinates(sprite.pos, this.scene.getTransformMatrix());\r\n                var screenCoords = posInViewProj.multiplyByFloats(0.5, -0.5, 1.0).add(new Vector3(0.5, 0.5, 0.0)).\r\n                                        multiplyByFloats(this.scene.getEngine().getRenderWidth(), this.scene.getEngine().getRenderHeight(), 1);\r\n\r\n                var px = screenCoords.x - sprite.width / 2;\r\n                var py = screenCoords.y - sprite.height / 2;\r\n\r\n                sprite.elem.style.left = (px + canvasZone.offsetLeft) + 'px';\r\n                sprite.elem.style.top = (py + canvasZone.offsetTop) + 'px';\r\n\r\n                px = Math.floor(px + sprite.width / 2);\r\n                py = Math.floor(this.scene.getEngine().getRenderHeight() - (py + sprite.height / 2));\r\n\r\n                var zInZBuff = buffer[4 * (px + py * depthMap.getSize().width)];\r\n\r\n                var z = (posInView.z - this.camera.minZ) / (-this.camera.minZ + this.camera.maxZ);\r\n\r\n                if (z > zInZBuff) {\r\n                    sprite.elem.style.opacity = \"0.3\";\r\n                } else {\r\n                    sprite.elem.style.opacity = \"1.0\";\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n","import {\r\n    Effect,\r\n    Scene,\r\n    ShaderMaterial,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Texture,\r\n    Vector3,\r\n    HemisphericLight,\r\n    MeshBuilder,\r\n    Engine,\r\n    Vector2,\r\n    DepthRenderer,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport Split from \"../Split\";\r\n\r\nexport default class DepthLinearShader extends Split {\r\n\r\n    public createGUI(): void {\r\n        this.gui!.dimensions.height = 50;\r\n        this.gui!.showCloseButton = false;\r\n\r\n        super.createGUI();\r\n    }\r\n\r\n    public initialize(): void {\r\n        var light = new HemisphericLight(\"HemiLight2\", new Vector3(0, 2, 0), this.scene);\r\n\r\n        var renderer = (this.scene as any).enableDepthRenderer(this.camera, false) as DepthRenderer;\r\n\r\n        renderer.useOnlyInActiveCamera = true;\r\n        renderer.getDepthMap().ignoreCameraViewport = false;\r\n\r\n        Effect.ShadersStore[\"custom2VertexShader\"] = `\r\n            precision highp float;\r\n            attribute vec3 position;\r\n            attribute vec2 uv;\r\n            uniform mat4 worldViewProjection;\r\n            varying vec2 vUV;\r\n            void main(void) {\r\n                gl_Position = worldViewProjection * vec4(position, 1.0);\r\n                vUV = uv;\r\n            }`;\r\n\r\n        Effect.ShadersStore[\"custom2FragmentShader\"] = `\r\n            precision highp float;\r\n            const float znear = 1.0;\r\n            const float zfar = 10000.0;\r\n            varying vec2 vUV;\r\n            uniform vec2 screenSize;\r\n            uniform sampler2D textureSampler;\r\n            uniform highp sampler2D depth;\r\n            float linearDepth(float z) {\r\n                float zlin = (znear * zfar) / (zfar - z * (zfar - znear));\r\n                return (zlin - znear) / (zfar - znear);\r\n            }\r\n            void main(void) {\r\n                vec2 coords = gl_FragCoord.xy / screenSize;\r\n                float d = texture2D(depth, coords).x;\r\n                float z = linearDepth(gl_FragCoord.z);\r\n                float a = z > d ? 0.3 : 1.0;\r\n                gl_FragColor = vec4(texture2D(textureSampler, vUV).xyz, a);\r\n            }`;\r\n\r\n        // Box1\r\n        var boxMaterial = new StandardMaterial(\"boxb\", this.scene);\r\n\r\n        boxMaterial.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box = MeshBuilder.CreateBox(\"boxb\", {}, this.scene);\r\n\r\n        box.material = boxMaterial;\r\n\r\n        // Box2\r\n        var box2Material = new StandardMaterial(\"box2b\", this.scene);\r\n\r\n        box2Material.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box2 = MeshBuilder.CreateBox(\"box2b\", {}, this.scene);\r\n\r\n        box2.material = box2Material;\r\n        box2.position.x = 1.5;\r\n        box2.position.z = 2;\r\n\r\n        // Sprite1\r\n        var spriteMaterial = new ShaderMaterial(\"mat2\", this.scene, {\r\n            vertex: \"custom2\",\r\n            fragment: \"custom2\",\r\n            },\r\n            {\r\n                attributes: [\"position\", \"uv\"],\r\n                uniforms: [\"worldViewProjection\", \"screenSize\"],\r\n                needAlphaBlending: true\r\n            });\r\n\r\n        spriteMaterial.setTexture(\"depth\", renderer.getDepthMap());\r\n        spriteMaterial.setTexture(\"textureSampler\", new Texture(\"resources/texture/floor.png\", this.scene));\r\n        spriteMaterial.backFaceCulling = false;\r\n        spriteMaterial.disableDepthWrite = true;\r\n        spriteMaterial.alphaMode = Engine.ALPHA_COMBINE;\r\n        spriteMaterial.depthFunction = Engine.ALWAYS;\r\n\r\n        var sprite = MeshBuilder.CreatePlane(\"spriteb\", { size: 0.3 }, this.scene);\r\n\r\n        sprite.material = spriteMaterial;\r\n        sprite.position.x = 1.0;\r\n\r\n        // Sprite2\r\n        var sprite2 = MeshBuilder.CreatePlane(\"spriteb\", { size: 0.3 }, this.scene);\r\n\r\n        sprite2.material = spriteMaterial;\r\n        sprite2.position.y = 0.5;\r\n        sprite2.position.z = 1.0;\r\n\r\n        var engine = this.scene.getEngine();\r\n\r\n        this.scene.onBeforeRenderObservable.add(() => {\r\n            spriteMaterial.setVector2(\"screenSize\", new Vector2(engine.getRenderWidth(), engine.getRenderHeight()));\r\n        });\r\n\r\n        [sprite, sprite2].forEach((spr) => {\r\n            spr.onBeforeRenderObservable.add(() => {\r\n                spr.lookAt(this.camera.position);\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n","import {\r\n    Effect,\r\n    Scene,\r\n    ShaderMaterial,\r\n    StandardMaterial,\r\n    UniversalCamera,\r\n    Texture,\r\n    Vector3,\r\n    HemisphericLight,\r\n    MeshBuilder,\r\n    Engine,\r\n    Vector2,\r\n    DepthRenderer,\r\n} from \"babylonjs\";\r\n\r\nimport Sample from \"../Sample\";\r\nimport Split from \"../Split\";\r\n\r\nexport default class DepthNonLinearShader extends Split {\r\n\r\n    public createGUI(): void {\r\n        this.gui!.dimensions.height = 50;\r\n        this.gui!.showCloseButton = false;\r\n\r\n        super.createGUI();\r\n    }\r\n\r\n    public initialize(): void {\r\n        var light = new HemisphericLight(\"HemiLight\", new Vector3(0, 2, 0), this.scene);\r\n\r\n        var renderer = (this.scene as any).enableDepthRenderer(this.camera, true) as DepthRenderer;\r\n\r\n        renderer.useOnlyInActiveCamera = true;\r\n        renderer.getDepthMap().ignoreCameraViewport = false;\r\n\r\n        Effect.ShadersStore[\"custom1VertexShader\"] = `\r\n            precision highp float;\r\n            attribute vec3 position;\r\n            attribute vec2 uv;\r\n            uniform mat4 worldViewProjection;\r\n            varying vec2 vUV;\r\n            void main(void) {\r\n                gl_Position = worldViewProjection * vec4(position, 1.0);\r\n                vUV = uv;\r\n            }`;\r\n\r\n        Effect.ShadersStore[\"custom1FragmentShader\"] = `\r\n            precision highp float;\r\n            varying vec2 vUV;\r\n            uniform vec2 screenSize;\r\n            uniform sampler2D textureSampler;\r\n            uniform highp sampler2D depth;\r\n               void main(void) {\r\n                vec2 coords = gl_FragCoord.xy / screenSize;\r\n                float d = texture2D(depth, coords).x;\r\n                float z = gl_FragCoord.z;\r\n                float a = z > d ? 0.3 : 1.0;\r\n                gl_FragColor = vec4(texture2D(textureSampler, vUV).xyz, a);\r\n            }`;\r\n\r\n        // Box1\r\n        var boxMaterial = new StandardMaterial(\"box\", this.scene);\r\n\r\n        boxMaterial.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box = MeshBuilder.CreateBox(\"box\", {}, this.scene);\r\n\r\n        box.material = boxMaterial;\r\n\r\n        // Box2\r\n        var box2Material = new StandardMaterial(\"box2\", this.scene);\r\n\r\n        box2Material.diffuseTexture = new Texture(\"resources/texture/crate.png\", this.scene);\r\n\r\n        var box2 = MeshBuilder.CreateBox(\"box2\", {}, this.scene);\r\n\r\n        box2.material = box2Material;\r\n        box2.position.x = 1.5;\r\n        box2.position.z = 2;\r\n\r\n        // Sprite1\r\n        var spriteMaterial = new ShaderMaterial(\"mat1\", this.scene, {\r\n            vertex: \"custom1\",\r\n            fragment: \"custom1\",\r\n            },\r\n            {\r\n                attributes: [\"position\", \"uv\"],\r\n                uniforms: [\"worldViewProjection\", \"screenSize\"],\r\n                needAlphaBlending: true\r\n            });\r\n\r\n        spriteMaterial.setTexture(\"depth\", renderer.getDepthMap());\r\n        spriteMaterial.setTexture(\"textureSampler\", new Texture(\"resources/texture/floor.png\", this.scene));\r\n        spriteMaterial.backFaceCulling = false;\r\n        spriteMaterial.disableDepthWrite = true;\r\n        spriteMaterial.alphaMode = Engine.ALPHA_COMBINE;\r\n        spriteMaterial.depthFunction = Engine.ALWAYS;\r\n\r\n        var sprite = MeshBuilder.CreatePlane(\"sprite\", { size: 0.3 }, this.scene);\r\n\r\n        sprite.material = spriteMaterial;\r\n        sprite.position.x = 1.0;\r\n\r\n        // Sprite2\r\n        var sprite2 = MeshBuilder.CreatePlane(\"sprite\", { size: 0.3 }, this.scene);\r\n\r\n        sprite2.material = spriteMaterial;\r\n        sprite2.position.y = 0.5;\r\n        sprite2.position.z = 1.0;\r\n\r\n        var engine = this.scene.getEngine();\r\n\r\n        this.scene.autoClear = true;\r\n\r\n        this.scene.onBeforeRenderObservable.add(() => {\r\n            spriteMaterial.setVector2(\"screenSize\", new Vector2(engine.getRenderWidth(), engine.getRenderHeight()));\r\n        });\r\n\r\n        [sprite, sprite2].forEach((spr) => {\r\n            spr.onBeforeRenderObservable.add(() => {\r\n                spr.lookAt(this.camera.position);\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    Color3,\r\n    Color4,\r\n    Quaternion,\r\n    Matrix,\r\n    SceneLoader,\r\n    UniversalCamera,\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport Sample, { enumSplitMode } from \"../Sample\";\r\n\r\nimport DepthNonLinearShader from \"./DepthNonLinearShader\";\r\nimport DepthLinearShader from \"./DepthLinearShader\";\r\nimport DepthLinearNoShader from \"./DepthLinearNoShader\";\r\n\r\nexport default class CSMSample extends Sample {\r\n\r\n    constructor(engine: Engine, canvas: HTMLCanvasElement) {\r\n        super(engine, canvas);\r\n\r\n        this._clearColor = new Color4(51 / 255, 52 / 255, 75 / 255, 1);\r\n        this._cameraSpeed = 2.5;\r\n        this.splitMode = enumSplitMode.SIDE_BY_SIDE;\r\n\r\n        this.registerClass(\"depth_nonlinear_shader\", DepthNonLinearShader);\r\n        this.registerClass(\"depth_linear_shader\", DepthLinearShader);\r\n        this.registerClass(\"depth_linear_noshader\", DepthLinearNoShader);\r\n    }\r\n\r\n    protected create(): void {\r\n        let split1 = this.addSplit(\"depth_nonlinear_shader\", \"Non linear depth\") as DepthNonLinearShader;\r\n\r\n        split1.initialize();\r\n\r\n        let split2 = this.addSplit(\"depth_linear_shader\", \"Linear depth\") as DepthLinearShader;\r\n\r\n        split2.initialize();\r\n\r\n        /*let split3 = this.addSplit(\"depth_linear_noshader\", \"s3\") as DepthLinearNoShader;\r\n\r\n        split3.initialize();*/\r\n    }\r\n\r\n    public createNewSplit(): void {\r\n    }\r\n\r\n    protected createSceneAndCamera(attachControls: boolean): [Scene, UniversalCamera] {\r\n        const [scene, camera] = super.createSceneAndCamera(attachControls);\r\n\r\n        scene.clearColor = this._clearColor;\r\n        scene.autoClear = false;\r\n\r\n        camera.angularSensibility = 1500;\r\n\r\n        return [scene, camera];\r\n    }\r\n\r\n}\r\n\r\nSample.registerSampleClass(\"sketchfabmarkers\", {\r\n    \"displayName\": \"Show front-facing markers as in Sketchfab\",\r\n    \"description\": \"\",\r\n    \"class\": CSMSample,\r\n});\r\n","import {\r\n    Scene,\r\n    UniversalCamera,\r\n} from \"babylonjs\";\r\n\r\nimport SplitGUI from \"./SplitGUI\";\r\nimport Sample from \"./Sample\";\r\n\r\nexport default class Split {\r\n\r\n    public static className: string = \"Split\";\r\n\r\n    public scene:           Scene;\r\n    public camera:          UniversalCamera;\r\n    public name:            string;\r\n    public isLoading:       boolean;\r\n    public group:           number;\r\n    public gui:             SplitGUI | null;\r\n\r\n    protected _container:   Sample;\r\n\r\n    constructor(scene: Scene, camera: UniversalCamera, parent: Sample, name: string = \"default\") {\r\n        this.scene = scene;\r\n        this.camera = camera;\r\n        this.name = name;\r\n        this.isLoading = false;\r\n        this.group = 0;\r\n        this._container = parent;\r\n        this.gui = new SplitGUI(this.name, this.scene.getEngine(), this._container, this);\r\n    }\r\n\r\n    public render(): void {\r\n        this.scene.render();\r\n    }\r\n\r\n    public createGUI(): void {\r\n        this.gui!.createGUI();\r\n    }\r\n\r\n}\r\n","import {\r\n    Engine,\r\n} from \"babylonjs\";\r\n\r\nimport GUI from \"./GUI\";\r\nimport Sample from \"./Sample\";\r\nimport Split from \"./Split\";\r\n\r\nexport default class SplitGUI extends GUI {\r\n\r\n    protected _container:   Sample;\r\n    protected _parent:      Split;\r\n\r\n    constructor(name: string, engine: Engine, container: Sample, parent: Split) {\r\n        super(name, engine);\r\n\r\n        this._container = container;\r\n        this._parent = parent;\r\n    }\r\n\r\n    public getBounds(): { x: number, y: number, w: number, h: number } {\r\n        return this._container.getSplitBounds(this._parent);\r\n    }\r\n\r\n    public canClose(): boolean {\r\n        return this._container.splitNumber > 1;\r\n    }\r\n\r\n    public closed(): void {\r\n        this._container.removeSplit(this._parent);\r\n    }\r\n\r\n}\r\n","import {\r\n    Scene,\r\n    Vector3,\r\n    UniversalCamera,\r\n    PointLight,\r\n    Color3,\r\n    CubeTexture,\r\n    SceneLoader,\r\n    ArcRotateCamera,\r\n    PBRMaterial,\r\n    DebugLayer,\r\n    Engine,\r\n    Nullable,\r\n    HemisphericLight,\r\n    MeshBuilder,\r\n    StandardMaterial,\r\n    Texture,\r\n    Material,\r\n    Mesh,\r\n} from \"babylonjs\";\r\n\r\nimport {\r\n    AdvancedDynamicTexture,\r\n    Checkbox,\r\n    TextBlock,\r\n    Control,\r\n    Container,\r\n    Button,\r\n    Grid,\r\n    StackPanel,\r\n    RadioButton,\r\n    Slider,\r\n} from \"babylonjs-gui\";\r\n\r\nimport SampleBasic from \"../SampleBasic\";\r\n\r\nexport default class Transparency extends SampleBasic {\r\n\r\n    protected populateScene(scene: Scene, camera: UniversalCamera) {\r\n        camera.position = new Vector3(0, 5, -10);\r\n        camera.setTarget(Vector3.Zero());\r\n\r\n        var light = new HemisphericLight(\"light\", new Vector3(0, 1, 0), scene);\r\n\r\n        light.intensity = 0.7;\r\n\r\n        MeshBuilder.CreateGround(\"ground\", {width: 6, height: 6}, scene);\r\n\r\n        // Sphere with std material (on the left)\r\n        var sphereStd = MeshBuilder.CreateSphere(\"Standard\", {diameter: 2, segments: 32}, scene);\r\n\r\n        sphereStd.position.y = 1;\r\n        sphereStd.position.x = -1.5;\r\n\r\n        var matStd = new StandardMaterial(\"matstd\", scene);\r\n\r\n        sphereStd.material = matStd;\r\n\r\n        matStd.diffuseTexture = new Texture(\"resources/texture/cloud.png\", scene);\r\n        matStd.diffuseTexture.hasAlpha = true;\r\n        matStd.useAlphaFromDiffuseTexture = true;\r\n        matStd.useSpecularOverAlpha = true;\r\n        matStd.alphaCutOff = 0.4;\r\n\r\n        // Sphere with PBR material (on the right)\r\n        var spherePbr = MeshBuilder.CreateSphere(\"PBR\", {diameter: 2, segments: 32}, scene);\r\n\r\n        spherePbr.position.y = 1;\r\n        spherePbr.position.x = 1.5;\r\n\r\n        var matPbr = new PBRMaterial(\"matpbr\", scene);\r\n\r\n        spherePbr.material = matPbr;\r\n\r\n        matPbr.metallic = 1.0;\r\n        matPbr.roughness = 0.4;\r\n\r\n        matPbr.albedoTexture = new Texture(\"resources/texture/cloud.png\", scene);\r\n        matPbr.albedoTexture.hasAlpha = true;\r\n        matPbr.useAlphaFromAlbedoTexture = true;\r\n        matPbr.alphaCutOff = 0.4;\r\n\r\n        this.makeGUI([matStd, matPbr], [sphereStd, spherePbr]);\r\n\r\n        return scene;\r\n    }\r\n\r\n    private makeGUI(materials: Array<Material>, meshes: Array<Mesh>) {\r\n        var advancedTexture = AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n\r\n        var grid = new Grid(\"grid\");\r\n\r\n        grid.addColumnDefinition(220, true);\r\n        grid.addColumnDefinition(300, true);\r\n        grid.addColumnDefinition(300, true);\r\n\r\n        advancedTexture.addControl(grid);\r\n\r\n        var stack = new StackPanel(\"panel\");\r\n\r\n        stack.left = \"10px\";\r\n        stack.isVertical = true;\r\n        stack.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stack.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n        grid.addControl(stack, 0, 0);\r\n\r\n        // transparencyMode\r\n        var addRadio = function(text: string, parent: Container, val: number | null) {\r\n            var button = new RadioButton();\r\n            button.width = \"35px\";\r\n            button.height = \"20px\";\r\n            button.color = \"white\";\r\n            button.background = \"green\";\r\n            button.isChecked = val == materials[0].transparencyMode;\r\n            button.group = \"g1\";\r\n            button.paddingLeft = \"15px\";\r\n\r\n            button.onIsCheckedChangedObservable.add((state) => {\r\n                if (state) {\r\n                    materials.forEach((mat) => mat.transparencyMode = val);\r\n                }\r\n            });\r\n\r\n            var header = Control.AddHeader(button, text, \"250px\", { isHorizontal: true, controlFirst: true });\r\n            header.height = \"25px\";\r\n            header.color = \"white\";\r\n            header.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\r\n            parent.addControl(header);\r\n        };\r\n\r\n        var header = new TextBlock();\r\n\r\n        header.text = \"Transparency mode:\";\r\n        header.width = \"180px\";\r\n        header.height = \"25px\";\r\n        header.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        header.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.color = \"white\";\r\n\r\n        stack.addControl(header);\r\n\r\n        addRadio(\"null\", stack, null);\r\n        addRadio(\"Opaque\", stack, 0);\r\n        addRadio(\"Alpha Test\", stack, 1);\r\n        addRadio(\"Alpha Blend\", stack, 2);\r\n        addRadio(\"Alpha Test + Blend\", stack, 3);\r\n\r\n        // alpha\r\n        var stack2 = new StackPanel(\"panel2\");\r\n\r\n        stack2.left = \"10px\";\r\n        stack2.isVertical = true;\r\n        stack2.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        stack2.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n        grid.addControl(stack2, 0, 1);\r\n\r\n        var headerAlpha = new TextBlock();\r\n\r\n        headerAlpha.text = \"Alpha: \" + materials[0].alpha;\r\n        headerAlpha.height = \"25px\";\r\n        headerAlpha.color = \"white\";\r\n        headerAlpha.paddingLeft = \"70px\";\r\n        headerAlpha.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        headerAlpha.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\r\n        stack2.addControl(headerAlpha);\r\n\r\n        var slider = new Slider();\r\n\r\n        slider.minimum = 0;\r\n        slider.maximum = 1;\r\n        slider.value = 1;\r\n        slider.height = \"20px\";\r\n        slider.width = \"200px\";\r\n        slider.color = \"green\";\r\n        slider.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        slider.onValueChangedObservable.add(function(value) {\r\n            headerAlpha.text = \"Alpha: \" + value;\r\n            materials.forEach((mat) => mat.alpha = value);\r\n        });\r\n\r\n        stack2.addControl(slider);\r\n\r\n        // alpha cut off\r\n        var headerAlphaC = new TextBlock();\r\n\r\n        headerAlphaC.text = \"Alpha Cut Off: \" + (materials[0] as any).alphaCutOff;\r\n        headerAlphaC.height = \"25px\";\r\n        headerAlphaC.color = \"white\";\r\n        headerAlphaC.paddingLeft = \"10px\";\r\n        headerAlphaC.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        headerAlphaC.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\r\n        stack2.addControl(headerAlphaC);\r\n\r\n        slider = new Slider();\r\n\r\n        slider.minimum = 0;\r\n        slider.maximum = 1;\r\n        slider.value = (materials[0] as any).alphaCutOff;\r\n        slider.height = \"20px\";\r\n        slider.width = \"200px\";\r\n        slider.color = \"green\";\r\n        slider.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        slider.onValueChangedObservable.add(function(value) {\r\n            headerAlphaC.text = \"Alpha Cut Off: \" + value;\r\n            materials.forEach((mat) => (mat as any).alphaCutOff = value);\r\n        });\r\n\r\n        stack2.addControl(slider);\r\n\r\n        // use alpha from texture\r\n        var checkbox = new Checkbox();\r\n\r\n        checkbox.width = \"20px\";\r\n        checkbox.height = \"20px\";\r\n        checkbox.isChecked = (materials[0] as any).useAlphaFromDiffuseTexture;\r\n        checkbox.color = \"green\";\r\n        checkbox.onIsCheckedChangedObservable.add(function(value) {\r\n            (materials[0] as any).useAlphaFromDiffuseTexture = value;\r\n            (materials[1] as any).useAlphaFromAlbedoTexture = value;\r\n        });\r\n\r\n        header = Control.AddHeader(checkbox, \"Use alpha from texture\", \"190px\", { isHorizontal: true, controlFirst: false });\r\n\r\n        header.height = \"35px\";\r\n        header.color = \"white\";\r\n        header.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\r\n        stack2.addControl(header);\r\n\r\n        // mesh visibility\r\n        var headerVisibility = new TextBlock();\r\n\r\n        headerVisibility.text = \"Mesh visibility: \" + meshes[0].visibility;\r\n        headerVisibility.height = \"50px\";\r\n        headerVisibility.color = \"white\";\r\n        headerVisibility.paddingLeft = \"20px\";\r\n        headerVisibility.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        headerVisibility.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n\r\n        stack2.addControl(headerVisibility);\r\n\r\n        slider = new Slider();\r\n\r\n        slider.minimum = 0;\r\n        slider.maximum = 1;\r\n        slider.value = 1;\r\n        slider.height = \"20px\";\r\n        slider.width = \"200px\";\r\n        slider.color = \"green\";\r\n        slider.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        slider.onValueChangedObservable.add(function(value) {\r\n            headerVisibility.text = \"Mesh visibility: \" + value;\r\n            meshes.forEach((m) => m.visibility = value);\r\n        });\r\n\r\n        stack2.addControl(slider);\r\n\r\n        // strict transparency mode\r\n        /*var checkbox = new Checkbox();\r\n\r\n        checkbox.width = \"20px\";\r\n        checkbox.height = \"20px\";\r\n        checkbox.isChecked = materials[0].strictTransparencyMode;\r\n        checkbox.color = \"green\";\r\n        checkbox.onIsCheckedChangedObservable.add(function(value) {\r\n            materials.forEach((mat) => mat.strictTransparencyMode = value);\r\n        });\r\n\r\n        header = Control.AddHeader(checkbox, \"Strict transparency mode\", \"210px\", { isHorizontal: true, controlFirst: false });\r\n\r\n        header.height = \"35px\";\r\n        header.color = \"white\";\r\n        header.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n        grid.addControl(header, 0, 2);*/\r\n\r\n        // mesh labels\r\n        meshes.forEach((m) => {\r\n            let btn = Button.CreateSimpleButton(m.name, m.name);\r\n\r\n            btn.width = \"150px\";\r\n            btn.height = \"35px\";\r\n            btn.color = \"white\";\r\n            btn.background = \"green\";\r\n            btn.cornerRadius = 10;\r\n\r\n            advancedTexture.addControl(btn);\r\n\r\n            btn.linkWithMesh(m);\r\n            btn.linkOffsetY = 160;\r\n        });\r\n    }\r\n}\r\n\r\nSampleBasic.registerSampleClass(\"transparency\", {\r\n    \"displayName\": \"Test of the transparency/alpha properties\",\r\n    \"description\": \"\",\r\n    \"class\": Transparency,\r\n});\r\n","import {\r\n    Color3,\r\n    CubeTexture,\r\n    Mesh,\r\n    MeshBuilder,\r\n    SceneLoader,\r\n    StandardMaterial,\r\n    Scene\r\n} from \"babylonjs\";\r\n\r\nimport {\r\n    OBJFileLoader\r\n} from \"babylonjs-loaders\";\r\n\r\nexport default class Utils {\r\n\r\n    public static XMScalarModAngle(angle: number): number {\r\n        // Normalize the range from 0.0f to XM_2PI\r\n        angle = angle + Math.PI;\r\n\r\n        // Perform the modulo, unsigned\r\n        let fTemp = Math.abs(angle);\r\n\r\n        const PIPI = Math.PI * 2;\r\n\r\n        fTemp = fTemp - (PIPI * Math.floor(fTemp / PIPI));\r\n\r\n        // Restore the number to the range of -XM_PI to XM_PI-epsilon\r\n        fTemp = fTemp - Math.PI;\r\n\r\n        // If the modulo'd value was negative, restore negation\r\n        if (angle < 0.0) {\r\n            fTemp = -fTemp;\r\n        }\r\n\r\n        return fTemp;\r\n    }\r\n\r\n    public static addSkybox(skyboxName: string = \"Runyon_Canyon_A_2k_cube_specular.dds\", scene: Scene, size: number = 1000): Mesh {\r\n        const skybox = MeshBuilder.CreateBox(\"skyBox\", { size: size }, scene);\r\n        const skyboxMaterial = new StandardMaterial(\"skyBox\", scene);\r\n\r\n        skyboxMaterial.backFaceCulling = false;\r\n        skyboxMaterial.reflectionTexture = new CubeTexture(\"resources/texture/\" + skyboxName, scene);\r\n        skyboxMaterial.reflectionTexture!.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n        skyboxMaterial.diffuseColor = new Color3(0, 0, 0);\r\n        skyboxMaterial.specularColor = new Color3(0, 0, 0);\r\n        skyboxMaterial.disableLighting = true;\r\n        skyboxMaterial.disableDepthWrite = true;\r\n\r\n        skybox.material = skyboxMaterial;\r\n        skybox.alwaysSelectAsActiveMesh = true;\r\n\r\n        return skybox;\r\n    }\r\n\r\n    public static async loadObj(scene: Scene, path: string, name: string) {\r\n        //OBJFileLoader.COMPUTE_NORMALS = true;\r\n        //OBJFileLoader.INVERT_Y  = false;\r\n        OBJFileLoader.OPTIMIZE_WITH_UV = true;\r\n        OBJFileLoader.MATERIAL_LOADING_FAILS_SILENTLY = false;\r\n        OBJFileLoader.INVERT_TEXTURE_Y  = false;\r\n\r\n        return SceneLoader.AppendAsync(path, name, scene);\r\n    }\r\n\r\n}\r\n","import \"./CSM/index\";\r\nimport \"./CSM2/index\";\r\nimport \"./DepthMinMax/index\";\r\nimport \"./DrawEdges/index\";\r\nimport \"./Raymarching/index\";\r\nimport \"./RTTAndPostProcess/index\";\r\nimport \"./ScrollViewer/index\";\r\nimport \"./ScrollViewer2/index\";\r\nimport \"./Sheen/index\";\r\nimport \"./SketchfabMarkers/index\";\r\nimport \"./Transparency/index\";\r\n","module.exports = MaterialUI;","module.exports = MaterialUI.colors;","module.exports = BABYLON;","module.exports = jQuery;","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}